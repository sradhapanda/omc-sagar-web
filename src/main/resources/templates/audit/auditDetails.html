<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/master}">
<head>

<style type="text/css">
#loader {
	z-index: 9999 ! important;
}

.example-image-link {
	position: relative;
	bottom: 9px;
}

.stylishrow {
	background: #e6e2fd;
	height: auto;
	border: 1px dotted #f00;
	margin: 4px 0px;
	border-radius: 5px;
	color: #000;
	/* padding:; */
}

.upload-btn-wrapper {
	position: relative;
	overflow: hidden;
	display: inline-block;
	right: -18px;
}

.btm-section {
	background-color: #eee;
	padding: 5px;
	margin: 20px 0px;
}

.btm-section i {
	font-size: 18px;
	color: #f43b03;
	margin: 3px 0px;
	cursor: pointer;
}

.icon-text {
	font-size: 16px;
	color: #000;
	font-weight: 500;
}

.btn-txtlft {
	text-align: left !important;
}

.accordion-toggle:after {
	font-family: 'FontAwesome';
	content: "\f078";
	float: right;
}

.accordion-opened .accordion-toggle:after {
	content: "\f054";
}

h5 {
	font-size: 14px;
	color: #06a74f;
	padding: 8px 0px;
}

.heading {
	/* background:#f5f5f5; */
	font-weight: bold;
	color: #000000;
	text-align: left;
	padding: 5px;
}

.text {
	padding: 5px;
	color: #444;
}

.paraheading {
	color: #931b1e;
	padding: 10px 0px;
	font-size: 16px;
	font-weight: bold;
}

.docheading {
	color: #106436;
	padding: 10px 0px;
	font-size: 16px;
	font-weight: bold;
}

.pdf {
	color: #F00;
}

.excel {
	color: #027d39;
}

.word {
	color: #024a7d;
}

.uniqueBg {
	margin: 10px;
	background: #f5f5f5;
	border-bottom: 1px solid #ccc;
}

.additionalinfo {
	border-bottom: 1px solid #ccc;
	margin-bottom: 4px;
	text-align: justify;
}

.cordinator span {
	font-size: 12px;
}

.timeline {
	position: relative;
	margin: 10px 0 40px 0;
	padding: 0;
	list-style: none;
}

.bg-color {
	background-color: #f3f3f3;
}

.timeline:before {
	content: '';
	position: absolute;
	top: 0;
	bottom: 0;
	width: 4px;
	background: #ddd;
	left: 31px;
	margin: 0;
	border-radius: 2px;
}

.timeline>li {
	position: relative;
	margin-right: 10px;
	margin-bottom: 15px;
}

.timeline>li:before, .timeline>li:after {
	content: " ";
	display: table;
}

.timeline>li:after {
	clear: both;
}

.timeline>li>.timeline-item {
	-webkit-box-shadow: 0 1px 1px rgba(0, 0, 0, 0.1);
	box-shadow: 0 1px 1px rgba(0, 0, 0, 0.1);
	border-radius: 3px;
	margin-top: 0;
	background: #fff;
	color: #444;
	margin-left: 60px;
	margin-right: 15px;
	padding: 0;
	position: relative;
}

.timeline>li>.timeline-item>.time {
	color: #999;
	float: right;
	padding: 10px 2px;
	font-size: 12px;
}

.timeline>li>.timeline-item>.timeline-header {
	margin: 0;
	color: #555;
	border-bottom: 1px solid #f4f4f4;
	padding: 10px 2px;
	font-size: 16px;
	line-height: 1.1;
}

.timeline>li>.timeline-item>.timeline-header>a {
	font-weight: 600;
}

.timeline>li>.timeline-item>.timeline-body, .timeline>li>.timeline-item>.timeline-footer
	{
	padding: 10px;
}

.timeline>li>.fa, .timeline>li>.glyphicon, .timeline>li>.ion {
	width: 30px;
	height: 30px;
	font-size: 15px;
	line-height: 30px;
	position: absolute;
	color: #FFF;
	background: #d2d6de;
	border-radius: 50%;
	text-align: center;
	left: 18px;
	top: 0;
}

.timeline>.time-label>span {
	font-weight: 600;
	padding: 5px;
	display: inline-block;
	background-color: #fff;
	border-radius: 4px;
}

.timeline-inverse>li>.timeline-item {
	background: #f0f0f0;
	border: 1px solid #ddd;
	-webkit-box-shadow: none;
	box-shadow: none;
}

.timeline-inverse>li>.timeline-item>.timeline-header {
	border-bottom-color: #ddd;
}

.txt_white {
	color: #FFF;
}

.paddingless {
	padding: 0 !important;
}

.select-pure__select {
	align-items: center;
	border-radius: 4px;
	border: 1px solid rgba(0, 0, 0, 0.15);
	box-shadow: 0 2px 4px rgba(0, 0, 0, 0.04);
	box-sizing: border-box;
	color: #363b3e;
	cursor: pointer;
	display: flex;
	font-size: 9px;
	font-weight: 500;
	justify-content: left;
	min-height: 44px;
	padding: 5px 10px;
	position: relative;
	transition: 0.2s;
	width: 100%;
	background: #FFF;
}

.select-pure__options {
	border-radius: 4px;
	border: 1px solid rgba(0, 0, 0, 0.15);
	box-shadow: 0 2px 4px rgba(0, 0, 0, 0.04);
	box-sizing: border-box;
	color: #363b3e;
	display: none;
	left: 0;
	max-height: 221px;
	overflow-y: scroll;
	position: absolute;
	top: 50px;
	width: 100%;
	z-index: 5;
}

.select-pure__select--opened .select-pure__options {
	display: block;
}

.select-pure__option {
	background: #fff;
	border-bottom: 1px solid #e4e4e4;
	box-sizing: border-box;
	height: 44px;
	line-height: 25px;
	padding: 10px;
}

.select-pure__option--disabled {
	color: #e4e4e4;
}

.select-pure__option--selected {
	color: #e4e4e4;
	cursor: initial;
	pointer-events: none;
}

.select-pure__option--hidden {
	display: none;
}

.select-pure__selected-label {
	align-items: 'center';
	background: #931b1e;
	border-radius: 4px;
	color: #fff;
	cursor: initial;
	display: inline-flex;
	justify-content: 'center';
	margin: 5px 10px 5px 0;
	padding: 3px 7px;
}

.select-pure__selected-label:last-of-type {
	margin-right: 0;
}

.select-pure__selected-label i {
	cursor: pointer;
	display: inline-block;
	margin-left: 7px;
}

.select-pure__selected-label img {
	cursor: pointer;
	display: inline-block;
	height: 18px;
	margin-left: 7px;
	width: 14px;
}

.select-pure__selected-label i:hover {
	color: #e4e4e4;
}

.select-pure__autocomplete {
	background: #f9f9f8;
	border-bottom: 1px solid #e4e4e4;
	border-left: none;
	border-right: none;
	border-top: none;
	box-sizing: border-box;
	font-size: 16px;
	outline: none;
	padding: 10px;
	width: 100%;
}

.select-pure__placeholder--hidden {
	display: none;
}

/* .checkbox_l
{
float:left;
width:15px;
} */
.checkboxtext {
	position: relative;
	bottom: 3px;
	/* float: left;
    position: relative;
    left: 20px;
    top: -6px; */
}

.icon-position {
	position: absolute;
	right: 60px;
}

.upload_file_icon {
	text-align: right;
	margin-top: 10px;
	margin-left: 20px;
}

.file_upload_box {
	width: 160px;
	margin: 0 auto;
}

.add_more_plus {
	position: absolute;
	right: 0px;
	bottom: -11px;
	/* background: #43d314; */
	padding: 7px 12px;
	border-radius: 20px;
	color: #090;
	font-size: 24px;
	cursor: pointer;
}

.add_more_minus {
	position: absolute;
	right: 30px;
	bottom: -11px;
	/* background: #43d314; */
	padding: 7px 12px;
	border-radius: 20px;
	color: #f3ba16;
	font-size: 24px;
	cursor: pointer;
}

.search-choice1 {
	position: relative;
	margin: 3px 5px 3px 0;
	padding: 3px 20px 3px 5px;
	border: 1px solid #aaa;
	max-width: 100%;
	border-radius: 3px;
	background-color: #eee;
	background-image: -webkit-gradient(linear, left top, left bottom, color-stop(20%, #f4f4f4),
		color-stop(50%, #f0f0f0), color-stop(52%, #e8e8e8), to(#eee));
	background-image: linear-gradient(#f4f4f4 20%, #f0f0f0 50%, #e8e8e8 52%, #eee 100%);
	background-size: 100% 19px;
	background-repeat: repeat-x;
	background-clip: padding-box;
	-webkit-box-shadow: 0 0 2px #fff inset, 0 1px 0 rgb(0 0 0/ 5%);
	box-shadow: 0 0 2px #fff inset, 0 1px 0 rgb(0 0 0/ 5%);
	color: #333;
	line-height: 13px;
	cursor: default;
}

.out-box{
  background-color: #eee;
  padding: 10px;
  border-radius: 5px;
}

</style>


<link rel="stylesheet" type="text/css"
	href="https://cdnjs.cloudflare.com/ajax/libs/slim-select/1.26.0/slimselect.min.css"></link>
<script
	src="../../plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.all.min.js"></script>
<!-- <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/slim-select/1.26.0/slimselect.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/slim-select/1.26.1/slimselect.js"></script>
 -->
<!-- bikash pdf -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.4/jspdf.min.js"></script>
<!-- <script type="text/javascript">
    var jq144 = jQuery.noConflict(true);
</script> -->
<!--   <link rel="stylesheet" href="../assets/js/js/chosen.css"> -->
<!-- end -->


<script type="text/javascript">

$(document).ready(function(){
	$("#dataexp").selectize({
		  plugins: ["drag_drop"],
		  delimiter: ",",
		  persist: false,
		  create: function (input) {
		    return {
		      value: input,
		      text: input,
		    };
		  },
		});
})

//For Section Message 
function viewMore(event) {
 var currentFldId = event.currentTarget.getAttribute('id');
 var l = currentFldId.split("_");
 var countSection=l[1];
 var counter = l[2];
 var count = 1 + parseInt(counter);
 $("#downliReq_"+countSection+'_'+ count).show();
 $("#downReq_" +countSection+'_'+ count).show();
 $("#newReplay_"+ count).show();
 $("#newAssign_"+ count).show();

 var len = parseInt($("#reqView").val());

	var indx=len-1;
if(count = indx){
	  $("#more_" +countSection+'_'+ count).hide();
}
	 $("#more_"+ countSection+'_'+ counter).hide();
	    
}
var temp = 1;

function viewLess(event) {
 var currentFldId = event.currentTarget.getAttribute('id');
 var l = currentFldId.split("_");
 var countSection=l[1];
 var counter = l[2];

 var count = parseInt(counter);
 var count1 = parseInt(counter) - temp;
 $("#downliReq_"+countSection+'_' + count).hide();
 $("#downReq_" +countSection+'_'+ count).hide();
 
 if (counter != 1) {
     $("#more_" +countSection+'_'+ count1).show();
 }
 $("#more_" +countSection+'_'+ count1).show();


}

//For Auditor Requisition
function viewMoreAudiReq(event) {
    var currentFldId = event.currentTarget.getAttribute('id');
    var l = currentFldId.split("_");
    var counter = l[1];
    var count = 1 + parseInt(counter);
   
    $("#downliAudiReq_" + count).show();
    $("#downAudiReq_" + count).show();
   var len = parseInt($("#audiReq").val());
	var indx=len-1; 
   if(count = indx){
	   $("#moreAudiReq_" + count).hide();
   }
   $("#moreAudiReq_" + counter).hide();
	    
}
var temp = 1;

function viewLessAudiReq(event) {
    var currentFldId = event.currentTarget.getAttribute('id');
    var l = currentFldId.split("_");
    var counter = l[1];
    var count = parseInt(counter);
    var count1 = parseInt(counter) - temp;
    $("#downliAudiReq_" + count).hide();
    $("#downAudiReq_" + count).hide();
    $("#lessAudiReq_0").hide();
    if (counter != 1) {
        $("#moreAudiReq_" + count1).show();
    }
    $("#moreAudiReq_" + count1).show();


}
//For Auditor Query
function viewMoreQuery(event) {
    var currentFldId = event.currentTarget.getAttribute('id');
    var l = currentFldId.split("_");
    var counter = l[1];
    var count = 1 + parseInt(counter);
   
    $("#downliQuery_" + count).show();
    $("#downQuery_" + count).show();
   var len = parseInt($("#auditQuery").val());
	var indx=len-1; 
   if(count = indx){
	   $("#moreQuery_" + count).hide();
   }
   $("#moreQuery_" + counter).hide();
	    
}
var temp = 1;

function viewLessQuery(event) {
    var currentFldId = event.currentTarget.getAttribute('id');
    var l = currentFldId.split("_");
    var counter = l[1];
    var count = parseInt(counter);
    var count1 = parseInt(counter) - temp;
    $("#downliQuery_" + count).hide();
    $("#downQuery_" + count).hide();
    $("#lessQuery_0").hide();
    if (counter != 1) {
        $("#moreQuery_" + count1).show();
    }
    $("#moreQuery_" + count1).show();


}

//For Auditor Query
function viewMorePom(event) {
    var currentFldId = event.currentTarget.getAttribute('id');
    var l = currentFldId.split("_");
    var counter = l[1];
    var count = 1 + parseInt(counter);
   
    $("#downliPom_" + count).show();
    $("#downPom_" + count).show();
   var len = parseInt($("#auditPom").val());
	var indx=len-1; 
   if(count = indx){
	   $("#morePom_" + count).hide();
   }
   $("#morePom_" + counter).hide();
	    
}
var temp = 1;

function viewLessPom(event) {
    var currentFldId = event.currentTarget.getAttribute('id');
    var l = currentFldId.split("_");
    var counter = l[1];
    var count = parseInt(counter);
    var count1 = parseInt(counter) - temp;
    $("#downliPom_" + count).hide();
    $("#downPom_" + count).hide();
    $("#lessPom_0").hide();
    if (counter != 1) {
        $("#morePom_" + count1).show();
    }
    $("#morePom_" + count1).show();


}


		
$(function () {
	
	var xi = $("#auditInitiated").val();
	
	//All section requisition hide
	$( ".time-label" ).hide();
	$( ".time-labelInn" ).hide();
	// Auditor Requisiton hide
	$( ".auditRequisitionLine" ).hide();
	$( ".auditReqSecLine" ).hide();
	// Auditor Query hide
	$( ".queryFirst" ).hide();
	$( ".querySecond" ).hide();
	// Auditor POM hide
	$( ".pomFirst" ).hide();
	$( ".pomSecond" ).hide();
	
	//First line show
	var noOfSection=$("#noOfSection").val();
	
	 for(var i = 0; i < noOfSection; i++) {
		$( "#downliReq_"+i+"_0" ).show();
		$( "#downReq_"+i+"_0" ).show();	
		$( "#less_"+i+"_0").hide();	
		
		if(parseInt($("#reqView").val()) == 1){
			$( "#more_"+i+"_0").hide();	
    	   }
	 }
	
	
	
	
	
	//for Auditor Requisition 
	$( "#downliAudiReq_0" ).show();
	$( "#downAudiReq_0" ).show();
	//Auditor Query
	$( "#downliQuery_0" ).show();
	$( "#downQuery_0" ).show();
	
	//POM Show
	
	$( "#downliPom_0" ).show();
	$( "#downPom_0" ).show();
	
	
	//first Button minus hide
	
	$( "#lessAudiReq_0").hide();
	$( "#lessQuery_0").hide();
	$( "#lessPom_0").hide();
		
		 $('#multiple').chosen(); 
		
		 $('#multiple8').chosen(); 
		 
		 $('#multiple81').chosen(); 
		
		 $('#autocomplete-select').chosen(); 
		 
		 $('#modalautocomplete-select').chosen(); 
		 
		 $('#modalautocomplete-select1').chosen(); 
		
		 $('#autocomplete-select1').chosen(); 
		 
		 $('#autocomplete-select21').chosen(); 
		
		 $('#autocomplete-select22').chosen(); 
		 
		 $('#autocomplete-select31').chosen(); 
		 
		 $('#autocomplete-select32').chosen(); 
		
		 $('#autocomplete-select111').chosen(); 
		 
		 $('#autocomplete-select112').chosen(); 
		
		 $('#autocomplete-select121').chosen();
		 
		 $('#autocomplete-select122').chosen(); 
		 
		 $('#autocomplete-select41').chosen(); 
		 
		 $('#autocomplete-select42').chosen(); 
		 
		 $('#autocomplete-selectPOM').chosen();
		 
		 $('#autocomplete-selectPOM1').chosen(); 
		 
		 $('#autocomplete-selectIRS').chosen(); 
		
		 $('#autocomplete-selectIRS1').chosen();
		 
		 $('#autocomplete-selectPARA').chosen(); 
		 
		 $('#autocomplete-selectPARA1').chosen(); 

		 $('#autocomplete-selectRevert').chosen(); 
		 
		 $('#autocomplete-selectRevert1').chosen(); 
		
		 $('#autocomplete-selectFin').chosen(); 
		
		 $('#autocomplete-selectFin1').chosen();
		 
		 $('#autocomplete-selectObs').chosen();
		 
		 $('#autocomplete-selectObs1').chosen(); 
		
		 $('#autocomplete-select61').chosen();
		 
		 $('#autocomplete-select62').chosen();
		  
	     $('#autocomplete-select71').chosen();
	    
	     $('#autocomplete-select72').chosen();
	     
	     $('#autocomplete-select141').chosen();
	     
	     $('#autocomplete-select142').chosen();
	     
	     $('#autocomplete-select81').chosen();
	     
	     $('#autocomplete-select82').chosen();
	    
	     $('#autocomplete-select131').chosen();
	    
	     $('#autocomplete-select132').chosen();
		
	     $('#autocomplete-select51').chosen(); 
	     
		 $('#autocomplete-select52').chosen(); 
		 
		 $('#autocomplete-selectQus').chosen();
		
	     $('#autocomplete-selectQus1').chosen();
	    
		 $('#autocomplete-selectIrs').chosen(); 
		 
		 $('#autocomplete-selectIrs1').chosen();
		
	     $('#autocomplete-selectPara').chosen(); 
	     
		 $('#autocomplete-selectPara1').chosen(); 
		
		 $('#autocomplete-selectDraftPara').chosen(); 
		 
		 $('#autocomplete-selectDraftPara1').chosen(); 
		
		 $('#autocomplete-selectNEWPARA').chosen(); 
		
		 $('#autocomplete-selectNEWPARA1').chosen(); 
		 
		 CKEDITOR.replace('comment', {
		      height: 250,
		      removePlugins: 'wsc',
		      scayt_autoStartup: true,		     
		      scayt_maxSuggestions: 3
		    });
		 
		 CKEDITOR.replace('modalcomment', {
		      height: 250,
		      removePlugins: 'wsc',
		      scayt_autoStartup: true,		     
		      scayt_maxSuggestions: 3
		    });
		 
		
		 CKEDITOR.replace('entryMeeting', {
		      height: 250,
		      removePlugins: 'wsc',
		      scayt_autoStartup: true,		     
		      scayt_maxSuggestions: 3
		    });
		 CKEDITOR.replace('commentNote', {
		      height: 250,
		      removePlugins: 'wsc',
		      scayt_autoStartup: true,		     
		      scayt_maxSuggestions: 3
		    });
		 CKEDITOR.replace('commentRes', {
		      height: 250,
		      removePlugins: 'wsc',
		      scayt_autoStartup: true,		     
		      scayt_maxSuggestions: 3
		    });

		 CKEDITOR.replace('commentForward', {
		      height: 250,
		      removePlugins: 'wsc',
		      scayt_autoStartup: true,		     
		      scayt_maxSuggestions: 3
		    });
		 CKEDITOR.replace('assignComment', {
		      height: 250,
		      removePlugins: 'wsc',
		      scayt_autoStartup: true,		     
		      scayt_maxSuggestions: 3
		    });
		 CKEDITOR.replace('rejectReq', {
		      height: 250,
		      removePlugins: 'wsc',
		      scayt_autoStartup: true,		     
		      scayt_maxSuggestions: 3
		    });
		 CKEDITOR.replace('forwardObsComment', {
		      height: 250,
		      removePlugins: 'wsc',
		      scayt_autoStartup: true,		     
		      scayt_maxSuggestions: 3
		    });
		 CKEDITOR.replace('commentObsId', {
		      height: 250,
		      removePlugins: 'wsc',
		      scayt_autoStartup: true,		     
		      scayt_maxSuggestions: 3
		    });
		 CKEDITOR.replace('commentCompliance', {
		      height: 250,
		      removePlugins: 'wsc',
		      scayt_autoStartup: true,		     
		      scayt_maxSuggestions: 3
		    });
	
		 CKEDITOR.replace('seniorComment', {
		      height: 250,
		      removePlugins: 'wsc',
		      scayt_autoStartup: true,		     
		      scayt_maxSuggestions: 3
		    });
		 CKEDITOR.replace('coFrdCommnt', {
		      height: 250,
		      removePlugins: 'wsc',
		      scayt_autoStartup: true,		     
		      scayt_maxSuggestions: 3
		    });
		 CKEDITOR.replace('auditorForwardComment', {
		      height: 250,
		      removePlugins: 'wsc',
		      scayt_autoStartup: true,		     
		      scayt_maxSuggestions: 3
		    });
	
		 CKEDITOR.replace('remarkComment', {
		      height: 250,
		      removePlugins: 'wsc',
		      scayt_autoStartup: true,		     
		      scayt_maxSuggestions: 3
		    });
	
		 CKEDITOR.replace('assignObsComment', {
		      height: 250,
		      removePlugins: 'wsc',
		      scayt_autoStartup: true,		     
		      scayt_maxSuggestions: 3
		    });
		 CKEDITOR.replace('AuditorComment', {
		      height: 250,
		      removePlugins: 'wsc',
		      scayt_autoStartup: true,		     
		      scayt_maxSuggestions: 3
		    });
		 CKEDITOR.replace('rejectReqCo', {
		      height: 250,
		      removePlugins: 'wsc',
		      scayt_autoStartup: true,		     
		      scayt_maxSuggestions: 3
		    });
		 CKEDITOR.replace('commentMeetting', {
		      height: 250,
		      removePlugins: 'wsc',
		      scayt_autoStartup: true,		     
		      scayt_maxSuggestions: 3
		    });
	
		 CKEDITOR.replace('commentPOMForward', {
		      height: 250,
		      removePlugins: 'wsc',
		      scayt_autoStartup: true,		     
		      scayt_maxSuggestions: 3
		    });
		 CKEDITOR.replace('commentIRSForward', {
		      height: 250,
		      removePlugins: 'wsc',
		      scayt_autoStartup: true,		     
		      scayt_maxSuggestions: 3
		    });
		 CKEDITOR.replace('commentParaForward', {
		      height: 250,
		      removePlugins: 'wsc',
		      scayt_autoStartup: true,		     
		      scayt_maxSuggestions: 3
		    });
		 CKEDITOR.replace('finalObs', {
		      height: 250,
		      removePlugins: 'wsc',
		      scayt_autoStartup: true,		     
		      scayt_maxSuggestions: 3
		    });
		 CKEDITOR.replace('revertComment', {
		      height: 250,
		      removePlugins: 'wsc',
		      scayt_autoStartup: true,		     
		      scayt_maxSuggestions: 3
		    });
	
	});
	
	
	$(document).ready(function() {
		var lengthOfTableRow = $("#tbodyData").children('tr').length;
				$('.tbll').on('click', '.rmv', function () {
					$(this).closest('tr').remove();
					$("#myTable tbody tr:last").find('td:last').html('');
					var add='<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="addMoreCheck();"><span class="ti-plus"></span></button>&nbsp;'
					var remove = '<button type="button" class="btn btn-warning rmv" name="Remove"><span class="ti-minus"></span></button>';

					if($("#tbodyData").children('tr').length > 1){
					$("#myTable tbody tr:last").find('td:last').append(add);
					$("#myTable tbody tr:last").find('td:last').append(remove);
					}else{
					$("#myTable tbody tr:last").find('td:last').append(add);
					}
					displayTable();
					});
				
		var lengthOfTableRow = $("#modaltbodyData").children('tr').length;
				$('.modaltbll').on('click', '.modalrmv', function () {
					$(this).closest('tr').remove();
					$("#modalmyTable tbody tr:last").find('td:last').html('');
					var add='<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="modaladdMoreCheck();"><span class="ti-plus"></span></button>&nbsp;'
					var remove = '<button type="button" class="btn btn-warning modalrmv" name="Remove"><span class="ti-minus"></span></button>';

					if($("#modaltbodyData").children('tr').length > 1){
					$("#modalmyTable tbody tr:last").find('td:last').append(add);
					$("#modalmyTable tbody tr:last").find('td:last').append(remove);
					}else{
					$("#modalmyTable tbody tr:last").find('td:last').append(add);
					}
					displayTable();
					});
				
				
				//SEND REQUEST
					var lengthOfTableRowReq = $("#tbodyDataReq").children('tr').length;
					$('.tbllReq').on('click', '.rmv', function () {
						$(this).closest('tr').remove();
						$("#myTableReq tbody tr:last").find('td:last').html('');
						var add='<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="addMoreReq();"><span class="ti-plus"></span></button>&nbsp;'
						var remove = '<button type="button" class="btn btn-warning rmv" name="RemoveReq"><span class="ti-minus"></span></button>';

						if($("#tbodyDataReq").children('tr').length > 1){
						$("#myTableReq tbody tr:last").find('td:last').append(add);
						$("#myTableReq tbody tr:last").find('td:last').append(remove);
						}else{
						$("#myTableReq tbody tr:last").find('td:last').append(add);
						}
						displayTable();
						});
		});
	function addMore(){
		var lengthOfTableRow = $("#tbodyData").children('tr').length;
		var cloneHtml = $("#myTable tbody tr:first").clone();
		
		$("#myTable tbody tr:last").find('td:last').html('');
		$("#myTable tbody").append($("#myTable tbody tr:first").clone());
		
		$("#myTable tbody tr td:last").html("");
		var addMore='<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="addMoreCheck();"><span class="ti-plus"></span></button>&nbsp;'
		var removeMore = '<button type="button" class="btn btn-warning rmv" name="Remove"><span class="ti-minus"></span></button>';
		
		$("#myTable tbody tr:last").find('td:last').append(addMore);
		$("#myTable tbody tr:last").find('td:last').append(removeMore);
		$("#myTable tbody tr:last").find(".mulDoc").val("");
		$("#myTable tbody tr:last").find(".reqDocNameCls").val("");
		$("#myTable tbody tr:last").find(".coReqFileCls").empty();
		$("#myTable tbody tr:last").find(".reqCommentCls").val("");
		$("#myTable tbody tr:last").find(".editDocumentRequest").val("");
		
		var editTr = 0;
		
		if(lengthOfTableRow>editTr){
			$("#myTable tbody tr").eq(lengthOfTableRow-1).find('td:last').append(removeMore);
		}
		
		$("#myTable > tbody > tr").each(function(i){
			var textInput = $(this).find('input');
			var areaInput = $(this).find('textarea');
			var divInput = $(this).find('div');
			textInput.eq(0).attr('id',"reqDocName_"+i);
			textInput.eq(1).attr('id',"doc_"+i);
			textInput.eq(2).attr('id',"editDocRequest_"+i);
			divInput.eq(1).attr('id', "row2_" + i);
			divInput.eq(2).attr('id', "coReqFile_" + i);
			areaInput.eq(0).attr('id', "reqComment_" + i);
			
			
		})
		
	}
	
	function modaladdMore(){
		var lengthOfTableRow = $("#modaltbodyData").children('tr').length;
		var cloneHtml = $("#modalmyTable tbody tr:first").clone();
		
		$("#modalmyTable tbody tr:last").find('td:last').html('');
		$("#modalmyTable tbody").append($("#modalmyTable tbody tr:first").clone());
		
		$("#modalmyTable tbody tr td:last").html("");
		var addMore='<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="modaladdMoreCheck();"><span class="ti-plus"></span></button>&nbsp;'
		var removeMore = '<button type="button" class="btn btn-warning modalrmv" name="Remove"><span class="ti-minus"></span></button>';
		
		$("#modalmyTable tbody tr:last").find('td:last').append(addMore);
		$("#modalmyTable tbody tr:last").find('td:last').append(removeMore);
		$("#modalmyTable tbody tr:last").find(".modalmulDoc").val("");
		$("#modalmyTable tbody tr:last").find(".modalreqDocNameCls").val("");
		$("#modalmyTable tbody tr:last").find(".modalcoReqFileCls").empty();
		$("#modalmyTable tbody tr:last").find(".modalreqCommentCls").val("");
		$("#modalmyTable tbody tr:last").find(".modaleditdocname").val("");
		
		
		var editTr = 0;
		
		if(lengthOfTableRow>editTr){
			$("#modalmyTable tbody tr").eq(lengthOfTableRow-1).find('td:last').append(removeMore);
		}
		
		$("#modalmyTable > tbody > tr").each(function(i){
			var textInput = $(this).find('input');
			var areaInput = $(this).find('textarea');
			var divInput = $(this).find('div');
			textInput.eq(0).attr('id',"modalreqDocName_"+i);
			textInput.eq(1).attr('id',"modaldoc_"+i);
			textInput.eq(2).attr('id',"modaleditdoc_"+i);
			divInput.eq(1).attr('id', "modalrow2_" + i);
			divInput.eq(2).attr('id', "modalcoReqFile_" + i);
			areaInput.eq(0).attr('id', "modalreqComment_" + i);
			
			
		})
		
	}
	

	
	var counter = 0;
	var counterReq = 0;
	function addAuditDetails(){
		var lengthOfTableRowReq = $("#tbodyDataReq").children('tr').length;
		var cloneHtml = $("#myTableReq tbody tr:first").clone();
		
		$("#myTableReq tbody tr:last").find('td:last').html('');
		$("#myTableReq tbody").append($("#myTableReq tbody tr:first").clone());
		
		$("#myTableReq tbody tr td:last").html("");
		var addMore='<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="addAuditDetailsCheck();"><span class="ti-plus"></span></button>&nbsp;'
		var removeMore = '<button type="button" class="btn btn-warning rmv" name="RemoveReq"><span class="ti-minus"></span></button>';
		
		$("#myTableReq tbody tr:last").find('td:last').append(addMore);
		$("#myTableReq tbody tr:last").find('td:last').append(removeMore);
		$("#myTableReq tbody tr:last").find(".audiDocNameCls").val("");
		$("#myTableReq tbody tr:last").find(".attIcon").empty();
		$("#myTableReq tbody tr:last").find(".mulDocReq").val("");
		$("#myTableReq tbody tr:last").find(".audiCommentCls").val("");
		
		
		var editTrReq = 0;
		
		if(lengthOfTableRowReq>editTrReq){
			$("#myTableReq tbody tr").eq(lengthOfTableRowReq-1).find('td:last').append(removeMore);
		}
		
		$("#myTableReq > tbody > tr").each(function(i){
		/* 
			textInput.eq(0).attr('id',"docReq_"+i);
			divInput.eq(0).attr('id', "uploadedImgDivReq_" + i); */
			var textInput = $(this).find('input');
			var divInput = $(this).find('div');
			var areaInput = $(this).find('textarea');
			textInput.eq(0).attr('id',"audiDocName_"+i);
			textInput.eq(1).attr('id',"docReq_"+i);
			divInput.eq(1).attr('id', "row2_" + i);
			divInput.eq(2).attr('id', "audFile_" + i)
			areaInput.eq(0).attr('id', "audiComment_" + i)
		})
		
	}

	function requisition() {
		var comment = CKEDITOR.instances.comment.getData();
		 var dataset = [];
			var personTo = "";
     		var personCC ="";
     		//console.log($("#autocomplete-select").chosen().val());
				/* $("#toHiddenId").each(function () {
					personTo=$(this).val();
				}); */
				
				$("#toHiddenId").val('');
	     		$("#CcHiddenId").val('');
				
				var id1=$("#autocomplete-select").chosen().val();
				$("#toHiddenId").val(id1);
				$("#toHiddenId").each(function () {
					personTo=$(this).val();
				});
				$("#CcHiddenId").val($("#autocomplete-select1").chosen().val());
				$("#CcHiddenId").each(function () {			
					personCC=$(this).val();
				});
				if(personTo==null || personTo==''){
					swal("Please select at least one person whom you want to send..");
					return false;
				}
			/* 	console.log(personTo);
				console.log(personCC); */
		 $("#tbodyData > tr").each(function(i) {
			    
		      /*  console.log($(this).find(".mulDoc").val()); */
		    	    var uFile = $(this).find(".mulDoc")[0].files[0];

		    	   var fileName = $(this).find(".mulDoc").val();

		        if (fileName != '' && fileName != 'undefined' && fileName != null) {
		            var lastIndex = fileName.lastIndexOf("\\");
		            if (lastIndex >= 0) {
		                fileName = fileName.substring(lastIndex + 1);
		            }
		            var data = '';
		            var x = [];

		            var reader = new FileReader();
		            reader.readAsDataURL(uFile);

		            reader.onload = function() {

		                data = reader.result.split(",");

		                x.push(data[1]);
		            };
		        } else {
		            var x = [];
		            x.push('empty');
		        }
		        audit = {};  
		        audit['draftHiddenId']=$("#draftHiddenId").val();
		        audit['document'] = fileName;
		        audit['personTo'] = personTo;
		        audit['personCc'] = personCC;
		        audit['auditId'] = $("#reqIdDraft").val();
		        audit['identifier'] = $("#reqIdentifier").val();
		        audit['subject'] = $("#subjectCoRequisition").val();
		        audit['editDocName'] = $(this).find(".editDocumentRequest").val();
		        audit['documentName'] = $(this).find(".reqDocNameCls").val();
		        audit['documentComment'] = $(this).find(".reqCommentCls").val();
		        audit['comment'] = comment;
		        audit['file'] = x;
		        audit['priority'] = $("#priorityReply").val();
		        audit['auditType'] = $("#auditType").val();
		        audit['initiatedId'] = $("#auditInitiated").val();


		        dataset.push(audit);
		    });
		//console.log(dataset)
	    swal.fire({
	        title: "Are you sure want to send?",
	        text: "Once sent ,Can't revert back !",
	        type: "warning",
	        showCancelButton: true,
	        confirmButtonColor: '#ef5920',
	        cancelButtonColor: '#e7b63a',
	        confirmButtonText: 'Yes',
	        showLoaderOnConfirm: false,
	        //closeOnConfirm: false,
	        reverseButtons: true,
	    /*     preConfirm: () => {
	            return new Promise((resolve) => {
	                setTimeout(() => {
	                    console.log("Doing async operation");
	                    resolve()
	                }, 3000)
	            })
	        } */
	    }).then((result) => {
	        if (result.value) {
	        	document.getElementById("loader").style.display = "block";
	        	//alert("hi")
	            $.ajax({
	                type: "POST",
	                url: "view-statutary-audit-master-sendRequest",
	                dataType: "json",
	                contentType: 'application/json; charset=utf-8',
					data : JSON.stringify(dataset),
	                success: function(response) {
	                	
	                    if(response.message=="Success"){
	                    	//alert(res);
	                    	document.getElementById("loader").style.display = "none";
							swal({
								title:"Sent Successfully.",
								type: "success",
							}).then(function(){
								 location.reload();
							})
						}else{
							document.getElementById("loader").style.display = "none";
							swal({
								title:response.code,
								text: response.message,
								type:"warning"
							})
						}
	                },
	                error: function(data) {

	                }
	            })
	        }

	    });
	}
	
	function modalrequisition() {
		var comment = CKEDITOR.instances.modalcomment.getData();
		 var dataset = [];
			var personTo = "";
     		var personCC ="";
				
				$("#modaltoHiddenId").val('');
	     		$("#modalCcHiddenId").val('');
				
				var id1=$("#modalautocomplete-select").chosen().val();
				$("#modaltoHiddenId").val(id1);
				$("#modaltoHiddenId").each(function () {
					personTo=$(this).val();
				});
				$("#modalCcHiddenId").val($("#modalautocomplete-select1").chosen().val());
				$("#modalCcHiddenId").each(function () {			
					personCC=$(this).val();
				});
				if(personTo==null || personTo==''){
					swal("Please select at least one person whom you want to send..");
					return false;
				}
		 $("#modaltbodyData > tr").each(function(i) {
			    
		    	    var uFile = $(this).find(".modalmulDoc")[0].files[0];

		    	   var fileName = $(this).find(".modalmulDoc").val();

		        if (fileName != '' && fileName != 'undefined' && fileName != null) {
		            var lastIndex = fileName.lastIndexOf("\\");
		            if (lastIndex >= 0) {
		                fileName = fileName.substring(lastIndex + 1);
		            }
		            var data = '';
		            var x = [];

		            var reader = new FileReader();
		            reader.readAsDataURL(uFile);

		            reader.onload = function() {

		                data = reader.result.split(",");

		                x.push(data[1]);
		            };
		        } else {
		            var x = [];
		            x.push('empty');
		        }
		        audit = {};  
		        audit['draftHiddenId']=$("#modaldraftHiddenId").val();
		        audit['document'] = fileName;
		        audit['personTo'] = personTo;
		        audit['personCc'] = personCC;
		        audit['auditId'] = $("#modalsection").val();
		        audit['identifier'] = $("#reqIdentifier").val();
		        audit['subject'] = $("#modalsubjectCoRequisition").val();
		        audit['editDocName'] = $(this).find(".modaleditdocname").val();
		        audit['documentName'] = $(this).find(".modalreqDocNameCls").val();
		        audit['documentComment'] = $(this).find(".modalreqCommentCls").val();
		        audit['comment'] = comment;
		        audit['file'] = x;
		        audit['priority'] = $("#modalpriorityReply").val();
		        audit['auditType'] = $("#auditType").val();
		        audit['initiatedId'] = $("#auditInitiated").val();


		        dataset.push(audit);
		    });
		 
		 if (!blankValidation("modalsection","SelectBox" ,"Please Select Section"))
		      return false;
		 
		console.log(dataset)
	    swal.fire({
	        title: "Are you sure want to send?",
	        text: "Once sent ,Can't revert back !",
	        type: "warning",
	        showCancelButton: true,
	        confirmButtonColor: '#ef5920',
	        cancelButtonColor: '#e7b63a',
	        confirmButtonText: 'Yes',
	        showLoaderOnConfirm: false,
	        reverseButtons: true,
	    }).then((result) => {
	        if (result.value) {
	        	document.getElementById("loader").style.display = "block";
	        	//alert("hi")
	            $.ajax({
	                type: "POST",
	                url: "view-statutary-audit-master-sendRequest",
	                dataType: "json",
	                contentType: 'application/json; charset=utf-8',
					data : JSON.stringify(dataset),
	                success: function(response) {
	                	
	                    if(response.message=="Success"){
	                    	//alert(res);
	                    	document.getElementById("loader").style.display = "none";
							swal({
								title:"Sent Successfully.",
								type: "success",
							}).then(function(){
								 location.reload();
							})
						}else{
							document.getElementById("loader").style.display = "none";
							swal({
								title:response.code,
								text: response.message,
								type:"warning"
							})
						}
	                },
	                error: function(data) {

	                }
	            })
	        }

	    }); 
	}
	
	/* draft Section by deepak */
	function draft(draftStatus) {
		var comment = CKEDITOR.instances.comment.getData();
		 var datasetdraft = [];
			var personTo = "";
     		var personCC ="";
     		$("#toHiddenId").val('');
     		$("#CcHiddenId").val('');
     		
     		var id1=$("#autocomplete-select").chosen().val();
			$("#toHiddenId").val(id1);
			$("#toHiddenId").each(function () {
				personTo=$(this).val();
			});
			var id2=$("#autocomplete-select1").chosen().val();
			$("#CcHiddenId").val(id2);
			$("#CcHiddenId").each(function () {			
				personCC=$(this).val();
			});

		 $("#tbodyData > tr").each(function(i) {
			    alert("Here + "+$(this).find(".mulDoc").val())
		      /*  console.log($(this).find(".mulDoc").val()); */
		    	    var uFile = $(this).find(".mulDoc")[0].files[0];

		    	   var fileName = $(this).find(".mulDoc").val();
		    	   
		        if (fileName != '' && fileName != 'undefined' && fileName != null) {
		            var lastIndex = fileName.lastIndexOf("\\");
		            if (lastIndex >= 0) {
		                fileName = fileName.substring(lastIndex + 1);
		            }
		            var data = '';
		            
		            var y = [];
		            var reader = new FileReader();
		            reader.readAsDataURL(uFile);

		            reader.onload = function() {

		                data = reader.result.split(",");

		                y.push(data[1]);
		            };
		        } else {
		            var y = [];
		            y.push('empty');
		        }
		       //console.log(y);
		        audit = {};
		        //setTimeout(function() {
		        audit['draftHiddenId']=$("#draftHiddenId").val();
				//audit['draftStatus'] = draftStatus;
		      	audit['personTo'] = personTo;
				audit['personCc'] = personCC;
 				audit['auditTrialId'] = $("#reqIdDraft").val();
 				audit['document'] = fileName;
 				audit['editDocName'] = $(this).find(".editDocumentRequest").val();
 				audit['documentName'] = $(this).find(".reqDocNameCls").val();
 				audit['documentComment'] = $(this).find(".reqCommentCls").val();
 				audit['comment'] = comment;
 				audit['subject'] = $("#subjectCoRequisition").val();
 				audit['file'] = y;
 				audit['priority'] = $("#priorityReply1").val();
 				
		        datasetdraft.push(audit);
		        
		       // },1000)
		    });
		//console.log(JSON.stringify(datasetdraft));
		setTimeout(function() {
			draftsave(datasetdraft);
		}, 1000)

	}
	
	function modaldraft(draftStatus) {
		var comment = CKEDITOR.instances.modalcomment.getData();
		 var datasetdraft = [];
			var personTo = "";
     		var personCC ="";
     		 $("#modaltoHiddenId").val('');
     		$("#modalCcHiddenId").val('');
     		
     		var id1=$("#modalautocomplete-select").chosen().val();
			$("#modaltoHiddenId").val(id1);
			$("#modaltoHiddenId").each(function () {
				personTo=$(this).val();
			});
			var id2=$("#modalautocomplete-select1").chosen().val();
			$("#modalCcHiddenId").val(id2); 
			$("#modalCcHiddenId").each(function () {			
				personCC=$(this).val();
			});
		 $("#modaltbodyData > tr").each(function(i) {
		      /*  console.log($(this).find(".mulDoc").val()); */
		    	    var uFile = $(this).find(".modalmulDoc")[0].files[0];

		    	   var fileName = $(this).find(".modalmulDoc").val();
		    	   
		        if (fileName != '' && fileName != 'undefined' && fileName != null) {
		            var lastIndex = fileName.lastIndexOf("\\");
		            if (lastIndex >= 0) {
		                fileName = fileName.substring(lastIndex + 1);
		            }
		            var data = '';
		            
		            var y = [];
		            var reader = new FileReader();
		            reader.readAsDataURL(uFile);

		            reader.onload = function() {

		                data = reader.result.split(",");

		                y.push(data[1]);
		            };
		        } else {
		            var y = [];
		            y.push('empty');
		        }
		       //console.log(y);
		        audit = {};
		        //setTimeout(function() {
		        audit['draftHiddenId']=$("#modaldraftHiddenId").val();
				audit['draftStatus'] = draftStatus;
		      	audit['personTo'] = $("#modaltoHiddenId").val();
				audit['personCc'] = $("#modalCcHiddenId").val();
 				audit['auditTrialId'] = $("#modalsection").val();
 				audit['document'] = fileName;
 				
 				audit['documentName'] = $(this).find(".modalreqDocNameCls").val();
 				audit['documentComment'] = $(this).find(".modalreqCommentCls").val();
 				audit['comment'] = comment;
 				audit['subject'] = $("#modalsubjectCoRequisition").val();
 				audit['file'] = y;
 				
 					audit['section'] = $("#modalsection").val();
 				
 				audit['priority'] = $("#modalpriorityReply").val();
 				if(draftStatus == "1") {
 					audit['editDocName'] = $(this).find(".modaleditdocname").val();
 				}
 				
 				
		        datasetdraft.push(audit);
		        
		       // },1000)
		    });
		console.log(datasetdraft);
		setTimeout(function() {
			draftsave(datasetdraft);
		}, 1000)

	}
	function modalauditordraft(draftStatus) { 
		var comment = CKEDITOR.instances.commentForward.getData();
		 var datasetdraft = [];
			var personTo = "";
     		var personCC ="";
     		$("#toHiddenId3").val('');
     		$("#CcHiddenId3").val('');
     		
     		var id1=$("#autocomplete-select41").chosen().val();
			$("#toHiddenId3").val(id1);
			$("#toHiddenId3").each(function () {
				personTo=$(this).val();
			});
			var id2=$("#autocomplete-select42").chosen().val();
			$("#CcHiddenId3").val(id2);
			$("#CcHiddenId3").each(function () {			
				personCC=$(this).val();
			});

		 $("#tbodyDataForward > tr").each(function(i) {
			    
		      /*  console.log($(this).find(".mulDoc").val()); */
		    	    var uFile = $(this).find(".mulDocForward")[0].files[0];

		    	   var fileName = $(this).find(".mulDocForward").val();
		    	   
		        if (fileName != '' && fileName != 'undefined' && fileName != null) {
		            var lastIndex = fileName.lastIndexOf("\\");
		            if (lastIndex >= 0) {
		                fileName = fileName.substring(lastIndex + 1);
		            }
		            var data = '';
		            
		            var y = [];
		            var reader = new FileReader();
		            reader.readAsDataURL(uFile);

		            reader.onload = function() {

		                data = reader.result.split(",");

		                y.push(data[1]);
		            };
		        } else {
		            var y = [];
		            y.push('empty');
		        }
		       //console.log(y);
		        audit = {};
		        //setTimeout(function() {
		        audit['draftHiddenId']=$("#adtfrwrddraftHiddenId").val();
				audit['draftStatus'] = draftStatus;
		      	audit['personTo'] = personTo;
				audit['personCc'] = personCC;
 				audit['auditTrialId'] = $("#reqIdDraft").val();
 				audit['document'] = fileName;
 				
 				audit['documentName'] = $(this).find(".forwardDocNameCls").val();
 				audit['documentComment'] = $(this).find(".forwardCommentCls").val();
 				audit['comment'] = comment;
 				audit['subject'] = $("#subjectCoForward").val();
 				audit['file'] = y;
 				//audit['priority'] = $("#priorityReply").val();
 				audit['editDocName'] = $(this).find(".editDocumentForward").val();
		        datasetdraft.push(audit);
		        
		       // },1000)
		    });
		console.log(datasetdraft);
		setTimeout(function() {
			draftsave(datasetdraft);
		}, 1000)

	}
	function draftsave(datasetdraft){
		//alert(JSON.stringify(datasetdraft))
        $.ajax({
                type: "POST",
	                url: "view-statutary-audit-master-saveDraft",
	                dataType: "json",
	                 contentType: 'application/json; charset=utf-8', 
					data : JSON.stringify(datasetdraft),
	                success: function(response) {
	                	//console.log("draft"+response.message)
	                    if(response.message=="Success"){
	                    	$("#save").text("Saved");
	                    	$("#modalsave").text("Saved");
	                    	$("#saveResponse3").text("Saved");
							
						}else{
							document.getElementById("loader").style.display = "none";
							swal({
								title:response.code,
								text: response.message,
								type:"warning"
							})
						}
	                },
	                error: function(data) {

	                }
	           })
	}
	function listDraft(reqId, userId, status){
		  $(".dropdown-menu").empty();
		  $(".auditorRequisition-dropdownmenu").empty();
		$.ajax({
			type : 'GET',
			url : 'view-statutary-audit-master-getDraft-list?id='+reqId+ '&userId=' + userId + '&status='+status,
			contentType : false,
			//data : summery,
			success : function(response) {
			var data=[];
			//console.log("response draffrlist ");
			console.log(response)
			if (response.message == "Success") {
				for (var i = 0; i < response.body.length; i++) {
					
					
						if (response.body[i].name == null || response.body[i].name == "") {
							response.body[i].name="No subject";
							
						}
						//console.log(response)
					
					var div = '<button class="dropdown-item" type="button" onclick="draftAutoComplete('+response.body[i].key+','+response.body[i].docName+','+response.body[i].status+')">'+response.body[i].name+'</button>';
					
					if(status == "0") {
						$(".dropdown-menu").append(div);
					}
					
					if(status == "1") {
						$(".auditorRequisition-dropdownmenu").append(div);
					}
					
				}	
			}
		},
			error : function(e) {
				//console.log("error");
			}
		})  
	}
	
	
	function draftAutoComplete(id, trialId, status) {
	    $("#reqIdDraft").get(trialId);

	    if (status == "0") {
	        $("#draftHiddenId").val(id);
	        $('.chosen-choices').closest('div').find('.search-choice1').hide();
	        $("#CcHiddenId").val('');
	        $("#toHiddenId").val('');
	    }
	    if (status == "1") {
	        $("#modaldraftHiddenId").val(id);
	        $('.chosen-choices').closest('div').find('.search-choice1').hide();
	        $("#modalCcHiddenId").val('');
	        $("#modaltoHiddenId").val('');
	    }
	    if (status == "2") {
	        $("#adtfrwrddraftHiddenId").val(id);
	        $('.chosen-choices').closest('div').find('.search-choice1').hide();
	        $("#CcHiddenId3").val('');
	        $("#toHiddenId3").val('');
	    }


	    $.ajax({
	        type: 'GET',
	        url: 'view-statutary-audit-master-draft-comment?id=' + id,
	        contentType: false,
	        async: false,
	        //data : summery,
	        success: function(response) {
	            if (response.message == "success") {
	                var comment = response.body.name;

	                if (status == "0") {
	                    CKEDITOR.instances['comment'].setData(comment);
	                    $("#subjectCoRequisition").val(response.body.key);
	                }
	                if (status == "1") {
	                    CKEDITOR.instances['modalcomment'].setData(comment);
	                    $("#modalsubjectCoRequisition").val(response.body.key);
	                    $("#modalsection").val(response.body.docName);
	                    $("#modalpriorityReply").val(response.body.status);
	                }
	                if (status == "2") {
	                    CKEDITOR.instances['commentForward'].setData(comment);
	                    $("#subjectCoForward").val(response.body.key);
	                }

	            }

	        },
	        error: function(e) {
	            //console.log("error");
	        }
	    });

	    var reqid = $("#auditforWordId").val();

	    $.ajax({
	        type: 'GET',
	        url: 'view-statutary-audit-master-getDraftAutocomplete?id=' + id,
	        success: function(response) {
	            console.log(response)

	            if (response.message == "Success") {

	                var draftDocument = response.body[0].documents;

	                var draftPersonTo = response.body[0].personTo;
	                var draftPersonCc = response.body[0].personCc;

	                var docLength = draftDocument.length;
	                var personToLength = draftPersonTo.length;
	                var personCcLength = draftPersonCc.length;
	                var toPerson = [];

	                for (var i = 0; i < personToLength; i++) {
	                    if (draftPersonTo[i].key != null) {
	                        toPerson.push(draftPersonTo[i].key);
	                    }
	                }
	                
	                var ccPerson = [];

	                for (var i = 0; i < personCcLength; i++) {
	                	console.log(personCcLength)
	                    if (draftPersonCc[i].key != null) {
	                        ccPerson.push(draftPersonCc[i].key);
	                    }
	                }
	                
	                if(status == "0") {
	                	$("#toHiddenId").val(toPerson);
	                	$("#CcHiddenId").val(ccPerson);
	                }
	                if(status == "1") {
	                	$("#modaltoHiddenId").val(toPerson);
	                	$("#modalCcHiddenId").val(ccPerson);
	                }
	                if(status == "2") {
	                	$("#toHiddenId3").val(toPerson);
	                	$("#CcHiddenId3").val(ccPerson);
	                }
	                


	                for (var i = 0; i < personToLength; i++) {
	                    if (draftPersonTo[i].key != null) {

	                        var div = '<li class="search-choice search-choice1 default"><span>' + draftPersonTo[i].name + '</span><a class="search-choice-close" data-option-array-index="' + i + '"></a></li>';
	                        console.log(draftPersonTo[i].name)
	                        if(status == "0") {
	                        	console.log("In Req")
	                        	 $("#autocomplete-select").closest('div').find(".chosen-choices").first().append(div);
	 	                        console.log(draftPersonTo[i].key)
	                        	$("#autocomplete-select").chosen().val(draftPersonTo[i].key);
	 	                        $('#autocomplete-select').on('change', function() {

	 	                            $('.chosen-choices').closest('div').find('.search-choice1').hide();
	 	                            $("#toHiddenId").val('');
	 	                        })
	                        }
	                        if(status == "1") {
	                        	 $("#modalautocomplete-select").closest('div').find(".chosen-choices").first().append(div);
	 	                        $("#modalautocomplete-select").chosen().val(draftPersonTo[i].key);
	 	                        $('#modalautocomplete-select').on('change', function() {

	 	                            $('.chosen-choices').closest('div').find('.search-choice1').hide();
	 	                            $("#modaltoHiddenId").val('');
	 	                        })
	                        }
	                        if(status == "2") {
	                        	 $("#autocomplete-select41").closest('div').find(".chosen-choices").first().append(div);
	 	                        $("#autocomplete-select41").chosen().val(draftPersonTo[i].key);
	 	                        $('#autocomplete-select41').on('change', function() {

	 	                            $('.chosen-choices').closest('div').find('.search-choice1').hide();
	 	                            $("#toHiddenId3").val('');
	 	                        })
	                        }
	                        
	                       

	                        $('.search-choice-close').on('click', function() {
	                            $('.chosen-choices').closest('div').find('.search-choice1').hide();
	                            $("#toHiddenId").val('');
	                            $("#modaltoHiddenId").val('');
	                            $("#toHiddenId3").val('');
	                        })
	                    }
	                }
	                for (var i = 0; i < personCcLength; i++) {
	                    if (draftPersonCc[i].key != null) {
	                        var div = '<li class="search-choice search-choice1 default"><span>' + draftPersonCc[i].name + '</span><a class="search-choice-close" data-option-array-index="' + i + '"></a></li>';
	                        
	                        if(status == "0") {
		                        $("#autocomplete-select1").closest('div').find(".chosen-choices").first().append(div);
		                        $("#autocomplete-select1").chosen().val(draftPersonCc[i].key);
		                        $('#autocomplete-select1').on('change', function() {
		                            $('.chosen-choices').closest('div').find('.search-choice1').hide();
		                            $("#CcHiddenId").val('');
		                        })
	                        }
	                        if(status == "1") {
		                        $("#modalautocomplete-select1").closest('div').find(".chosen-choices").first().append(div);
		                        $("#modalautocomplete-select1").chosen().val(draftPersonCc[i].key);
		                        $('#modalautocomplete-select1').on('change', function() {
		                            $('.chosen-choices').closest('div').find('.search-choice1').hide();
		                            $("#modalCcHiddenId").val('');
		                        })
	                        }
	                        if(status == "2") {
		                        $("#autocomplete-select42").closest('div').find(".chosen-choices").first().append(div);
		                        $("#autocomplete-select42").chosen().val(draftPersonCc[i].key);
		                        $('#autocomplete-select42').on('change', function() {
		                            $('.chosen-choices').closest('div').find('.search-choice1').hide();
		                            $("#CcHiddenId3").val('');
		                        })
	                        }

	                        $('.search-choice-close').on('click', function() {
	                            $('.chosen-choices').closest('div').find('.search-choice1').hide();
	                            $("#CcHiddenId").val('');
	                            $("#CcHiddenId3").val('');
	                            $("#modalCcHiddenId").val('');
	                        })
	                       // $('.mulDocRes').attr("file", response.body[i].document);
	                    }
	                }

	                if(status == "0") {
	                	if (docLength == 0) {
		                    for (var i = 0; i < docLength.length; i++) {
		                        $("#tbodyData").empty();
		                        var div = '<tr class="tr_clone" id="row">' +
		                            '<td width="300"><input type="text" class="form-control reqDocNameCls" id="reqDocName_"' + i + '">' +
		                            '</td>' +
		                            '<td width="320"><div class="row" id="rowId_' + i + '">' + 
		                            '<div id="row2_' + i + '" style="text-align: right; padding-left: 50px; padding-top: 10px;"><div class="text coReqFileCls" id="coReqFile_' + i + '">' +
		                            '</div>' +
		                            '</div><div class="upload-btn-wrapper"><label class="custom-file-upload" for="mulDocAtta">' +
		                            '<i class="fa fa-cloud-upload"></i>Document</label> <input type="file" class="mulDoc" id="doc_' + i + '" style="display: block;" ' +
		                            'onchange="saveFileAssign(event);checkImageFormat(this);">' +
		                            '</div></div>' +
		                            '</td>' +
		                            '<td width="300"><textarea class="form-control reqCommentCls" id="reqComment_' + i + '" value="" autocomplete="on"></textarea>'+
		                            '<input type="hidden" class="editDocumentRequest" id="editDocRequest_' + i + '">' +
		                            '</td>' +
		                            '<td align="Right" width="200"><button type="button" class="btn btn-primary tr_clone_add"' +
		                            'name="add" onclick="addMoreCheck()"><span class="ti-plus"></span></button></td></tr>';

		                        $("#tbodyData").append(div);
		                    }
		                } else {
		                	
		                	var c = 0;
		                	$("#tbodyData").empty();
		                	for (var i = 0; i < draftDocument.length; i++) {
		                		c = c + 1;
		                		var docType = (draftDocument[i].key).split(".");
	                            var iTag = '<i class="fa fa-picture-o fa-2x "></i>';
	                            if (docType == "pdf") {
	                                iTag = '<i class="fa fa-file-pdf-o fa-2x "></i>';
	                            }
	                            if (docType == "xls" || docType[1] == "xlsx") {
	                                iTag = '<i class="fa fa-file-excel-o fa-2x "></i>';
	                            }
	                            if (docType == 'docx') {
	                                iTag = '<i class="fa fa-file-word-o fa-2x "></i>';
	                            }
		                		if(c != draftDocument.length) {
		                			var div = '<tr class="tr_clone" id="row">' +
	                                '<td width="300"><input type="text" class="form-control reqDocNameCls" id="reqDocName_' + i + '" value="' + draftDocument[i].docName + '">' +
	                                '</td>' +
	                                '<td width="320"><div class="row" id="rowId_' + i + '"><div id="row2_' + i + '" style="text-align: right; padding-left: 50px; padding-top: 10px;">' +
	                                '<div class="text coReqFileCls" id="coReqFile_' + i + '">' +
	                                '<a class="example-image-link" href="../document/audit/' + draftDocument[i].key + '" title="' + draftDocument[i].key + '" target="_balnk">' + iTag + '</a>' +
	                                '</div></div><div class="upload-btn-wrapper">' +
	                                '<label class="custom-file-upload" for="mulDocAtta"><i class="fa fa-cloud-upload"></i>Document</label>' +
	                                ' <input type="file" class="mulDoc" id="doc_' + i + '" style="display: block;" onchange="saveFileAssign(event);checkImageFormat(this);">' +
	                                
	                                '</div></div></td>' +
	                                '<td width="300"><textarea class="form-control reqCommentCls" id="reqComment_' + i + '" autocomplete="on">' +
	                                draftDocument[i].name + '</textarea>'+
	                                '<input type="hidden" class="editDocumentRequest" id="editDocRequest_' + i + '" value="' + draftDocument[i].key + '">' +
	                                '</td>' +
                                    '<td align="Right" width="200"><button type="button" class="btn btn-warning rmv" name="RemoveReq"><span class="ti-minus"></span></button></td></tr>';
		                		}
		                		
		                		if(c == draftDocument.length) {
		                			if(c != 1) {
		                				var div = '<tr class="tr_clone" id="row">' +
		                                '<td width="300"><input type="text" class="form-control reqDocNameCls" id="reqDocName_' + i + '" value="' + draftDocument[i].docName + '">' +
		                                '</td>' +
		                                '<td width="320"><div class="row" id="rowId_' + i + '"><div id="row2_' + i + '" style="text-align: right; padding-left: 50px; padding-top: 10px;">' +
		                                '<div class="text coReqFileCls" id="coReqFile_' + i + '">' +
		                                '<a class="example-image-link" href="../document/audit/' + draftDocument[i].key + '" title="' + draftDocument[i].key + '" target="_balnk">' + iTag + '</a>' +
		                                '</div></div><div class="upload-btn-wrapper">' +
		                                '<label class="custom-file-upload" for="mulDocAtta"><i class="fa fa-cloud-upload"></i>Document</label>' +
		                                ' <input type="file" class="mulDoc" id="doc_' + i + '" style="display: block;" onchange="saveFileAssign(event);checkImageFormat(this);">' +
		                                '</div></div></td>' +
		                                '<td width="300"><textarea class="form-control reqCommentCls" id="reqComment_' + i + '" autocomplete="on">' +
		                                draftDocument[i].name + '</textarea>'+
		                                '<input type="hidden" class="editDocumentRequest" id="editDocRequest_' + i + '" value="' + draftDocument[i].key + '">' +
	                                    '<td align="Right" width="200"><button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="addMoreCheck();"><span class="ti-plus"></span></button><button type="button" class="btn btn-warning rmv" name="RemoveReq"><span class="ti-minus"></span></button></td></tr>';
		                			} else {
		                				var div = '<tr class="tr_clone" id="row">' +
		                                '<td width="300"><input type="text" class="form-control reqDocNameCls" id="reqDocName_' + i + '" value="' + draftDocument[i].docName + '">' +
		                                '</td>' +
		                                '<td width="320"><div class="row" id="rowId_' + i + '"><div id="row2_' + i + '" style="text-align: right; padding-left: 50px; padding-top: 10px;">' +
		                                '<div class="text coReqFileCls" id="coReqFile_' + i + '">' +
		                                '<a class="example-image-link" href="../document/audit/' + draftDocument[i].key + '" title="' + draftDocument[i].key + '" target="_balnk">' + iTag + '</a>' +
		                                '</div></div><div class="upload-btn-wrapper">' +
		                                '<label class="custom-file-upload" for="mulDocAtta"><i class="fa fa-cloud-upload"></i>Document</label>' +
		                                ' <input type="file" class="mulDoc" id="doc_' + i + '" style="display: block;" onchange="saveFileAssign(event);checkImageFormat(this);">' +
		                                '</div></div></td>' +
		                                '<td width="300"><textarea class="form-control reqCommentCls" id="reqComment_' + i + '" autocomplete="on">' +
		                                draftDocument[i].name + '</textarea>'+
		                                '<input type="hidden" class="editDocumentRequest" id="editDocRequest_' + i + '" value="' + draftDocument[i].key + '">' +
		                                '<td align="Right" width="200"><button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="addMoreCheck();">' +
		                                '<span class="ti-plus"></span></button></td>' +
		                                '</tr>';
		                			}
		                		}
		                		$("#tbodyData").append(div);
		                	}
		                }
	                }
	                
	                if(status == "1") {
	                	if (docLength == 0) {
		                    for (var i = 0; i < docLength.length; i++) {
		                        $("#modaltbodyData").empty();
		                        var div = '<tr class="tr_clone" id="row">' +
		                            '<td width="300"><input type="text" class="form-control modalreqDocNameCls" id="modalreqDocName_"' + i + '">' +
		                            '</td>' +
		                            '<td width="320"><div class="row" id="modalrowId_' + i + '">' +
		                            '<div id="modalrow2_' + i + '" style="text-align: right; padding-left: 50px; padding-top: 10px;"><div class="text modalcoReqFileCls" id="modalcoReqFile_' + i + '">' +
		                            '</div>' +
		                            '</div><div class="upload-btn-wrapper"><label class="custom-file-upload" for="mulDocAtta">' +
		                            '<i class="fa fa-cloud-upload"></i>Document</label> <input type="file" class="modalmulDoc" id="modaldoc_' + i + '" style="display: block;" ' +
		                            'onchange="modalsaveFileAssign(event);checkImageFormat(this);">' +
		                            '</div></div>' +
		                            '</td>' +
		                            '<td width="300"><textarea class="form-control modalreqCommentCls" id="modalreqComment_' + i + '" value="" autocomplete="on"></textarea><input type="hidden" class="modaleditdocname" id="modaleditdoc_' + i + '" value=""></td>' +
		                            '<td align="Right" width="200"><button type="button" class="btn btn-primary tr_clone_add"' +
		                            'name="add" onclick="modaladdMoreCheck()"><span class="ti-plus"></span></button></td></tr>';

		                        $("#modaltbodyData").append(div);
		                    }
		                } else {
		                	
		                	var c = 0;
		                	$("#modaltbodyData").empty();
		                	for (var i = 0; i < draftDocument.length; i++) {
		                		c = c + 1;
		                		var docType = (draftDocument[i].key).split(".");
	                            var iTag = '<i class="fa fa-picture-o fa-2x "></i>';
	                            if (docType == "pdf") {
	                                iTag = '<i class="fa fa-file-pdf-o fa-2x "></i>';
	                            }
	                            if (docType == "xls" || docType[1] == "xlsx") {
	                                iTag = '<i class="fa fa-file-excel-o fa-2x "></i>';
	                            }
	                            if (docType == 'docx') {
	                                iTag = '<i class="fa fa-file-word-o fa-2x "></i>';
	                            }
		                		if(c != draftDocument.length) {

		                            var div = '<tr class="tr_clone" id="row">' +
	                                '<td width="300"><input type="text" class="form-control modalreqDocNameCls" id="modalreqDocName_' + i + '" value="' + draftDocument[i].docName + '">' +
	                                '</td>' +
	                                '<td width="320"><div class="row" id="modalrowId_' + i + '"><div id="modalrow2_' + i + '" style="text-align: right; padding-left: 50px; padding-top: 10px;">' +
	                                '<div class="text modalcoReqFileCls" id="modalcoReqFile_' + i + '">' +
	                                '<a class="example-image-link" href="../document/audit/' + draftDocument[i].key + '" title="' + draftDocument[i].key + '" target="_balnk">' + iTag + '</a>' +
	                                '</div></div><div class="upload-btn-wrapper">' +
	                                '<label class="custom-file-upload" for="mulDocAtta"><i class="fa fa-cloud-upload"></i>Document</label>' +
	                                ' <input type="file" class="modalmulDoc" id="modaldoc_' + i + '" style="display: block;" onchange="modalsaveFileAssign(event);checkImageFormat(this);">' +
	                                
	                                '</div></div></td>' +
	                                '<td width="300"><textarea class="form-control modalreqCommentCls" id="modalreqComment_' + i + '" autocomplete="on">' +
	                                draftDocument[i].name + '</textarea><input type="hidden" class="modaleditdocname" id="modaleditdoc_' + i + '" value="' + draftDocument[i].key + '"></td>' +
                                    '<td align="Right" width="200"><button type="button" class="btn btn-warning modalrmv" name="RemoveReq"><span class="ti-minus"></span></button></td></tr>';
                                    
		                            
		                		}
		                		
		                		if(c == draftDocument.length) {
		                			if(c != 1) {
		                				var div = '<tr class="tr_clone" id="row">' +
		                                '<td width="300"><input type="text" class="form-control modalreqDocNameCls" id="modalreqDocName_' + i + '" value="' + draftDocument[i].docName + '">' +
		                                '</td>' +
		                                '<td width="320"><div class="row" id="modalrowId_' + i + '"><div id="modalrow2_' + i + '" style="text-align: right; padding-left: 50px; padding-top: 10px;">' +
		                                '<div class="text modalcoReqFileCls" id="modalcoReqFile_' + i + '">' +
		                                '<a class="example-image-link" href="../document/audit/' + draftDocument[i].key + '" title="' + draftDocument[i].key + '" target="_balnk">' + iTag + '</a>' +
		                                '</div></div><div class="upload-btn-wrapper">' +
		                                '<label class="custom-file-upload" for="mulDocAtta"><i class="fa fa-cloud-upload"></i>Document</label>' +
		                                ' <input type="file" class="modalmulDoc" id="modaldoc_' + i + '" style="display: block;" onchange="modalsaveFileAssign(event);checkImageFormat(this);">' +
		                                '</div></div></td>' +
		                                '<td width="300"><textarea class="form-control modalreqCommentCls" id="modalreqComment_' + i + '" autocomplete="on">' +
		                                draftDocument[i].name + '</textarea><input type="hidden" class="modaleditdocname" id="modaleditdoc_' + i + '" value="' + draftDocument[i].key + '"></td>' +
	                                    '<td align="Right" width="200"><button type="button" class="btn btn-primary tr_clone_add"' +
	                                    'name="add" onclick="modaladdMoreCheck()"><span class="ti-plus"></span></button><button type="button" class="btn btn-warning modalrmv" name="RemoveReq"><span class="ti-minus"></span></button></td></tr>';
		                			} else {
		                				var div = '<tr class="tr_clone" id="row">' +
		                                '<td width="300"><input type="text" class="form-control modalreqDocNameCls" id="modalreqDocName_' + i + '" value="' + draftDocument[i].docName + '">' +
		                                '</td>' +
		                                '<td width="320"><div class="row" id="modalrowId_' + i + '"><div id="modalrow2_' + i + '" style="text-align: right; padding-left: 50px; padding-top: 10px;">' +
		                                '<div class="text modalcoReqFileCls" id="modalcoReqFile_' + i + '">' +
		                                '<a class="example-image-link" href="../document/audit/' + draftDocument[i].key + '" title="' + draftDocument[i].key + '" target="_balnk">' + iTag + '</a>' +
		                                '</div></div><div class="upload-btn-wrapper">' +
		                                '<label class="custom-file-upload" for="mulDocAtta"><i class="fa fa-cloud-upload"></i>Document</label>' +
		                                ' <input type="file" class="modalmulDoc" id="modaldoc_' + i + '" style="display: block;" onchange="modalsaveFileAssign(event);checkImageFormat(this);">' +
		                                '</div></div></td>' +
		                                '<td width="300"><textarea class="form-control modalreqCommentCls" id="modalreqComment_' + i + '" autocomplete="on">' +
		                                draftDocument[i].name + '</textarea><input type="hidden" class="modaleditdocname" id="modaleditdoc_' + i + '" value="' + draftDocument[i].key + '"></td>' +
		                                '<td align="Right" width="200"><button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="modaladdMoreCheck();">' +
		                                '<span class="ti-plus"></span></button></td>' +
		                                '</tr>';
		                			}
		                		}
		                		
		                		$("#modaltbodyData").append(div);
		                	}

		                }
	                }
	                
	                if(status == "2") {
	                	if (docLength == 0) {
		                    for (var i = 0; i < docLength.length; i++) {
		                        $("#tbodyDataForward").empty();
		                        var div = '<tr class="tr_clone" id="row">' +
		                            '<td width="300"><input type="text" class="form-control forwardDocNameCls" id="forwardDocName_"' + i + '">' +
		                            '</td>' +
		                            '<td width="320"><div class="row" id="rowId_' + i + '">' +
		                            '<div id="row2_' + i + '" style="text-align: right; padding-left: 50px; padding-top: 10px;"><div class="text docFwdCls" id="docfwd_' + i + '">' +
		                            '</div>' +
		                            '</div><div class="upload-btn-wrapper"><label class="custom-file-upload" for="mulDocAtta">' +
		                            '<i class="fa fa-cloud-upload"></i>Document</label> <input type="file" class="mulDocForward" id="docForward_' + i + '" style="display: block;" ' +
		                            'onchange="saveFileAssign(event);checkImageFormat(this);">' +
		                            '</div></div>' +
		                            '</td>' +
		                            '<td width="300"><textarea class="form-control forwardCommentCls" id="forwardComment_' + i + '" value="" autocomplete="on"></textarea><input type="hidden" class="editDocumentForward" id="editDocForward_' + i + '" value=""></td>' +
		                            '<td align="Right" width="200"><button type="button" class="btn btn-primary tr_clone_add"' +
		                            'name="add" onclick="moreForwardCheck()"><span class="ti-plus"></span></button></td></tr>';

		                        $("#tbodyDataForward").append(div);
		                    }
		                } else {
		                	
		                	var c = 0;
		                	$("#tbodyDataForward").empty();
		                	for (var i = 0; i < draftDocument.length; i++) {
		                		c = c + 1;
		                		var docType = (draftDocument[i].key).split(".");
	                            var iTag = '<i class="fa fa-picture-o fa-2x "></i>';
	                            if (docType == "pdf") {
	                                iTag = '<i class="fa fa-file-pdf-o fa-2x "></i>';
	                            }
	                            if (docType == "xls" || docType[1] == "xlsx") {
	                                iTag = '<i class="fa fa-file-excel-o fa-2x "></i>';
	                            }
	                            if (docType == 'docx') {
	                                iTag = '<i class="fa fa-file-word-o fa-2x "></i>';
	                            }
		                		if(c != draftDocument.length) {

		                			var div = '<tr class="tr_clone" id="row">' +
	                                '<td width="300"><input type="text" class="form-control forwardDocNameCls" id="forwardDocName_' + i + '" value="' + draftDocument[i].docName + '">' +
	                                '</td>' +
	                                '<td width="320"><div class="row" id="rowId_' + i + '"><div id="row2_' + i + '" style="text-align: right; padding-left: 50px; padding-top: 10px;">' +
	                                '<div class="text docFwdCls" id="docfwd_' + i + '">' +
	                                '<a class="example-image-link" href="../document/audit/' + draftDocument[i].key + '" title="' + draftDocument[i].key + '" target="_balnk">' + iTag + '</a>' +
	                                '</div></div><div class="upload-btn-wrapper">' +
	                                '<label class="custom-file-upload" for="mulDocAtta"><i class="fa fa-cloud-upload"></i>Document</label>' +
	                                ' <input type="file" class="mulDocForward" id="docForward_' + i + '" style="display: block;" onchange="saveFileAssign(event);checkImageFormat(this);">' +
	                                '</div></div></td>' +
	                                '<td width="300"><textarea class="form-control forwardCommentCls" id="forwardComment_' + i + '" autocomplete="on">' +
	                                draftDocument[i].name + '</textarea><input type="hidden" class="editDocumentForward" id="editDocForward_' + i + '" value="' + draftDocument[i].key + '"></td>' +
                                    '<td align="Right" width="200"><button type="button" class="btn btn-warning rmv" name="RemoveForward"><span class="ti-minus"></span></button></td></tr>';
                                    
		                            
		                		}
		                		
		                		if(c == draftDocument.length) {
		                			if(c != 1) {
		                				var div = '<tr class="tr_clone" id="row">' +
		                                '<td width="300"><input type="text" class="form-control forwardDocNameCls" id="forwardDocName_' + i + '" value="' + draftDocument[i].docName + '">' +
		                                '</td>' +
		                                '<td width="320"><div class="row" id="rowId_' + i + '"><div id="row2_' + i + '" style="text-align: right; padding-left: 50px; padding-top: 10px;">' +
		                                '<div class="text docFwdCls" id="docfwd_' + i + '">' +
		                                '<a class="example-image-link" href="../document/audit/' + draftDocument[i].key + '" title="' + draftDocument[i].key + '" target="_balnk">' + iTag + '</a>' +
		                                '</div></div><div class="upload-btn-wrapper">' +
		                                '<label class="custom-file-upload" for="mulDocAtta"><i class="fa fa-cloud-upload"></i>Document</label>' +
		                                ' <input type="file" class="mulDocForward" id="docForward_' + i + '" style="display: block;" onchange="saveFileAssign(event);checkImageFormat(this);">' +
		                                '</div></div></td>' +
		                                '<td width="300"><textarea class="form-control forwardCommentCls" id="forwardComment_' + i + '" autocomplete="on">' +
		                                draftDocument[i].name + '</textarea><input type="hidden" class="editDocumentForward" id="editDocForward_' + i + '" value="' + draftDocument[i].key + '"></td>' +
	                                    '<td align="Right" width="200"><button type="button" class="btn btn-primary tr_clone_add"' +
	                                    'name="add" onclick="moreForwardCheck()"><span class="ti-plus"></span></button><button type="button" class="btn btn-warning rmv" name="RemoveForward"><span class="ti-minus"></span></button></td></tr>';
		                			} else {
		                				var div = '<tr class="tr_clone" id="row">' +
		                                '<td width="300"><input type="text" class="form-control forwardDocNameCls" id="forwardDocName_' + i + '" value="' + draftDocument[i].docName + '">' +
		                                '</td>' +
		                                '<td width="320"><div class="row" id="rowId_' + i + '"><div id="row2_' + i + '" style="text-align: right; padding-left: 50px; padding-top: 10px;">' +
		                                '<div class="text docFwdCls" id="docfwd_' + i + '">' +
		                                '<a class="example-image-link" href="../document/audit/' + draftDocument[i].key + '" title="' + draftDocument[i].key + '" target="_balnk">' + iTag + '</a>' +
		                                '</div></div><div class="upload-btn-wrapper">' +
		                                '<label class="custom-file-upload" for="mulDocAtta"><i class="fa fa-cloud-upload"></i>Document</label>' +
		                                ' <input type="file" class="mulDocForward" id="docForward_' + i + '" style="display: block;" onchange="saveFileAssign(event);checkImageFormat(this);">' +
		                                '</div></div></td>' +
		                                '<td width="300"><textarea class="form-control forwardCommentCls" id="forwardComment_' + i + '" autocomplete="on">' +
		                                draftDocument[i].name + '</textarea><input type="hidden" class="editDocumentForward" id="editDocForward_' + i + '" value="' + draftDocument[i].key + '"></td>' +
		                                '<td align="Right" width="200"><button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="moreForwardCheck();">' +
		                                '<span class="ti-plus"></span></button></td>' +
		                                '</tr>';
		                			}
		                		}
		                		
		                		$("#tbodyDataForward").append(div);
		                	}

		                }
	                }
	                
	                

	            }

	        },
	        error: function(data) {
	            console.log(data)
	        }
	    });
	    if(status == "0") {
        	$("#requisition").modal("show");
        }
        if(status == "1") {
        	$("#modalsave").text("Save");
        	$("#adtrRequisitionFrwdSecModal").modal("show");
        }
        if(status == "2") {
        	$("#forwardRequisitionByCo").modal("show");
        }

	    //$('#requisition').modal('show');
	}
	
	/* draft Section by deepak End */
	function requestRequisition(id,identifier) {
		
		$("#subjectCoRequisition").val("");
		
		CKEDITOR.instances['comment'].setData(''); 
		
		$(".mulDoc").val("");
		$(".reqDocNameCls").val("");
		$(".coReqFileCls").empty();
		$(".reqCommentCls").val("");
		$(".editDocumentRequest").val("");
		
		$("#save").text("Save");
		
		$("#requisition #myTable tbody tr:not(:first)").remove();
		$("#requisition #myTable tbody tr:last").find('td:last').remove();
		var add='<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="addMoreCheck();"><span class="ti-plus"></span></button>&nbsp;';
		$("#requisition #myTable tbody tr:last").append('<td align="Right" width="200">'+ add+'</td>');
		
	   $('#requisition').modal('show');
	}


	function detailsOfAudit(id,type){
		$("#subjectAuditRequisition").val('');
		CKEDITOR.instances['commentNote'].setData('');
		$.ajax({
			type : 'POST',
			url : 'view-initiated-audit-getNotes',
			contentType: 'application/json; charset=utf-8',
			data : id,
			success : function(response) {
				if (response.message == "Success") {
					
					CKEDITOR.instances['commentNote'].setData(response.body.name);	
				}

			},
			error : function(e) {
				//console.log("error");
			}
		});
		//$("#id").val(id);	
		//$("#detailsModal").modal("show");
		$("#id").val(id);
		$("#type").val(type);
		//alert($("#type").val())
		$("#detailsModal").modal("show");
	}
	function detailsOfMeeting(id){

		$("#id").val(id);	
		$("#meetingModal").modal("show");
	}
	
	
	//add More
	
	$(document).ready(function() {
	var lengthOfTableRowReq = $("#tbodyDataReq").children('tr').length;
			$('.tbllReq').on('click', '.rmv', function () {
				$(this).closest('tr').remove();
				$("#myTableReq tbody tr:last").find('td:last').html('');
				var add='<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="addAuditDetailsCheck();"><span class="ti-plus"></span></button>&nbsp;'
				var remove = '<button type="button" class="btn btn-warning rmv" name="RemoveReq"><span class="ti-minus"></span></button>';

				if($("#tbodyDataReq").children('tr').length > 1){
				$("#myTableReq tbody tr:last").find('td:last').append(add);
				$("#myTableReq tbody tr:last").find('td:last').append(remove);
				}else{
				$("#myTableReq tbody tr:last").find('td:last').append(add);
				}
				displayTable();
				});
});

var count = 0;



	
	// Send Details
	function sendDetails(){	

    	var comment = CKEDITOR.instances.commentNote.getData();
		 var datasetReq = [];
		 var personTo = "";
			var personCC ="";
			
			$("#toHiddenId8").val('');
     		$("#CcHiddenId8").val('');
			
			var id1=$("#multiple8").chosen().val();
			$("#toHiddenId8").val(id1);
			$("#toHiddenId8").each(function () {
				personTo=$(this).val();
			});
			
			var id2=$("#multiple81").chosen().val();
			$("#CcHiddenId8").val(id2);
			$("#CcHiddenId8").each(function () {			
				personCC=$(this).val();
			});
			
			if(personTo==null || personTo==''){
				swal("Please select at least one person whom you want to send..");
				return false;
			}
		 $("#tbodyDataReq > tr").each(function(i) {
			 	    var uFile = $(this).find(".mulDocReq")[0].files[0];

		    	   var fileName = $(this).find(".mulDocReq").val();

		        if (fileName != '' && fileName != 'undefined' && fileName != null) {
		            var lastIndex = fileName.lastIndexOf("\\");
		            if (lastIndex >= 0) {
		                fileName = fileName.substring(lastIndex + 1);
		            }
		            var data = '';
		            var x = [];

		            var reader = new FileReader();
		            reader.readAsDataURL(uFile);

		            reader.onload = function() {

		                data = reader.result.split(",");

		                x.push(data[1]);
		            };
		        } else {
		            var x = [];
		            x.push('empty');
		        }
		        audit = {};   
		        audit['personTo'] = personTo;
		        audit['personCc'] = personCC;
		        audit['document'] = fileName;
		        audit['auditInitiate'] = $("#id").val();
		        audit['auditType'] = $("#auditType").val();
		        audit['subject'] = $("#subjectAuditRequisition").val();
		        audit['audit'] = $("#audit").val();
		        audit['summary'] = comment;
		        audit['file'] = x;
		        audit['documentName'] = $(this).find(".audiDocNameCls").val();
		        audit['documentComment'] = $(this).find(".audiCommentCls").val();
		        audit['auditTypeId'] = $("#type").val();


		        datasetReq.push(audit);
		        //console.log(datasetReq);
		    });
		 //console.log(datasetReq);
	
		swal.fire({
			  title: "Are you sure want to send?",
			  text: "Once send, can't revert back !",
			  type: "warning",
			  showCancelButton: true,
			  confirmButtonColor: '#d33',
			  cancelButtonColor: '#e7b63a',
			  confirmButtonText: 'Yes',
			  showLoaderOnConfirm		: false,
			  //closeOnConfirm: false,
			  reverseButtons : true,
			/*   preConfirm: () => {
					return new Promise((resolve) => {
						setTimeout(() => {
							console.log("Doing async operation");
							resolve()
						}, 3000)
					})
				} */
			}).then((result) => {
				if(result.value){
					document.getElementById("loader").style.display = "block";
				 $.ajax({
					 	type		:	"POST",
					 	url			:	"view-initiated-audit-details",
						dataType	:	"json",
						contentType: 'application/json; charset=utf-8',
						data : JSON.stringify(datasetReq),				    
					    success: function(response) {
					    	
					        if (response.message == "success") {
					        	document.getElementById("loader").style.display = "none";
					        	swal({
					        		title: "Sent Successfully.",
					        		type: "success"
					        	}).then(function(){
					        		 location.reload();
					        	})
					        
					        } else {
					        	document.getElementById("loader").style.display = "none";
					            swal({
					                title: 'Unsuccess',
					                text: response.code
					            })
					        }
					    },
					    error: function(data) {
				       
					    }
					})
				}
			  
			});
		
	}	
	

	
	// Meeting Details
	function MeetingDetails(){	
		 var datasetReq = [];
		 var personTo = "";
			var personCC ="";
			
			$("#toHiddenId9").val('');
     		//$("#CcHiddenId").val('');

			var id1=$("#multiple").chosen().val();
			$("#toHiddenId9").val(id1);
			$("#toHiddenId9").each(function () {
				personTo=$(this).val();
			});
			
			
		 $("#tbodyDataMeeting > tr").each(function(i) {
			 	    var uFile = $(this).find(".mulDocMett")[0].files[0];

		    	   var fileName = $(this).find(".mulDocMett").val();

		        if (fileName != '' && fileName != 'undefined' && fileName != null) {
		            var lastIndex = fileName.lastIndexOf("\\");
		            if (lastIndex >= 0) {
		                fileName = fileName.substring(lastIndex + 1);
		            }
		            var data = '';
		            var x = [];

		            var reader = new FileReader();
		            reader.readAsDataURL(uFile);

		            reader.onload = function() {

		                data = reader.result.split(",");

		                x.push(data[1]);
		            };
		        } else {
		            var x = [];
		            x.push('empty');
		        }
		        audit = {};   
		        audit['personTo'] 			= personTo;
		        audit['document'] 			= fileName;
		        audit['initiate'] 			= $("#id").val();
		        audit['audit'] 				= $("#audit").val();
		        audit['date'] 				= $("#date").val();
		        audit['fromTime'] 			= $("#fromTime").val();
		        audit['toTime'] 			= $("#toTime").val();
		        audit['section'] 			= $("#section").val();
		        audit['meetingType'] 		= $("#meetingType").val();
		        audit['subject'] 			= $("#subjectAuditMeeting").val();
		        audit['file'] 				= x;
		        audit['documentName'] 		= $(this).find(".mettDocNameCls").val();
		        audit['comment'] 			= $(this).find(".mettCommentCls").val();
		        audit['comments'] 			=CKEDITOR.instances.entryMeeting.getData();

		        datasetReq.push(audit);
		        
		        //console.log(datasetReq);
		    });
		 if (!blankValidation("date", "TextField", "Please Select Date"))
				return false;
			
			if (!blankValidation("fromTime", "TextField","Please Select  From Time"))
				return false;
			
			if (!blankValidation("toTime", "TextField","Please Select To Time"))
				return false;
		
			if (!blankValidation("section", "SelectBox","Please Select  Section"))
					return false;
			
			if (!blankValidation("toHiddenId9", "SelectBox","Please Select  Participants"))
				return false;
		
			
		swal.fire({
			  title: "Are you sure want to send?",
			  text: "Once send, can't revert back !",
			  type: "warning",
			  showCancelButton: true,
			  confirmButtonColor: '#d33',
			  cancelButtonColor: '#e7b63a',
			  confirmButtonText: 'Yes',
			  showLoaderOnConfirm		: false,
			  //closeOnConfirm: false,
			  reverseButtons : true,
			 /*  preConfirm: () => {
					return new Promise((resolve) => {
						setTimeout(() => {
							console.log("Doing async operation");
							resolve()
						}, 3000)
					})
				} */
			}).then((result) => {
				if(result.value){
					document.getElementById("loader").style.display = "block";
				 $.ajax({
					 	type		:	"POST",
					 	url			:	"view-initiated-audit-meeting",
						dataType	:	"json",
						contentType: 'application/json; charset=utf-8',
						data : JSON.stringify(datasetReq),				    
					    success: function(response) {
					    	
					        if (response.message == "success") {
					        	document.getElementById("loader").style.display = "none";
					        	swal({
					        		title: "Sent Successfully.",
					        		type: "success"
					        	}).then(function(){
					        		 location.reload();
					        	})
					        
					        } else {
					        	document.getElementById("loader").style.display = "none";
					            swal({
					                title: 'Unsuccess',
					                text: response.code
					            })
					        }
					    },
					    error: function(data) {
				       
					    }
					})
				}
			  
			});
		
	}
	
	function deleteInterviewer(event){
		var id = event.target.id;
		$("#deleteEmp_"+id).remove();
		$("#toHiddenId1").val("");
	}
	
	
	function responseRequisition(id, identifier, reqid, event) {
	    $(".search-choice1").hide();
	    $(".search-choice2").hide();
	    var currentFldId = event.currentTarget.getAttribute('id');
	    var l = currentFldId.split("_");
	    var countSection = l[1];
	    $("#reqResponse").val(id);
	    $("#identifierRes").val(identifier);
	    
	    //console.log($("#previd").val())
	    var i = 0;
	    
	    $('#allpdfid').val('');
	    $.ajax({
	        type: 'GET',
	        url: 'view-statutary-audit-master-getReqResponse-previd?reqid=' + reqid,
	        contentType: false,
	        success: function(response) {
	            //console.log(response);
	            var data = [];
	            if (response.message == "success") {
	            var id= response.body[0].name;
	           
	            $('#allpdfid').val(id);	            
	            }

	        },
	        error: function(e) {
	            //console.log("error");
	        }
	    });
	    
	    
	    //console.log("id"+id,"identi"+identifier,"req"+reqid,event)
	    $.ajax({
	        type: 'GET',
	        url: 'view-statutary-audit-master-getReqResponse?id=' + id,
	        contentType: false,
	        //data : summery,
	        success: function(response) {
	            //console.log(response);
	            var data = [];
	            if (response.message == "success") {
	                CKEDITOR.instances['commentRes'].setData(response.body[0].name);
	                i++;
	            }

	        },
	        error: function(e) {
	            console.log("error");
	        }
	    });

	    var comment = $('#reqCommentId_' + countSection).html();
	    CKEDITOR.instances['commentRes'].setData(comment);

	    /* if(i>0){ */
	    $.ajax({
	        type: 'GET',
	        url: 'view-statutary-audit-master-getReplyAutocomplete?id=' + id + '&reqId=' + reqid,
	        success: function(response) {
	            //console.log(response)
	            if (response.message == "Success") {

	                $("#subjectReply").val(response.body[0].subject);

	                if (response.body[0].document == "" || response.body[0].document == null || response.body[0].document == "null") {
	                    ////alert("if 2nd")
	                    for (var i = 0; i < response.body.length; i++) {

	                        $("#toHiddenId1").val(response.body[0].createdby);

	                        var createdBy = $("#createdBy_" + countSection).text();

	                        //console.log(createdBy);
	                        var div ='<li class="search-choice search-choice1 default"><span>' + createdBy + '</span><a class="search-choice-close" data-option-array-index="'+i+'"></a></li>';
	                       // var div = '<li class="search-choice search-choice1 default"><span> 1 </span><a class="search-choice-close" data-option-array-index="' + i + '"></a></li>';
	                        $("#autocomplete-select21").closest('div').find(".chosen-choices").first().append(div);
	                        // $("#autocomplete-select21").closest('div').find(".chosen-choices").first().append('<li class="search-choice search-choice1 default"><span>Ms. Niharika   Jena  ( Dep  Manager )  ( HO-Co-ordinator ) </span><a class="search-choice-close" data-option-array-index="0"></a></li>');//.insertBefore('.search-field');

	                        $('#autocomplete-select21').on('change', function() {
	                            $('.chosen-choices').closest('div').find('.search-choice1').hide();
	                            //$("#toHiddenId1").val('');
	                        })

	                        $('.search-choice-close').on('click', function() {
	                            $('.chosen-choices').closest('div').find('.search-choice1').hide();
	                            $("#toHiddenId1").val('');
	                        })
	                        $('.mulDocRes').attr("file", response.body[i].document);


	                        /*  	for Cc */
	                        $("#CcHiddenId1").val(response.body[0].personCc);
	                        $("#autocomplete-select22").closest('div').find(".ss-values").empty();
	                        var personcc = $("#personCc_" + countSection).text();
	                        //console.log("HI " + personcc);
	                        if (personcc != '') {
	                            var splitCc = personcc.split(",");
	                            for (var j = 0; j < splitCc.length; j++) {
	                                var splitpersoncc = splitCc[j];

	                                $("#autocomplete-select22").closest('div').find(".chosen-choices").first().append('<li class="search-choice search-choice2 default"><span>' + splitpersoncc + '</span><a class="search-choice-close" data-option-array-index="' + i + '"></a></li>'); //.insertBefore('.search-field');
	                                $('#autocomplete-select22').on('change', function() {
	                                    $('.chosen-choices').closest('div').find('.search-choice2').hide();
	                                    //$("#CcHiddenId1").val('');
	                                })
 							$('.search-choice-close').on('click', function() {
	                            $('.chosen-choices').closest('div').find('.search-choice2').hide();
	                            $("#CcHiddenId1").val('');
	                        })
	                                $('.mulDocRes').attr("file", response.body[i].document);
	                            }
	                        }


	                        $("#tbodyDataRes").empty();
	                        var div = '<tr class="tr_clone" id="row">' +
	                            '<td width="300"><input type="text" class="form-control resDocNameCls" id="resDocName_' + i + '">' +
	                            '</td>' +
	                            '<td width="320"><div class="row" id="rowId_' + i + '">' +
	                            '<div id="row2_' + i + '" style="text-align: right; padding-left: 50px; padding-top: 10px;"><div class="text replyHoCls" id="replyHo_' + i + '">' +
	                            '</div>' +
	                            '</div><div class="upload-btn-wrapper"><label class="custom-file-upload" for="mulDocAtta">' +
	                            '<i class="fa fa-cloud-upload"></i>Document</label> <input type="file" class="mulDocRes" id="docRes_' + i + '" style="display: block;" ' +
	                            'onchange="saveFileAssign(event);checkImageFormat(this);">' +
	                            '<input type="hidden" class="editDocumentReply" id="editDocReply_' + i + '">' +
	                            '</div></div>' +
	                            '</td>' +
	                            '<td width="300"><textarea class="form-control resCommentCls" id="resComment_' + i + '" value="" autocomplete="on"></textarea></td>' +
	                            '<td align="Right" width="200"><button type="button" class="btn btn-primary tr_clone_add"' +
	                            'name="add" onclick="moreResponseCheck()"><span class="ti-plus"></span></button></td></tr>';

	                        $("#tbodyDataRes").append(div);
	                    }
	                } else {
	                   // alert("else 1")
	                    $("#tbodyDataRes").empty();
	                    if (response.body.length == 1) {
	                        for (var i = 0; i < response.body.length; i++) {
	                            var docType = (response.body[i].document).split(".");

	                            var iTag = '<i class="fa fa-picture-o fa-2x "></i>';
	                            if (docType[1] == "pdf") {
	                                iTag = '<i class="fa fa-file-pdf-o fa-2x "></i>';
	                            }
	                            if (docType[1] == "xls" || docType[1] == "xlsx") {
	                                iTag = '<i class="fa fa-file-excel-o fa-2x "></i>';
	                            }
	                            if (docType[1] == 'docx') {
	                                iTag = '<i class="fa fa-file-word-o fa-2x "></i>';
	                            }

	                           // alert("else -> if 1")
	                            $("#toHiddenId1").val(response.body[0].createdby);
	                            var createdBy = $("#createdBy_" + countSection).text();
	                            //console.log(createdBy);

	                           var div = '<li class="search-choice search-choice1 default"><span>' + createdBy + '</span><a class="search-choice-close" data-option-array-index="' + i + '"></a></li>';
	                           $("#autocomplete-select21").closest('div').find(".chosen-choices").first().append(div);

	                            $('.search-choice-close').on('click', function() {
	                                $('.chosen-choices').closest('div').find('.search-choice1').hide();
	                                $("#toHiddenId1").val('');
	                            })

	                            $('#autocomplete-select21').on('change', function() {
	                                $('.chosen-choices').closest('div').find('.search-choice1').hide();
	                                //$("#toHiddenId1").val('');
	                            })


	                            $('.mulDocRes').attr("file", response.body[i].document);

	                            /*  	for Cc */
	                            $("#CcHiddenId1").val(response.body[0].personCc);
	                          //  $("#autocomplete-select22").closest('div').find(".ss-values").empty();
	                            var personcc = $("#personCc_" + countSection).text();
	                            //console.log("HI " + personcc);
	                            if (personcc != '') {
	                                var splitCc = personcc.split(",");
	                                for (var j = 0; j < splitCc.length; j++) {
	                                    var splitpersoncc = splitCc[j];
	    	                            var div = '<li class="search-choice search-choice1 default"><span>"' + createdBy + '"</span><a class="search-choice-close" data-option-array-index="' + i + '"></a></li>';
	    	                           
	                                    $("#autocomplete-select22").closest('div').find(".chosen-choices").first().append(div); 
	                                    $('#autocomplete-select22').on('change', function() {
	                                        $('.chosen-choices').closest('div').find('.search-choice2').hide();
	                                        //$("#CcHiddenId1").val('');
	                                    })
	                                    $('.search-choice-close').on('click', function() {
	                                        $('.chosen-choices').closest('div').find('.search-choice2').hide();
	                                        $("#CcHiddenId1").val('');
	                                    })
	                                    $('.mulDocRes').attr("file", response.body[i].document);
	                                }
	                            }

	                            var div = '<tr class="tr_clone" id="row">' +
	                                '<td width="300"><input type="text" class="form-control resDocNameCls" id="resDocName_' + i + '" value="' + response.body[i].documentName + '">' +
	                                '</td>' +
	                                '<td width="320"><div class="row" id="rowId_' + i + '">' +
	                                '<div id="row2_' + i + '" style="text-align: right; padding-left: 50px; padding-top: 10px;"><div class="text replyHoCls" id="replyHo_' + i + '">' +
	                                '<a class="example-image-link" href="../document/audit/' + response.body[i].document + '" title="' + response.body[i].document + '" target="_balnk">' + iTag + '</a>' +
	                                '</div>' +
	                                '</div><div class="upload-btn-wrapper"><label class="custom-file-upload" for="mulDocAtta">' +
	                                '<i class="fa fa-cloud-upload"></i>Document</label> <input type="file" class="mulDocRes" id="docRes_' + i + '" style="display: block;" ' +
	                                'onchange="saveFileAssign(event);checkImageFormat(this);">' +
	                                '<input type="hidden" class="editDocumentReply" id="editDocReply_' + i + '" value="' + response.body[i].document + '">' +
	                                '</div></div>' +
	                                '</td>' +
	                                '<td width="300"><textarea class="form-control resCommentCls" id="resComment_' + i + '" value="" autocomplete="on">' + response.body[i].documentComment + '</textarea></td>' +
	                                '<td align="Right" width="200"><button type="button" class="btn btn-primary tr_clone_add"' +
	                                'name="add" onclick="moreResponseCheck()"><span class="ti-plus"></span></button></td></tr>';

	                            $("#tbodyDataRes").append(div);
	                        }
	                    } else {
	                       // alert("else 2")
	                        
	                        $("#toHiddenId1").val(response.body[0].createdby);

	                            var createdBy = $("#createdBy_" + countSection).text();

	                            var div = '<li class="search-choice search-choice1 default"><span>' + createdBy + '</span><a class="search-choice-close" data-option-array-index="' + i + '"></a></li>';
		                           
	                           $("#autocomplete-select21").closest('div').find(".chosen-choices").first().append(div);

	                            $('#autocomplete-select21').on('change', function() {
	                                $('.chosen-choices').closest('div').find('.search-choice1').hide();
	                                //$("#toHiddenId1").val('');
	                               
	                            })
	                            $('.search-choice-close').on('click', function() {
	                                $('.chosen-choices').closest('div').find('.search-choice1').hide();
	                                $("#toHiddenId1").val('');
	                               // $('#autocomplete-select21').chosen(); 
	                            })
	                            
	                        for (var i = 0; i < response.body.length; i++) {

	                            var docType = (response.body[i].document).split(".");

	                            var iTag = '<i class="fa fa-picture-o fa-2x "></i>';
	                            if (docType[1] == "pdf") {
	                                iTag = '<i class="fa fa-file-pdf-o fa-2x "></i>';
	                            }
	                            if (docType[1] == "xls" || docType[1] == "xlsx") {
	                                iTag = '<i class="fa fa-file-excel-o fa-2x "></i>';
	                            }
	                            if (docType[1] == 'docx') {
	                                iTag = '<i class="fa fa-file-word-o fa-2x "></i>';
	                            }


	                            

	                            $('.mulDocRes').attr("file", response.body[i].document);

	                            /*  	for Cc */
	                            $("#CcHiddenId1").val(response.body[0].personCc);
	                           // $("#autocomplete-select22").closest('div').find(".ss-values").empty();
	                            var personcc = $("#personCc_" + countSection).text();
	                            //console.log("HI " + personcc);
	                            if (personcc != '') {
	                                var splitCc = personcc.split(",");
	                                for (var j = 0; j < splitCc.length; j++) {
	                                    var splitpersoncc = splitCc[j];
	                                    var div = '<li class="search-choice search-choice2 default"><span>' + splitpersoncc + '</span><a class="search-choice-close" data-option-array-index="' + j + '"></a></li>';
	     	                           
	                                    $("#autocomplete-select22").closest('div').find(".chosen-choices").first().append(div);

	    	                            $('#autocomplete-select22').on('change', function() {
	    	                                $('.chosen-choices').closest('div').find('.search-choice2').hide();
	    	                               // $("#CcHiddenId1").val('');
	    	                            })
	    	                            $('.search-choice-close').on('click', function() {
	    	                                $('.chosen-choices').closest('div').find('.search-choice2').hide();
	    	                                $("#CcHiddenId1").val('');
	    	                            })
	                                 
	                                    $('.mulDocRes').attr("file", response.body[i].document);
	                                }
	                            }

	                            if (i == response.body.length - 1) {
	                               // alert("if inside")
	                                var div = '<tr class="tr_clone" id="row">' +
	                                    '<td width="300"><input type="text" class="form-control resDocNameCls" id="resDocName_' + i + '" value="' + response.body[i].documentName + '">' +
	                                    '</td>' +
	                                    '<td width="320"><div class="row" id="rowId_' + i + '">' +
	                                    '<div id="row2_' + i + '" style="text-align: right; padding-left: 50px; padding-top: 10px;"><div class="text replyHoCls" id="replyHo_' + i + '">' +
	                                    '<a class="example-image-link" href="../document/audit/' + response.body[i].document + '" title="' + response.body[i].document + '" target="_balnk">' + iTag + '</a>' +
	                                    '</div>' +
	                                    '</div><div class="upload-btn-wrapper"><label class="custom-file-upload" for="mulDocAtta">' +
	                                    '<i class="fa fa-cloud-upload"></i>Document</label> <input type="file" class="mulDocRes" id="docRes_' + i + '" style="display: block;" ' +
	                                    'onchange="saveFileAssign(event);checkImageFormat(this);">' +
	                                    '<input type="hidden" class="editDocumentReply" id="editDocReply_' + i + '" value="' + response.body[i].document + '">' +
	                                    '</div></div>' +
	                                    '</td>' +
	                                    '<td width="300"><textarea class="form-control resCommentCls" id="resComment_' + i + '" value="" autocomplete="on">' + response.body[i].documentComment + '</textarea></td>' +
	                                    '<td align="Right" width="200"><button type="button" class="btn btn-primary tr_clone_add"' +
	                                    'name="add" onclick="moreResponseCheck()"><span class="ti-plus"></span></button><button type="button" class="btn btn-warning rmv" name="RemoveReq"><span class="ti-minus"></span></button></td></tr>';

	                            } else {
	                                //alert("else inside")
	                                var div = '<tr class="tr_clone" id="row">' +
	                                    '<td width="300"><input type="text" class="form-control resDocNameCls" id="resDocName_' + i + '" value="' + response.body[i].documentName + '">' +
	                                    '</td>' +
	                                    '<td width="320"><div class="row" id="rowId_' + i + '">' +
	                                    '<div id="row2_' + i + '" style="text-align: right; padding-left: 50px; padding-top: 10px;"><div class="text replyHoCls" id="replyHo_' + i + '">' +
	                                    '<a class="example-image-link" href="../document/audit/' + response.body[i].document + '" title="' + response.body[i].document + '" target="_balnk"> ' + iTag + '</a>' +
	                                    '</div>' +
	                                    '</div><div class="upload-btn-wrapper"><label class="custom-file-upload" for="mulDocAtta">' +
	                                    '<i class="fa fa-cloud-upload"></i>Document</label> <input type="file" class="mulDocRes" id="docRes_' + i + '" style="display: block;" ' +
	                                    'onchange="saveFileAssign(event);checkImageFormat(this);">' +
	                                    '<input type="hidden" class="editDocumentReply" id="editDocReply_' + i + '" value="' + response.body[i].document + '">' +
	                                    '</div></div>' +
	                                    '</td>' +
	                                    '<td width="300"><textarea class="form-control resCommentCls" id="resComment_' + i + '" value="" autocomplete="on">' + response.body[i].documentComment + '</textarea></td>' +
	                                    '<td align="Right" width="200"><button type="button" class="btn btn-warning rmv" name="RemoveReq"><span class="ti-minus"></span></button></td></tr>';
	                            }

	                            $("#tbodyDataRes").append(div);
	                        }
	                    }
	                }

	            }

	        },
	        error: function(e) {
	            //console.log("error");
	        }
	    });

	    /* } */

	    $('#responseReply').modal('show');
	}
	
	/* replay to requisition  add more */
	function moreResponse(){
		var lengthOfTableRowReq = $("#tbodyDataRes").children('tr').length;
		var cloneHtml = $("#myTableRes tbody tr:first").clone();
		
		$("#myTableRes tbody tr:last").find('td:last').html('');
		$("#myTableRes tbody").append($("#myTableRes tbody tr:first").clone());
		
		$("#myTableRes tbody tr td:last").html("");
		var addMore='<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="moreResponseCheck();"><span class="ti-plus"></span></button>&nbsp;'
		var removeMore = '<button type="button" class="btn btn-warning rmv" name="RemoveReq"><span class="ti-minus"></span></button>';
		
		$("#myTableRes tbody tr:last").find('td:last').append(addMore);
		$("#myTableRes tbody tr:last").find('td:last').append(removeMore);
		$("#myTableRes tbody tr:last").find(".mulDocRes").val("");
		$("#myTableRes tbody tr:last").find(".resDocNameCls").attr("value","");
		$("#myTableRes tbody tr:last").find(".replyHoCls").empty();
		$("#myTableRes tbody tr:last").find(".resCommentCls").val("");
		$("#myTableRes tbody tr:last").find(".editDocumentReply").val("");
		$("#myTableRes tbody tr:last .replyHoCls").find("a").attr("title","");
		
		
		var editTrReq = 0;
		
		if(lengthOfTableRowReq>editTrReq){
			$("#myTableRes tbody tr").eq(lengthOfTableRowReq-1).find('td:last').append(removeMore);
		}
		
		$("#myTableRes > tbody > tr").each(function(i){
			var textInput = $(this).find('input');
			var divInput = $(this).find('div');
			var areaInput = $(this).find('textarea');
			textInput.eq(0).attr('id',"resDocName_"+i);
			textInput.eq(1).attr('id',"docRes_"+i);
			divInput.eq(1).attr('id', "row2_" + i);
			divInput.eq(2).attr('id', "replyHo_" + i)
			areaInput.eq(2).attr('id', "resComment_" + i)
			textInput.eq(2).attr('id', "editDocReply_" + i)
			
		})
		
	}
	/* replay to requisition  add more */
	function MeetingMore(){
		var lengthOfTableRowReq = $("#tbodyDataMeeting").children('tr').length;
		var cloneHtml = $("#myTableMeeting tbody tr:first").clone();
		
		$("#myTableMeeting tbody tr:last").find('td:last').html('');
		$("#myTableMeeting tbody").append($("#myTableMeeting tbody tr:first").clone());
		
		$("#myTableMeeting tbody tr td:last").html("");
		var addMore='<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="checkMeeting();"><span class="ti-plus"></span></button>&nbsp;'
		var removeMore = '<button type="button" class="btn btn-warning rmv" name="RemoveMeeting"><span class="ti-minus"></span></button>';
		
		$("#myTableMeeting tbody tr:last").find('td:last').append(addMore);
		$("#myTableMeeting tbody tr:last").find('td:last').append(removeMore);
		$("#myTableMeeting tbody tr:last").find(".mulDocMett").val("");
		$("#myTableMeeting tbody tr:last").find(".mettDocNameCls").val("");
		$("#myTableMeeting tbody tr:last").find(".meetIcon").empty();
		$("#myTableMeeting tbody tr:last").find(".mettCommentCls").val("");
		
		
		var editTrReq = 0;
		
		if(lengthOfTableRowReq>editTrReq){
			$("#myTableMeeting tbody tr").eq(lengthOfTableRowReq-1).find('td:last').append(removeMore);
		}
		
		$("#myTableMeeting > tbody > tr").each(function(i){
			var textInput = $(this).find('input');
			var divInput = $(this).find('div');
			var areaInput = $(this).find('textarea');
			textInput.eq(0).attr('id',"mettDocName_"+i);
			textInput.eq(1).attr('id',"docMett_"+i);
			divInput.eq(1).attr('id', "row2_" + i);
			divInput.eq(2).attr('id', "meetFile_" + i)
			areaInput.eq(0).attr('id', "mettComment_" + i)
			
		})
		
	}
	
	
	$(document).ready(function() {
					/* SEND REPONSE to Requisition */
					var lengthOfTableRowReq = $("#tbodyDataRes").children('tr').length;
					$('.tbllResponse').on('click', '.rmv', function () {
						$(this).closest('tr').remove();
						$("#myTableRes tbody tr:last").find('td:last').html('');
						var add='<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="moreResponseCheck();"><span class="ti-plus"></span></button>&nbsp;'
						var remove = '<button type="button" class="btn btn-warning rmv" name="RemoveReq"><span class="ti-minus"></span></button>';

						if($("#tbodyDataRes").children('tr').length > 1){
						$("#myTableRes tbody tr:last").find('td:last').append(add);
						$("#myTableRes tbody tr:last").find('td:last').append(remove);
						}else{
						$("#myTableRes tbody tr:last").find('td:last').append(add);
						}
						
						cot--;
						
						});
					/* SEND REPONSE to Requisition */
					var lengthOfTableRowReq = $("#tbodyDataMeeting").children('tr').length;
					$('.tbllMeeting').on('click', '.rmv', function () {
						$(this).closest('tr').remove();
						$("#myTableMeeting tbody tr:last").find('td:last').html('');
						var add='<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="checkMeeting();"><span class="ti-plus"></span></button>&nbsp;'
						var remove = '<button type="button" class="btn btn-warning rmv" name="RemoveMeeting"><span class="ti-minus"></span></button>';

						if($("#tbodyDataMeeting").children('tr').length > 1){
						$("#myTableMeeting tbody tr:last").find('td:last').append(add);
						$("#myTableMeeting tbody tr:last").find('td:last').append(remove);
						}else{
						$("#myTableMeeting tbody tr:last").find('td:last').append(add);
						}
						
						});
		});
	
	$(document).ready(function(){
		$('#autocomplete-select21').chosen().change(function(){
			//$("#toHiddenId1").val("");
			var myValues = $('#autocomplete-select21').chosen().val();
		    if(myValues.length > 0) {
		    	var data = "";
		    	for(var i = 0; i < myValues.length; i++) {
		    		data = data + myValues[i] + ",";
		    	}
		    	data = data.substring(0, data.length - 1);
		    	console.log(data) 
		    	$("#toHiddenId1").val(data);
		    }
		})
		
		$('#autocomplete-select22').chosen().change(function(){
			$("#CcHiddenId1").val("");
		    var myValues = $('#autocomplete-select22').chosen().val();
		    if(myValues.length > 0) {
		    	var data = "";
		    	for(var i = 0; i < myValues.length; i++) {
		    		data = data + myValues[i] + ",";
		    	}
		    	data = data.substring(0, data.length - 1);
		    	console.log(data) 
		    	$("#CcHiddenId1").val(data);
		    }
		});
	})
	
	function responseReqReply(){	
		
    	var comment = CKEDITOR.instances.commentRes.getData();
		 var datasetRes = [];
		 var personTo = "";
			var personCC ="";
			
			var prevauditid= ($('#allpdfid').val());
			
			$("#toHiddenId1").each(function () {
				personTo=$(this).val();
			});
			$("#CcHiddenId1").each(function () {			
				personCC=$(this).val();
			});
		 $("#tbodyDataRes > tr").each(function(i) {
		    	    var uFile = $(this).find(".mulDocRes")[0].files[0];

		    	   var fileName = $(this).find(".mulDocRes").val();
		    	   
		    	   var ffReply = $(this).find(".editDocumentReply").val();

		        if (fileName != '' && fileName != 'undefined' && fileName != null) {
		            var lastIndex = fileName.lastIndexOf("\\");
		            if (lastIndex >= 0) {
		                fileName = fileName.substring(lastIndex + 1);
		            }
		            var data = '';
		            var x = [];

		            var reader = new FileReader();
		            reader.readAsDataURL(uFile);

		            reader.onload = function() {

		                data = reader.result.split(",");

		                x.push(data[1]);
		            };
		        } else {
		            var x = [];
		            x.push('empty');
		        }
		        audit = {}; 
		        if(fileName == "" || fileName == "null" || fileName == null){
		        	 audit['personTo'] = personTo;
				        audit['personCc'] = personCC;		       		      
				        audit['document'] = ffReply;		       		      
				        audit['auditId'] = $("#reqResponse").val();
				        audit['identifier'] = $("#identifierRes").val();
				        audit['subject'] = $("#subjectReply").val();
				        audit['comment'] = comment;
				        audit['documentName'] = $(this).find(".resDocNameCls").val();
				        audit['documentComment'] = $(this).find(".resCommentCls").val();
				        audit['file'] = x;
				        audit['initiatedId'] = $("#auditInitiated").val();
				        audit['auditType'] = $("#auditType").val();
				        audit['prevauditid'] = prevauditid;
		        } else{
		        	 audit['personTo'] = personTo;
				        audit['personCc'] = personCC;		       		      
				        audit['document'] = fileName;		       		      
				        audit['auditId'] = $("#reqResponse").val();
				        audit['identifier'] = $("#identifierRes").val();
				        audit['subject'] = $("#subjectReply").val();
				        audit['comment'] = comment;
				        audit['documentName'] = $(this).find(".resDocNameCls").val();
				        audit['documentComment'] = $(this).find(".resCommentCls").val();
				        audit['file'] = x;
				        audit['initiatedId'] = $("#auditInitiated").val();
				        audit['auditType'] = $("#auditType").val();
				        audit['prevauditid'] = prevauditid;
		        }
		       


		        datasetRes.push(audit);
		        
		    });
		 console.log(datasetRes);
	/* 	var	obj={};
		obj.comment= CKEDITOR.instances.commentRes.getData();
		obj.auditId = $('#id').val();
		obj.documentName=$('#id').val(); */
		//console.log(datasetRes);
		if(comment!=null)
		
		swal.fire({
			  title: "Are you sure want to send?",
			  text: "Once sent ,can't revert back !",
			  type: "warning",
			  showCancelButton: true,
			  confirmButtonColor: '#d33',
			  cancelButtonColor: '#e7b63a',
			  showLoaderOnConfirm		: false,
			  confirmButtonText: 'Yes',
			  //closeOnConfirm: false,
			  reverseButtons : true,
		/* 	  preConfirm: () => {
					return new Promise((resolve) => {
						setTimeout(() => {
							console.log("Doing async operation");
							resolve()
						}, 3000)
					})
				} */
			})
			.then((result) => {
				if(result.value){
				document.getElementById("loader").style.display = "block";
				 $.ajax({
					 	type		:	"POST",
					 	url			:	"view-statutary-audit-master-sendResponse",
						dataType	:	"json",
						contentType : 'application/json; charset=utf-8',
						data : JSON.stringify(datasetRes),						    
					    success: function(response) {
					    	
					        if (response.message == "success") {
					        	document.getElementById("loader").style.display = "none";
					        	swal({
					        		title: "Sent Successfully.",
					        		type: "success"
					        	}).then(function(){
					        		 location.reload();
					        	})
					        
					        } else {
					        	document.getElementById("loader").style.display = "none";
					            swal({
					                title: 'Unsuccess',
					                text: response.code
					            })
					        }
					    },
					    error: function(data) {
				       
					    }
					}) 
				}
			  
			});	
	}
	
	// requisition Forward Bysection head 
	function reqForwardBysec(){
		var comment = CKEDITOR.instances.commentRes.getData();
		
		//var auditidforpdf1=$("#auditidforpdf1").val();
		/* var auditidforpdf2=$("#auditidforpdf2").val(); */
		
		//console.log(auditidforpdf1);
		//console.log(auditidforpdf2);
		var prevauditid= ($('#allpdfid').val()); //alert("allpdfid "+allpdfid);
		
			var datasetRes = [];
			var personTo = "";
			var personCC ="";
			
			$("#toHiddenId1").val('');
     		$("#CcHiddenId1").val('');
			
			var id1=$("#autocomplete-select21").chosen().val();
			$("#toHiddenId1").val(id1);
			$("#toHiddenId1").each(function () {
				personTo=$(this).val();
			});
			
			var id2=$("#autocomplete-select22").chosen().val();
			$("#CcHiddenId1").val(id2);
			$("#CcHiddenId1").each(function () {			
				personCC=$(this).val();
			});
			
			if(personTo==null || personTo==''){
				swal("Please select at least one person whom you want to send..");
				return false;
			}
		 $("#tbodyDataRes > tr").each(function(i) {
		      // console.log($(this).find(".mulDocRes").val());
		    	    var uFile = $(this).find(".mulDocRes")[0].files[0];

		    	   var fileName = $(this).find(".mulDocRes").val();
		    	   var ffReplyCoordinator = $(this).find(".editDocumentReply").val();
		    	  

		        if (fileName != '' && fileName != 'undefined' && fileName != null) {
		            var lastIndex = fileName.lastIndexOf("\\");
		            if (lastIndex >= 0) {
		                fileName = fileName.substring(lastIndex + 1);
		            }
		            var data = '';
		            var x = [];

		            var reader = new FileReader();
		            reader.readAsDataURL(uFile);

		            reader.onload = function() {

		                data = reader.result.split(",");

		                x.push(data[1]);
		            };
		        } else {
		            var x = [];
		            x.push('empty');
		        }
		        audit = {};
		        
		        if(fileName == null || fileName == "" || fileName == "null"){
		        	audit['document'] = ffReplyCoordinator;	
			        audit['personTo'] = personTo;
			        audit['personCc'] = personCC;
			        audit['auditId'] = $("#reqResponse").val();
			        audit['identifier'] = $("#identifierRes").val();
			        audit['subject'] = $("#subjectReply").val();
			        audit['comment'] = comment;
			        audit['documentName'] = $(this).find(".resDocNameCls").val();
			        audit['documentComment'] = $(this).find(".resCommentCls").val();
			        audit['file'] = x;
			        audit['initiatedId'] = $("#auditInitiated").val();
			        audit['auditType'] = $("#auditType").val();
			        audit['prevauditid'] = prevauditid;
		        } else{
	
		        	audit['document'] = fileName;	
			        audit['personTo'] = personTo;
			        audit['personCc'] = personCC;
			        audit['auditId'] = $("#reqResponse").val();
			        audit['identifier'] = $("#identifierRes").val();
			        audit['subject'] = $("#subjectReply").val();
			        audit['comment'] = comment;
			        audit['documentName'] = $(this).find(".resDocNameCls").val();
			        audit['documentComment'] = $(this).find(".resCommentCls").val();
			        audit['file'] = x;
			        audit['initiatedId'] = $("#auditInitiated").val();
			        audit['auditType'] = $("#auditType").val();
			        audit['prevauditid'] = prevauditid;
		        }
		        
		        //audit['priority'] = $("#priorityReply").val();


		        datasetRes.push(audit);
		       
		    });
		 //console.log(datasetRes);
				swal.fire({
				  title: "Are you sure want to send",
				  text: "Once sent ,can't revert back !",
				  type: "warning",
				  showCancelButton: true,
				  confirmButtonColor: '#d33',
				  cancelButtonColor: '#e7b63a',
				  showLoaderOnConfirm		: false,
				  confirmButtonText: 'Yes',
				  //closeOnConfirm: false,
				  reverseButtons : true,
				  /* preConfirm: () => {
						return new Promise((resolve) => {
							setTimeout(() => {
								console.log("Doing async operation");
								resolve()
							}, 3000)
						})
					} */
				})
				.then((result) => {
					if(result.value){
					 document.getElementById("loader").style.display = "block";
					 $.ajax({
						 	type		:	"POST",
						 	url			:	"view-statutary-audit-master-reqForwardBysec",
							dataType	:	"json",
							contentType: 'application/json; charset=utf-8',
							data : JSON.stringify(datasetRes),						    
						    success: function(response) {
						    
						        if (response.message == "success") {
						        	document.getElementById("loader").style.display = "none";
						        	swal({
						        		title: "Sent Successfully.",
						        		type: "success"
						        	}).then(function(){
						        		 location.reload();
						        	})
						        
						        } else {
						        	document.getElementById("loader").style.display = "none";
						            swal({
						                title: 'Unsuccess',
						                text: response.code
						            })
						        }
						    },
						    error: function(data) {
					       
						    }
						})
					 }else{
						return false;
					} 
				  
				});	
		}
	
	function forwardRequisition(initiate){
		 //$("#reqForward").val(id);
		 $("#saveResponse3").text("Save");
		 $("#subjectCoForward").val("");
		 $("#initiateForward").val(initiate);
		 var  comment= $('#reqCommentId_0').html();
			CKEDITOR.instances['commentForward'].setData(comment);
		 $('#forwardRequisitionByCo').modal('show');
		
	}
	function forwardPom(initiate){
		 //$("#pomForward").val(id);
		 $("#initiatePOMForward").val(initiate);
		// var  comment= $('#reqCommentId_0').html();
			//CKEDITOR.instances['commentForward'].setData(comment);
		 $('#forwardPOMByCo').modal('show');
		
	}
	function forwardInspection(initiate){
		 //$("#pomForward").val(id);
		 $("#initiateIRSForward").val(initiate);
		// var  comment= $('#reqCommentId_0').html();
			//CKEDITOR.instances['commentForward'].setData(comment);
		 $('#forwardIRSByCo').modal('show');
		
	}
	function forwardDarftPara(initiate){
		 //$("#pomForward").val(id);
		 $("#initiateParaForward").val(initiate);
		// var  comment= $('#reqCommentId_0').html();
			//CKEDITOR.instances['commentForward'].setData(comment);
		 $('#forwardParaByCo').modal('show');
		
	}
	
	function forwardNewPara(initiate){
		 //$("#pomForward").val(id);
		 $("#NEWPara").val(initiate);
		// var  comment= $('#reqCommentId_0').html();
			//CKEDITOR.instances['commentForward'].setData(comment);
		 $('#NewparaModal').modal('show');
		
	}
	
	function rejectFromCoordinator(id,reqId,toId){
		$("#auditCo").val(id);
		$("#rejectCo").val(reqId);
		$('.search-choice1').hide();
		$('.search-choice2').hide();
		
		$.ajax({
		type : 'GET',
		url : 'view-statutary-audit-master-getReplyAutocomplete?id='+id+'&reqId=' + reqId,
		success : function(response) {
		//console.log(response)
		if(response.message=="Success"){

		var comment= $('#reqCommentId_0').html();
		CKEDITOR.instances['rejectReqCo'].setData(comment);

		$("#subjectRejectReqByCo").val(response.body[0].subject);
		$("#toHiddenId11").val(toId);
		if(response.body[0].document == "" || response.body[0].document == null || response.body[0].document == "null"){
		for(var i = 0; i< response.body.length; i++){



		//$("#autocomplete-select121").closest('div').find(".ss-values").empty();
		//var createdBy = $("#createdBy").text()
		
		//var div = '<div class="ss-value" id="deleteEmp_'+i+'"><span class="ss-value-text">' + response.body[0].createdRole + '</span><span class="ss-value-delete" id="'+i+'" onclick="deleteInterviewer(event)" >x</span></div>';
		//$("#autocomplete-select121").closest('div').find(".ss-values").append(div);
		
		
		var div = '<li class="search-choice search-choice1 default"><span>"' + response.body[0].createdRole + '" </span><a class="search-choice-close" data-option-array-index="' + i + '"></a></li>';
	     	                           
	                                    $("#autocomplete-select121").closest('div').find(".chosen-choices").first().append(div);

	    	                            $('#autocomplete-select121').on('change', function() {
	    	                                $('.chosen-choices').closest('div').find('.search-choice1').hide();
	    	                                $("#toHiddenId11").val('');
	    	                            })
	    	                            $('.search-choice-close').on('click', function() {
	    	                                $('.chosen-choices').closest('div').find('.search-choice1').hide();
	    	                                $("#toHiddenId11").val('');
	    	                            })
		
		$('.mulRejectByCo').attr("file",response.body[i].document);

		}
		} else{
		$("#tbodyDataRejectByCo").empty();

		if(response.body.length == 1){

		for(var i = 0; i< response.body.length; i++){

		var docType = (response.body[i].document).split(".");

		var iTag = '<i class="fa fa-picture-o fa-2x "></i>';
		if(docType[1] == "pdf"){
		iTag = '<i class="fa fa-file-pdf-o fa-2x "></i>';
		} if(docType[1] == "xls" || docType[1] == "xlsx"){
		iTag = '<i class="fa fa-file-excel-o fa-2x "></i>';
		} if(docType[1] == 'docx'){
		iTag = '<i class="fa fa-file-word-o fa-2x "></i>';
		}

		$("#toHiddenId11").val(toId);
		//$("#toHiddenId10").val(response.body[0].createdby);

		//$("#autocomplete-select121").closest('div').find(".ss-values").empty();
		//var createdBy = $("#createdBy").text()
		
		//var div = '<div class="ss-value" id="deleteEmp_'+i+'"><span class="ss-value-text">' + response.body[0].createdRole + '</span><span class="ss-value-delete" id="'+i+'" onclick="deleteInterviewer(event)" >x</span></div>';
		//$("#autocomplete-select121").closest('div').find(".ss-values").append(div);
		
		var div = '<li class="search-choice search-choice1 default"><span>"' + response.body[0].createdRole + '" </span><a class="search-choice-close" data-option-array-index="' + i + '"></a></li>';
	     	                           
	                                    $("#autocomplete-select121").closest('div').find(".chosen-choices").first().append(div);

	    	                            $('#autocomplete-select121').on('change', function() {
	    	                                $('.chosen-choices').closest('div').find('.search-choice1').hide();
	    	                                $("#toHiddenId11").val('');
	    	                            })
	    	                            $('.search-choice-close').on('click', function() {
	    	                                $('.chosen-choices').closest('div').find('.search-choice1').hide();
	    	                                $("#toHiddenId11").val('');
	    	                            })
		
		$('.mulRejectByCo').attr("file",response.body[i].document);

		var div = '<tr class="tr_clone" id="row">'+
		'<td width="300"><input type="text" class="form-control RejectByCoDocNameCls" id="RejectByCoDocName_'+i+'" value="'+response.body[i].documentName+'">'+
		'</td>'+
		'<td width="320"><div class="row" id="rowId_'+i+'">'+
		'<div id="row2_'+i+'" style="text-align: right; padding-left: 50px; padding-top: 10px;">'+
		'<div class="text docRejectByCoCls" id="docRejectByCo_'+i+'"><a class="example-image-link" href="../document/audit/'+ response.body[i].document +'" title="'+ response.body[i].document +'" target="_balnk">'+iTag+'</a></div>'+
		'</div><div class="upload-btn-wrapper">'+
		'<label class="custom-file-upload" for="mulDocAtta"><i class="fa fa-cloud-upload"></i>Document</label> <input type="file" class="mulDocSendBack" id="docSendBack_'+i+'"style="display: block;" onchange="saveFileAssign(event);checkImageFormat(this);">'+
		'<input type="hidden" class="editDocumentReject" id="editDocReject_'+i+'" value="'+response.body[i].document+'">'+
		'</div></div></td>'+
		'<td width="300"><textarea class="form-control SendBackCommentCls" id="SendBackComment_'+i+'" autocomplete="on">'+response.body[i].documentComment+'</textarea>'+
		'</td>'+
		'<td align="Right" width="200">'+
		'<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="moreSendBackCheck();">'+
		'<span class="ti-plus"></span></button></td>'+
		'</tr>';


		$("#tbodyDataRejectByCo").append(div);
		}
		} else {
		for(var i = 0; i< response.body.length; i++){

		var docType = (response.body[i].document).split(".");

		var iTag = '<i class="fa fa-picture-o fa-2x "></i>';
		if(docType[1] == "pdf"){
		iTag = '<i class="fa fa-file-pdf-o fa-2x "></i>';
		} if(docType[1] == "xls" || docType[1] == "xlsx"){
		iTag = '<i class="fa fa-file-excel-o fa-2x "></i>';
		} if(docType[1] == 'docx'){
		iTag = '<i class="fa fa-file-word-o fa-2x "></i>';
		}

		$("#toHiddenId11").val(toId);
		//$("#toHiddenId10").val(response.body[0].createdby);

		//$("#autocomplete-select121").closest('div').find(".ss-values").empty();
		//var createdBy = $("#createdBy").text();
		
		//var div = '<div class="ss-value" id="deleteEmp_'+i+'"><span class="ss-value-text">' + response.body[0].createdRole + '</span><span class="ss-value-delete" id="'+i+'" onclick="deleteInterviewer(event)" >x</span></div>';
		//$("#autocomplete-select121").closest('div').find(".ss-values").append(div);
		
		var div = '<li class="search-choice search-choice1 default"><span>"' + response.body[0].createdRole + '" </span><a class="search-choice-close" data-option-array-index="' + i + '"></a></li>';
	     	                           
	                                    $("#autocomplete-select121").closest('div').find(".chosen-choices").first().append(div);

	    	                            $('#autocomplete-select121').on('change', function() {
	    	                                $('.chosen-choices').closest('div').find('.search-choice1').hide();
	    	                                $("#toHiddenId11").val('');
	    	                            })
	    	                            $('.search-choice-close').on('click', function() {
	    	                                $('.chosen-choices').closest('div').find('.search-choice1').hide();
	    	                                $("#toHiddenId11").val('');
	    	                            })
		
		$('.mulRejectByCo').attr("file",response.body[i].document);

		if(i == response.body.length-1){

		var div = '<tr class="tr_clone" id="row">'+
		'<td width="300"><input type="text" class="form-control RejectByCoDocNameCls" id="RejectByCoDocName_'+i+'" value="'+response.body[i].documentName+'">'+
		'</td>'+
		'<td width="320"><div class="row" id="rowId_'+i+'">'+
		'<div id="row2_'+i+'" style="text-align: right; padding-left: 50px; padding-top: 10px;">'+
		'<div class="text SendBackImgCls" id="SendBackImg_'+i+'"><a class="example-image-link" href="../document/audit/'+ response.body[i].document +'" title="'+ response.body[i].document +'" target="_balnk">'+iTag+'</a></div>'+
		'</div><div class="upload-btn-wrapper">'+
		'<label class="custom-file-upload" for="mulDocAtta"><i class="fa fa-cloud-upload"></i>Document</label> <input type="file" class="mulDocSendBack" id="docSendBack_'+i+'" style="display: block;" onchange="saveFileAssign(event);checkImageFormat(this);">'+
		'<input type="hidden" class="editDocumentReject" id="editDocReject_'+i+'" value="'+response.body[i].document+'">'+
		'</div></div></td>'+
		'<td width="300"><textarea class="form-control SendBackCommentCls" id="SendBackComment_'+i+'" autocomplete="on">'+response.body[i].documentComment+'</textarea>'+
		'</td>'+
		'<td align="Right" width="200">'+
		'<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="moreSendBackCheck();">'+
		'<span class="ti-plus"></span></button><button type="button" class="btn btn-warning rmv" name="RemoveSendBack"><span class="ti-minus"></span></button></td>'+
		'</tr>';
		} else{
		var div = '<tr class="tr_clone" id="row">'+
		'<td width="300"><input type="text" class="form-control RejectByCoDocNameCls" id="RejectByCoDocName_'+i+'" value="'+response.body[i].documentName+'">'+
		'</td>'+
		'<td width="320"><div class="row" id="rowId_'+i+'">'+
		'<div id="row2_'+i+'" style="text-align: right; padding-left: 50px; padding-top: 10px;">'+
		'<div class="text SendBackImgCls" id="SendBackImg_'+i+'"><a class="example-image-link" href="../document/audit/'+ response.body[i].document +'" title="'+ response.body[i].document +'" target="_balnk">'+iTag+'</a></div>'+
		'</div><div class="upload-btn-wrapper">'+
		'<label class="custom-file-upload" for="mulDocAtta"><i class="fa fa-cloud-upload"></i>Document</label> <input type="file" class="mulDocSendBack" id="docSendBack_'+i+'" style="display: block;" onchange="saveFileAssign(event);checkImageFormat(this);">'+
		'<input type="hidden" class="editDocumentReject" id="editDocReject_'+i+'" value="'+response.body[i].document+'">'+
		'</div></div></td>'+
		'<td width="300"><textarea class="form-control SendBackCommentCls" id="SendBackComment_'+i+'" autocomplete="on">'+response.body[i].documentComment+'</textarea>'+
		'</td>'+
		'<td align="Right" width="200">'+
		'<button type="button" class="btn btn-warning rmv" name="RemoveSendBack"><span class="ti-minus"></span></button></td>'+
		'</tr>';
		}


		$("#tbodyDataRejectByCo").append(div);
		}

		}
		}


		}

		},
		error : function(e) {
		console.log("error");
		}
		});
		$("#rejectByCo").modal("show");
		}
	
	// FORWARD TO  CO-AURDINATOR
	function forwardRequisitionSubmit(){	
		
		var id = $("#reqForward").val();
		var initiateForward = $("#initiateForward").val();
		
	
		var comment = CKEDITOR.instances.commentForward.getData();
	 	var datasetForward = [];
	 	var personTo = [];
		var personCC = [];
		
		$("#toHiddenId3").val('');
 		$("#CcHiddenId3").val('');
		
			var id1=$("#autocomplete-select41").chosen().val();
			$("#toHiddenId3").val(id1);
			$("#toHiddenId3").each(function () {
				personTo=$(this).val();
			});
			
			var id2=$("#autocomplete-select42").chosen().val();
			$("#CcHiddenId3").val(id2);
			$("#CcHiddenId3").each(function () {			
				personCC=$(this).val();
			});
			
			
			if(personTo==null || personTo==''){
				swal("Please select at least one person whom you want to send..");
				return false;
			}
		 $("#tbodyDataForward > tr").each(function(i) {
			
		     //  console.log($(this).find(".mulDocForward").val());
		    	    var uFile = $(this).find(".mulDocForward")[0].files[0];

		    	   var fileName = $(this).find(".mulDocForward").val();

		        if (fileName != '' && fileName != 'undefined' && fileName != null) {
		            var lastIndex = fileName.lastIndexOf("\\");
		            if (lastIndex >= 0) {
		                fileName = fileName.substring(lastIndex + 1);
		            }
		            var data = '';
		            var x = [];

		            var reader = new FileReader();
		            reader.readAsDataURL(uFile);

		            reader.onload = function() {

		                data = reader.result.split(",");

		                x.push(data[1]);
		            };
		        } else {
		            var x = [];
		            x.push('empty');
		        }
		        audit = {};   
		        audit['document'] = fileName;
		    	audit['personCc'] = personCC;
				audit['personTo'] = personTo;
		        audit['roleName'] 	= initiateForward;
		        audit['auditId'] = $("#reqForward").val();
		        audit['subject'] = $("#subjectCoForward").val();
		        audit['comment'] = comment;
		      	audit['documentName'] = $(this).find(".forwardDocNameCls").val();
		      	audit['documentComment'] = $(this).find(".forwardCommentCls").val();
		        audit['file'] = x;
		        audit['editDocName'] = $(this).find(".editDocumentForward").val();

		        datasetForward.push(audit);
		        //console.log(datasetForward);
		    });
		
		swal.fire({
			  title: "Are you sure want to send?",
			  text: "Once Sent,can't revert back !",
			  type: "warning",
			  showCancelButton: true,
			  confirmButtonColor: '#ef5920',
			  cancelButtonColor: '#e7b63a',
			  confirmButtonText: 'Yes',
			  showLoaderOnConfirm		: false,
			  //closeOnConfirm: false,
			  reverseButtons : true,
			  /* preConfirm: () => {
					return new Promise((resolve) => {
						setTimeout(() => {
							console.log("Doing async operation");
							resolve()
						}, 3000)
					})
				} */
			}).then((result) => {
				if(result.value){
					document.getElementById("loader").style.display = "block";
				 $.ajax({
					 	type		:	"POST",
					 	url			:	"view-statutary-audit-master-forwardReq",
						dataType	:	"json",
						contentType: 'application/json; charset=utf-8',
						data		:   JSON.stringify(datasetForward),						    
					    success: function(response) {
					    	
					        if (response.message == "success") {
					        	document.getElementById("loader").style.display = "none";
					        	swal({
					        		title: "Sent Successfully.",
					        		type: "success"
					        	}).then(function(){
					        		 location.reload();
					        	})
					        
					        } else {
					        	document.getElementById("loader").style.display = "none";
					            swal({
					                title: 'Unsuccess',
					                text: response.code
					            })
					        }
					    },
					    error: function(data) {
				       
					    }
					})
				}
			  
			});
		
	}
	// FORWARD TO  CO-AURDINATOR
	function forwardPOMSubmit(){	
		
		var id = $("#POMForward").val();
		var initiateForward = $("#initiatePOMForward").val();
		
	
		var comment = CKEDITOR.instances.commentPOMForward.getData();
	 	var datasetForward = [];
	 	var personTo = [];
		var personCC = [];
			
		$("#toHiddenIdPOM").val('');
 		$("#CcHiddenIdPOM").val('');
		
			var id1=$("#autocomplete-selectPOM").chosen().val();
			$("#toHiddenIdPOM").val(id1);
			$("#toHiddenIdPOM").each(function () {
				personTo=$(this).val();
			});
			
			var id2=$("#autocomplete-selectPOM1").chosen().val();
			$("#CcHiddenIdPOM").val(id2);
			$("#CcHiddenIdPOM").each(function () {			
				personCC=$(this).val();
			});
			
			
			if(personTo==null || personTo==''){
				swal("Please select at least one person whom you want to send..");
				return false;
			}
		 $("#tbodyDataForwardPOM > tr").each(function(i) {
			
		     //  console.log($(this).find(".mulDocForward").val());
		    	    var uFile = $(this).find(".mulDocPOMForward")[0].files[0];

		    	   var fileName = $(this).find(".mulDocPOMForward").val();

		        if (fileName != '' && fileName != 'undefined' && fileName != null) {
		            var lastIndex = fileName.lastIndexOf("\\");
		            if (lastIndex >= 0) {
		                fileName = fileName.substring(lastIndex + 1);
		            }
		            var data = '';
		            var x = [];

		            var reader = new FileReader();
		            reader.readAsDataURL(uFile);

		            reader.onload = function() {

		                data = reader.result.split(",");

		                x.push(data[1]);
		            };
		        } else {
		            var x = [];
		            x.push('empty');
		        }
		        audit = {};   
		        audit['document'] = fileName;
		    	audit['personCc'] = personCC;
				audit['personTo'] = personTo;
		        audit['roleName'] 	= initiateForward;
		        audit['auditId'] = $("#pomForward").val();
		        audit['subject'] = $("#subjectCoPOM").val();
		        audit['comment'] = comment;
		      	audit['documentName'] = $(this).find(".forwardPOMDocNameCls").val();
		      	audit['documentComment'] = $(this).find(".forwardPOMCommentCls").val();
		        audit['file'] = x;


		        datasetForward.push(audit);
		        //console.log(datasetForward);
		    });
		
		swal.fire({
			  title: "Are you sure want to send?",
			  text: "Once Sent,can't revert back !",
			  type: "warning",
			  showCancelButton: true,
			  confirmButtonColor: '#ef5920',
			  cancelButtonColor: '#e7b63a',
			  confirmButtonText: 'Yes',
			  showLoaderOnConfirm		: false,
			  //closeOnConfirm: false,
			  reverseButtons : true,
			  /* preConfirm: () => {
					return new Promise((resolve) => {
						setTimeout(() => {
							console.log("Doing async operation");
							resolve()
						}, 3000)
					})
				} */
			}).then((result) => {
				if(result.value){
					document.getElementById("loader").style.display = "block";
				 $.ajax({
					 	type		:	"POST",
					 	url			:	"view-statutary-audit-master-forwardPom",
						dataType	:	"json",
						contentType: 'application/json; charset=utf-8',
						data		:   JSON.stringify(datasetForward),						    
					    success: function(response) {
					    	
					        if (response.message == "success") {
					        	document.getElementById("loader").style.display = "none";
					        	swal({
					        		title: "Sent Successfully.",
					        		type: "success"
					        	}).then(function(){
					        		 location.reload();
					        	})
					        
					        } else {
					        	document.getElementById("loader").style.display = "none";
					            swal({
					                title: 'Unsuccess',
					                text: response.code
					            })
					        }
					    },
					    error: function(data) {
				       
					    }
					})
				}
			  
			});
		
	}
	// FORWARD TO  CO-AURDINATOR
	function forwardIRSSubmit(){	
		
		var id = $("#IRSForward").val();
		var initiateForward = $("#initiateIRSForward").val();
		
	
		var comment = CKEDITOR.instances.commentIRSForward.getData();
	 	var datasetForward = [];
	 	var personTo = [];
		var personCC = [];
		
			$("#toHiddenIdIRS").each(function () {
				personTo=$(this).val();
			});
			$("#CcHiddenIdIRS").each(function () {			
				personCC=$(this).val();
			});
			if(personTo==null || personTo==''){
				swal("Please select at least one person whom you want to send..");
				return false;
			}
		 $("#tbodyDataForwardIRS> tr").each(function(i) {
			
		     //  console.log($(this).find(".mulDocForward").val());
		    	    var uFile = $(this).find(".mulDocIRSForward")[0].files[0];

		    	   var fileName = $(this).find(".mulDocIRSForward").val();

		        if (fileName != '' && fileName != 'undefined' && fileName != null) {
		            var lastIndex = fileName.lastIndexOf("\\");
		            if (lastIndex >= 0) {
		                fileName = fileName.substring(lastIndex + 1);
		            }
		            var data = '';
		            var x = [];

		            var reader = new FileReader();
		            reader.readAsDataURL(uFile);

		            reader.onload = function() {

		                data = reader.result.split(",");

		                x.push(data[1]);
		            };
		        } else {
		            var x = [];
		            x.push('empty');
		        }
		        audit = {};   
		        audit['document'] = fileName;
		    	audit['personCc'] = personCC;
				audit['personTo'] = personTo;
		        audit['roleName'] 	= initiateForward;
		        audit['auditId'] = $("#IRSForward").val();
		        audit['subject'] = $("#subjectCoIRS").val();
		        audit['comment'] = comment;
		      	audit['documentName'] = $(this).find(".forwardIRSDocNameCls").val();
		      	audit['documentComment'] = $(this).find(".forwardIRSCommentCls").val();
		        audit['file'] = x;


		        datasetForward.push(audit);
		        //console.log(datasetForward);
		    });
		
		swal.fire({
			  title: "Are you sure want to send?",
			  text: "Once Sent,can't revert back !",
			  type: "warning",
			  showCancelButton: true,
			  confirmButtonColor: '#ef5920',
			  cancelButtonColor: '#e7b63a',
			  confirmButtonText: 'Yes',
			  showLoaderOnConfirm		: false,
			  //closeOnConfirm: false,
			  reverseButtons : true,
			  /* preConfirm: () => {
					return new Promise((resolve) => {
						setTimeout(() => {
							console.log("Doing async operation");
							resolve()
						}, 3000)
					})
				} */
			}).then((result) => {
				if(result.value){
					document.getElementById("loader").style.display = "block";
				 $.ajax({
					 	type		:	"POST",
					 	url			:	"view-statutary-audit-master-forwardIRS",
						dataType	:	"json",
						contentType: 'application/json; charset=utf-8',
						data		:   JSON.stringify(datasetForward),						    
					    success: function(response) {
					    	
					        if (response.message == "success") {
					        	document.getElementById("loader").style.display = "none";
					        	swal({
					        		title: "Sent Successfully.",
					        		type: "success"
					        	}).then(function(){
					        		 location.reload();
					        	})
					        
					        } else {
					        	document.getElementById("loader").style.display = "none";
					            swal({
					                title: 'Unsuccess',
					                text: response.code
					            })
					        }
					    },
					    error: function(data) {
				       
					    }
					})
				}
			  
			});
		
	}
	// FORWARD TO  CO-AURDINATOR
	function forwardParaSubmit(){	
		
		var id = $("#paraForward").val();
		var initiateForward = $("#initiateParaForward").val();
		
	
		var comment = CKEDITOR.instances.commentParaForward.getData();
	 	var datasetForward = [];
	 	var personTo = [];
		var personCC = [];
			
		$("#toHiddenIdPARA").val('');
 		$("#CcHiddenIdPARA").val('');
 		
			var id1=$("#autocomplete-selectPARA").chosen().val();
			$("#toHiddenIdPARA").val(id1);
			$("#toHiddenIdPARA").each(function () {
				personTo=$(this).val();
			});
			
			var id2=$("#autocomplete-selectPARA1").chosen().val();
			$("#CcHiddenIdPARA").val(id2);
			$("#CcHiddenIdPARA").each(function () {			
				personCC=$(this).val();
			});
			
			if(personTo==null || personTo==''){
				swal("Please select at least one person whom you want to send..");
				return false;
			}
		 $("#tbodyDataForwardPara> tr").each(function(i) {
			
		     //  console.log($(this).find(".mulDocForward").val());
		    	    var uFile = $(this).find(".mulDocParaForward")[0].files[0];

		    	   var fileName = $(this).find(".mulDocParaForward").val();

		        if (fileName != '' && fileName != 'undefined' && fileName != null) {
		            var lastIndex = fileName.lastIndexOf("\\");
		            if (lastIndex >= 0) {
		                fileName = fileName.substring(lastIndex + 1);
		            }
		            var data = '';
		            var x = [];

		            var reader = new FileReader();
		            reader.readAsDataURL(uFile);

		            reader.onload = function() {

		                data = reader.result.split(",");

		                x.push(data[1]);
		            };
		        } else {
		            var x = [];
		            x.push('empty');
		        }
		        audit = {};   
		        audit['document'] = fileName;
		    	audit['personCc'] = personCC;
				audit['personTo'] = personTo;
		        audit['roleName'] 	= initiateForward;
		        audit['auditId'] = $("#paraForward").val();
		        audit['subject'] = $("#subjectCoPara").val();
		        audit['comment'] = comment;
		      	audit['documentName'] = $(this).find(".forwardParaDocNameCls").val();
		      	audit['documentComment'] = $(this).find(".forwardParaCommentCls").val();
		        audit['file'] = x;


		        datasetForward.push(audit);
		        //console.log(datasetForward);
		    });
		
		swal.fire({
			  title: "Are you sure want to send?",
			  text: "Once Sent,can't revert back !",
			  type: "warning",
			  showCancelButton: true,
			  confirmButtonColor: '#ef5920',
			  cancelButtonColor: '#e7b63a',
			  confirmButtonText: 'Yes',
			  showLoaderOnConfirm		: false,
			  //closeOnConfirm: false,
			  reverseButtons : true,
			  /* preConfirm: () => {
					return new Promise((resolve) => {
						setTimeout(() => {
							console.log("Doing async operation");
							resolve()
						}, 3000)
					})
				} */
			}).then((result) => {
				if(result.value){
					document.getElementById("loader").style.display = "block";
				 $.ajax({
					 	type		:	"POST",
					 	url			:	"view-statutary-audit-master-forwardPara",
						dataType	:	"json",
						contentType: 'application/json; charset=utf-8',
						data		:   JSON.stringify(datasetForward),						    
					    success: function(response) {
					    	
					        if (response.message == "success") {
					        	document.getElementById("loader").style.display = "none";
					        	swal({
					        		title: "Sent Successfully.",
					        		type: "success"
					        	}).then(function(){
					        		 location.reload();
					        	})
					        
					        } else {
					        	document.getElementById("loader").style.display = "none";
					            swal({
					                title: 'Unsuccess',
					                text: response.code
					            })
					        }
					    },
					    error: function(data) {
				       
					    }
					})
				}
			  
			});
		
	}
	
	$(document).ready(function() {
		/* SEND REPONSE to Requisition */
		var lengthOfTableRowReq = $("#tbodyDataForward").children('tr').length;
		$('.tbllForward').on('click', '.rmv', function () {
			$(this).closest('tr').remove();
			$("#myTableForward tbody tr:last").find('td:last').html('');
			var add='<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="moreForwardCheck();"><span class="ti-plus"></span></button>&nbsp;'
			var remove = '<button type="button" class="btn btn-warning rmv" name="RemoveForward"><span class="ti-minus"></span></button>';

			if($("#tbodyDataForward").children('tr').length > 1){
			$("#myTableForward tbody tr:last").find('td:last').append(add);
			$("#myTableForward tbody tr:last").find('td:last').append(remove);
			}else{
			$("#myTableForward tbody tr:last").find('td:last').append(add);
			}
			
			});
		/* SEND REPONSE to Requisition */
		var lengthOfTableRowReq = $("#tbodyDataForwardPOM").children('tr').length;
		$('.tbllPOMForward').on('click', '.rmv', function () {
			$(this).closest('tr').remove();
			$("#myTablePOM tbody tr:last").find('td:last').html('');
			var add='<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="morePOMForwardCheck();"><span class="ti-plus"></span></button>&nbsp;'
			var remove = '<button type="button" class="btn btn-warning rmv" name="RemovePOMForward"><span class="ti-minus"></span></button>';

			if($("#tbodyDataForwardPOM").children('tr').length > 1){
			$("#myTablePOM tbody tr:last").find('td:last').append(add);
			$("#myTablePOM tbody tr:last").find('td:last').append(remove);
			}else{
			$("#myTablePOM tbody tr:last").find('td:last').append(add);
			}
			
			});
		/* SEND REPONSE to Requisition */
		var lengthOfTableRowReq = $("#tbodyDataForwardIRS").children('tr').length;
		$('.tbllIRSForward').on('click', '.rmv', function () {
			$(this).closest('tr').remove();
			$("#myTableIRS tbody tr:last").find('td:last').html('');
			var add='<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="moreIRSForwardCheck();"><span class="ti-plus"></span></button>&nbsp;'
			var remove = '<button type="button" class="btn btn-warning rmv" name="RemoveIRSForward"><span class="ti-minus"></span></button>';

			if($("#tbodyDataForwardIRS").children('tr').length > 1){
			$("#myTableIRS tbody tr:last").find('td:last').append(add);
			$("#myTableIRS tbody tr:last").find('td:last').append(remove);
			}else{
			$("#myTableIRS tbody tr:last").find('td:last').append(add);
			}
			
			});
		/*   Final REPONSE */
		var lengthOfTableRowReq = $("#tbodyDataForwardFin").children('tr').length;
		$('.tbllFinForward').on('click', '.rmv', function () {
			$(this).closest('tr').remove();
			$("#myTableFin tbody tr:last").find('td:last').html('');
			var add='<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="moreFinForwardCheck();"><span class="ti-plus"></span></button>&nbsp;'
			var remove = '<button type="button" class="btn btn-warning rmv" name="RemoveFInForward"><span class="ti-minus"></span></button>';

			if($("#tbodyDataForwardFin").children('tr').length > 1){
			$("#myTableFin tbody tr:last").find('td:last').append(add);
			$("#myTableFin tbody tr:last").find('td:last').append(remove);
			}else{
			$("#myTableFin tbody tr:last").find('td:last').append(add);
			}
			
			});
		/* SEND REPONSE to Requisition */
		var lengthOfTableRowReq = $("#tbodyDataForwardPara").children('tr').length;
		$('.tbllParaForward').on('click', '.rmv', function () {
			$(this).closest('tr').remove();
			$("#myTablePara tbody tr:last").find('td:last').html('');
			var add='<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="moreParaForwardCheck();"><span class="ti-plus"></span></button>&nbsp;'
			var remove = '<button type="button" class="btn btn-warning rmv" name="RemoveParaForward"><span class="ti-minus"></span></button>';

			if($("#tbodyDataForwardPara").children('tr').length > 1){
			$("#myTablePara tbody tr:last").find('td:last').append(add);
			$("#myTablePara tbody tr:last").find('td:last').append(remove);
			}else{
			$("#myTablePara tbody tr:last").find('td:last').append(add);
			}
			
			});
		/* Send Back  */
		var lengthOfTableRowReq = $("#tbodyDataRejectByCo").children('tr').length;
		$('.tbllRejectByCo').on('click', '.rmv', function () {
			$(this).closest('tr').remove();
			$("#myTableRejectByCo tbody tr:last").find('td:last').html('');
			var add='<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="moreRejectByCoCheck();"><span class="ti-plus"></span></button>&nbsp;'
			var remove = '<button type="button" class="btn btn-warning rmv" name="RemoveRejectByCo"><span class="ti-minus"></span></button>';

			if($("#tbodyDataRejectByCo").children('tr').length > 1){
			$("#myTableRejectByCo tbody tr:last").find('td:last').append(add);
			$("#myTableRejectByCo tbody tr:last").find('td:last').append(remove);
			}else{
			$("#myTableRejectByCo tbody tr:last").find('td:last').append(add);
			}
			
			});
		/* SEND REPONSE to Requisition */
		var lengthOfTableRowReq = $("#tbodyDataObsForward").children('tr').length;
		$('.tbllObsForward').on('click', '.rmv', function () {
			$(this).closest('tr').remove();
			$("#myTableObsForward tbody tr:last").find('td:last').html('');
			var add='<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="moreObsForwardCheck();"><span class="ti-plus"></span></button>&nbsp;'
			var remove = '<button type="button" class="btn btn-warning rmv" name="RemoveObsForward"><span class="ti-minus"></span></button>';

			if($("#tbodyDataObsForward").children('tr').length > 1){
			$("#myTableObsForward tbody tr:last").find('td:last').append(add);
			$("#myTableObsForward tbody tr:last").find('td:last').append(remove);
			}else{
			$("#myTableObsForward tbody tr:last").find('td:last').append(add);
			}
			
			});
		
		/* forward By senior  */
		var lengthOfTableRowReq = $("#tbodyDataFrmSenior").children('tr').length;
		$('.tbllFrmSenior').on('click', '.rmv', function () {
			$(this).closest('tr').remove();
			$("#myTableFrmSenior tbody tr:last").find('td:last').html('');
			var add='<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="moreFrmSenior();"><span class="ti-plus"></span></button>&nbsp;'
			var remove = '<button type="button" class="btn btn-warning rmv" name="RemoveFrmSenior"><span class="ti-minus"></span></button>';

			if($("#tbodyDataFrmSenior").children('tr').length > 1){
			$("#myTableFrmSenior tbody tr:last").find('td:last').append(add);
			$("#myTableFrmSenior tbody tr:last").find('td:last').append(remove);
			}else{
			$("#myTableFrmSenior tbody tr:last").find('td:last').append(add);
			}
			
			});
		/* SEND Back  Requisition */
		var lengthOfTableRowReq = $("#tbodyDataSendBack").children('tr').length;
		$('.tbllSendBack').on('click', '.rmv', function () {
			$(this).closest('tr').remove();
			$("#myTableSendBack tbody tr:last").find('td:last').html('');
			var add='<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="moreSendBackCheck();"><span class="ti-plus"></span></button>&nbsp;'
			var remove = '<button type="button" class="btn btn-warning rmv" name="RemoveSendBack"><span class="ti-minus"></span></button>';

			if($("#tbodyDataSendBack").children('tr').length > 1){
			$("#myTableSendBack tbody tr:last").find('td:last').append(add);
			$("#myTableSendBack tbody tr:last").find('td:last').append(remove);
			}else{
			$("#myTableSendBack tbody tr:last").find('td:last').append(add);
			}
			
			cotSendBack--;
			
			});
		/* SEND REPONSE to Requisition */
		var lengthOfTableRowReq = $("#tbodyDataForward").children('tr').length;
		$('.tbllCompliance').on('click', '.rmv', function () {
			$(this).closest('tr').remove();
			$("#myTableCompliance tbody tr:last").find('td:last').html('');
			var add='<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="moreCompliance();"><span class="ti-plus"></span></button>&nbsp;'
			var remove = '<button type="button" class="btn btn-warning rmv" name="RemoveCompliance"><span class="ti-minus"></span></button>';

			if($("#tbodyDataCompliance").children('tr').length > 1){
			$("#myTableCompliance tbody tr:last").find('td:last').append(add);
			$("#myTableCompliance tbody tr:last").find('td:last').append(remove);
			}else{
			$("#myTableCompliance tbody tr:last").find('td:last').append(add);
			}
			
			});
		
		// Auditee Submit Against Auditor's Comment
	    $("#auditeeSubmit").click(function() {

	    	var comment = CKEDITOR.instances.commentCompliance.getData();
			 var datasetCompliance = [];
			 var personTo = [];
			 var personCC = [];
				
			 $("#toHiddenId6").val('');
	     		$("#CcHiddenId6").val('');
				
				var id1=$("#autocomplete-select71").chosen().val();
				$("#toHiddenId6").val(id1);
				$("#toHiddenId6").each(function () {
					personTo=$(this).val();
				});
				
				var id2=$("#autocomplete-select72").chosen().val();
				$("#CcHiddenId6").val(id2);
				$("#CcHiddenId6").each(function () {			
					personCC=$(this).val();
				});
				
				if(personTo==null || personTo==''){
					swal("Please select at least one person whom you want to send..");
					return false;
				}
				if(comment==''){
					swal("Please enter your compliance..");
					return false;
				}
			 $("#tbodyDataCompliance > tr").each(function(i) {
				    
			       //console.log($(this).find(".mulDocCompliance").val());
			    	    var uFile = $(this).find(".mulDocCompliance")[0].files[0];

			    	   var fileName = $(this).find(".mulDocCompliance").val();

			        if (fileName != '' && fileName != 'undefined' && fileName != null) {
			            var lastIndex = fileName.lastIndexOf("\\");
			            if (lastIndex >= 0) {
			                fileName = fileName.substring(lastIndex + 1);
			            }
			            var data = '';
			            var x = [];

			            var reader = new FileReader();
			            reader.readAsDataURL(uFile);

			            reader.onload = function() {

			                data = reader.result.split(",");

			                x.push(data[1]);
			            };
			        } else {
			            var x = [];
			            x.push('empty');
			        }
			        var docName=$(this).find(".complianceDocNameCls").val();
					if(docName!='' && docName!=null){
			        	if(fileName ==='' || fileName === null){
			        		/* alert("Please select a document"); */
			        		return false;
			        	}
			        	
			        }
			        
			        audit = {};   
			        audit['document'] 	= 	fileName;
			        audit['personCc'] 	= 	personCC;
					audit['personTo'] 	= 	personTo;
			        audit['reqId'] 		= 	$('#complianceQuesId').val();
			        audit['auditId'] 	= 	$("#complianceAudiId").val();
			        audit['subject'] 	= 	$("#subjectReplyObs").val();
			        audit['comment'] 	= 	comment;
			        audit['documentName'] 	=  	docName;
			        audit['documentComment'] 	=  	$(this).find(".complianceCommentCls").val();
			        audit['file'] 		= 	x;

 						
			        datasetCompliance.push(audit);
			    });
			//console.log(datasetCompliance)
	          swal.fire({
	            title: "Are you sure want to send?",
	            text: "Once sent,can't revert back !",
	            type: "warning",
	            showCancelButton: true,
	            confirmButtonColor: "#ef5920",
	            confirmButtonText: "Yes",
	            showLoaderOnConfirm: false,
	            reverseButtons: true,
	            confirmButtonAriaLabel: 'Thumbs up, great!',
	            cancelButtonText: 'Cancel',
	            cancelButtonAriaLabel: 'Thumbs down',
	           /*  preConfirm: () => {
	                return new Promise((resolve) => {
	                    setTimeout(() => {
	                        console.log("Doing async operation");
	                        resolve()
	                    }, 3000)
	                })
	            } */
	        }).then((result) => {
	            if (result.value) {
	            	document.getElementById("loader").style.display = "block";
	                $.ajax({
	                    type: "POST",
	                    url: "view-statutary-audit-master-comment-consernsave",
	                    dataType: "json",
	                    contentType: "application/json",
	                    data: JSON.stringify(datasetCompliance),
	                    success: function(response) {
	                    
	                        if (response.message == "success") {
	                        	document.getElementById("loader").style.display = "none";
	                            swal({
	                                title: "Sent Successfully.",
	                                type: "success",
	                            }).then(function() {
	                                location.reload();
	                            })
	                        } else {
	                        	document.getElementById("loader").style.display = "none";
	                            swal({
	                                title: response.code,
	                                text: response.message,
	                                type: "warning"
	                            })
	                        }
	                    },
	                    error: function(data) {
	                        console.log(data)
	                    }
	                }) //ajax ends
	            }
	        })
	    });
});
	/* forward add more */
	function moreForward(){
		var lengthOfTableRowReq = $("#tbodyDataForward").children('tr').length;
		var cloneHtml = $("#myTableForward tbody tr:first").clone();
		
		$("#myTableForward tbody tr:last").find('td:last').html('');
		$("#myTableForward tbody").append($("#myTableForward tbody tr:first").clone());
		
		$("#myTableForward tbody tr td:last").html("");
		var addMore='<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="moreForwardCheck();"><span class="ti-plus"></span></button>&nbsp;'
		var removeMore = '<button type="button" class="btn btn-warning rmv" name="RemoveForward"><span class="ti-minus"></span></button>';
		
		$("#myTableForward tbody tr:last").find('td:last').append(addMore);
		$("#myTableForward tbody tr:last").find('td:last').append(removeMore);
		$("#myTableForward tbody tr:last").find(".forwardDocNameCls").val("");
		$("#myTableForward tbody tr:last").find(".docFwdCls").empty();
		$("#myTableForward tbody tr:last").find(".mulDocForward").val("");
		$("#myTableForward tbody tr:last").find(".forwardCommentCls").val("");
		$("#myTableForward tbody tr:last").find(".editDocumentForward").val("");
		
		
		
		var editTrReq = 0;
		
		if(lengthOfTableRowReq>editTrReq){
			$("#myTableForward tbody tr").eq(lengthOfTableRowReq-1).find('td:last').append(removeMore);
		}
		
		$("#myTableForward > tbody > tr").each(function(i){
			var textInput = $(this).find('input');
			var divInput = $(this).find('div');
			var areaInput = $(this).find('textarea');
			textInput.eq(0).attr('id',"forwardDocName_"+i);
			textInput.eq(1).attr('id',"docForward_"+i);
			textInput.eq(2).attr('id',"editDocForward_"+i);
			divInput.eq(1).attr('id', "row2_" + i);
			divInput.eq(2).attr('id', "docfwd_" + i)
			areaInput.eq(0).attr('id', "forwardComment_" + i)
			
		})
		
	}
	/* forward add more */
	function morePOMForward(){
		var lengthOfTableRowReq = $("#tbodyDataForwardPOM").children('tr').length;
		var cloneHtml = $("#myTablePOM tbody tr:first").clone();
		
		$("#myTablePOM tbody tr:last").find('td:last').html('');
		$("#myTablePOM tbody").append($("#myTablePOM tbody tr:first").clone());
		
		$("#myTablePOM tbody tr td:last").html("");
		var addMore='<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="morePOMForwardCheck();"><span class="ti-plus"></span></button>&nbsp;'
		var removeMore = '<button type="button" class="btn btn-warning rmv" name="RemovePOMForward"><span class="ti-minus"></span></button>';
		
		$("#myTablePOM tbody tr:last").find('td:last').append(addMore);
		$("#myTablePOM tbody tr:last").find('td:last').append(removeMore);
		$("#myTablePOM tbody tr:last").find(".forwardPOMDocNameCls").val("");
		$("#myTablePOM tbody tr:last").find(".docFwdCls").empty();
		$("#myTablePOM tbody tr:last").find(".mulDocPOMForward").val("");
		$("#myTablePOM tbody tr:last").find(".forwardCommentCls").val("");
		
		
		
		var editTrReq = 0;
		
		if(lengthOfTableRowReq>editTrReq){
			$("#myTablePOM tbody tr").eq(lengthOfTableRowReq-1).find('td:last').append(removeMore);
		}
		
		$("#myTablePOM > tbody > tr").each(function(i){
			var textInput = $(this).find('input');
			var divInput = $(this).find('div');
			var areaInput = $(this).find('textarea');
			textInput.eq(1).attr('id',"docPOMForward_"+i);
			divInput.eq(1).attr('id', "row2_" + i);
			divInput.eq(2).attr('id', "docPOMfwd_" + i)
			areaInput.eq(0).attr('id', "forwardPOMComment_" + i)
			
		})
		
	}
	/* forward add more */
	function moreIRSForward(){
		var lengthOfTableRowReq = $("#tbodyDataForwardIRS").children('tr').length;
		var cloneHtml = $("#myTableIRS tbody tr:first").clone();
		
		$("#myTableIRS tbody tr:last").find('td:last').html('');
		$("#myTableIRS tbody").append($("#myTableIRS tbody tr:first").clone());
		
		$("#myTableIRS tbody tr td:last").html("");
		var addMore='<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="moreIRSForwardCheck();"><span class="ti-plus"></span></button>&nbsp;'
		var removeMore = '<button type="button" class="btn btn-warning rmv" name="RemoveIRSForward"><span class="ti-minus"></span></button>';
		
		$("#myTableIRS tbody tr:last").find('td:last').append(addMore);
		$("#myTableIRS tbody tr:last").find('td:last').append(removeMore);
		$("#myTableIRS tbody tr:last").find(".forwardIRSDocNameCls").val("");
		$("#myTableIRS tbody tr:last").find(".docFwdCls").empty();
		$("#myTableIRS tbody tr:last").find(".mulDocIRSForward").val("");
		$("#myTableIRS tbody tr:last").find(".forwardIRSCommentCls").val("");
		
		
		
		var editTrReq = 0;
		
		if(lengthOfTableRowReq>editTrReq){
			$("#myTableIRS tbody tr").eq(lengthOfTableRowReq-1).find('td:last').append(removeMore);
		}
		
		$("#myTableIRS > tbody > tr").each(function(i){
			var textInput = $(this).find('input');
			var divInput = $(this).find('div');
			var areaInput = $(this).find('textarea');
			textInput.eq(1).attr('id',"docIRSForward_"+i);
			divInput.eq(1).attr('id', "row2_" + i);
			divInput.eq(2).attr('id', "docIRSfwd_" + i)
			areaInput.eq(0).attr('id', "forwardIRSComment_" + i)
			
		})
		
	}
	/* forward add more */
	function moreFinForward(){
		var lengthOfTableRowReq = $("#tbodyDataForwardFin").children('tr').length;
		var cloneHtml = $("#myTableFin tbody tr:first").clone();
		
		$("#myTableFin tbody tr:last").find('td:last').html('');
		$("#myTableFin tbody").append($("#myTableFin tbody tr:first").clone());
		
		$("#myTableFin tbody tr td:last").html("");
		var addMore='<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="moreFinForwardCheck();"><span class="ti-plus"></span></button>&nbsp;'
		var removeMore = '<button type="button" class="btn btn-warning rmv" name="RemoveFinForward"><span class="ti-minus"></span></button>';
		
		$("#myTableFin tbody tr:last").find('td:last').append(addMore);
		$("#myTableFin tbody tr:last").find('td:last').append(removeMore);
		$("#myTableFin tbody tr:last").find(".forwardFinDocNameCls").val("");
		$("#myTableFin tbody tr:last").find(".docFinFwdCls").empty();
		$("#myTableFin tbody tr:last").find(".mulDocFinForward").val("");
		$("#myTableFin tbody tr:last").find(".forwardFinCommentCls").val("");
		
		
		
		var editTrReq = 0;
		
		if(lengthOfTableRowReq>editTrReq){
			$("#myTableFin tbody tr").eq(lengthOfTableRowReq-1).find('td:last').append(removeMore);
		}
		
		$("#myTableFin > tbody > tr").each(function(i){
			var textInput = $(this).find('input');
			var divInput = $(this).find('div');
			var areaInput = $(this).find('textarea');
			textInput.eq(1).attr('id',"docFinForward_"+i);
			divInput.eq(1).attr('id', "row2_" + i);
			divInput.eq(2).attr('id', "docFinfwd_" + i)
			areaInput.eq(0).attr('id', "forwardFinComment_" + i)
			
		})
		
	}
	
	/* forward add more */
	function moreParaForward(){
		var lengthOfTableRowReq = $("#tbodyDataForwardPara").children('tr').length;
		var cloneHtml = $("#myTablePara tbody tr:first").clone();
		
		$("#myTablePara tbody tr:last").find('td:last').html('');
		$("#myTablePara tbody").append($("#myTablePara tbody tr:first").clone());
		
		$("#myTablePara tbody tr td:last").html("");
		var addMore='<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="moreParaForwardCheck();"><span class="ti-plus"></span></button>&nbsp;'
		var removeMore = '<button type="button" class="btn btn-warning rmv" name="RemoveParaForward"><span class="ti-minus"></span></button>';
		
		$("#myTablePara tbody tr:last").find('td:last').append(addMore);
		$("#myTablePara tbody tr:last").find('td:last').append(removeMore);
		$("#myTablePara tbody tr:last").find(".forwardParaDocNameCls").val("");
		$("#myTablePara tbody tr:last").find(".docFwdCls").empty();
		$("#myTablePara tbody tr:last").find(".mulDocParaForward").val("");
		$("#myTablePara tbody tr:last").find(".forwardParaCommentCls").val("");
		
		
		
		var editTrReq = 0;
		
		if(lengthOfTableRowReq>editTrReq){
			$("#myTablePara tbody tr").eq(lengthOfTableRowReq-1).find('td:last').append(removeMore);
		}
		
		$("#myTablePara > tbody > tr").each(function(i){
			var textInput = $(this).find('input');
			var divInput = $(this).find('div');
			var areaInput = $(this).find('textarea');
			textInput.eq(1).attr('id',"docParaForward_"+i);
			divInput.eq(1).attr('id', "row2_" + i);
			divInput.eq(2).attr('id', "docParafwd_" + i)
			areaInput.eq(0).attr('id', "forwardParaComment_" + i)
			
		})
		
	}
	
	/* forward add more */
	function moreRejectByCo(){
		var lengthOfTableRowReq = $("#tbodyDataRejectByCo").children('tr').length;
		var cloneHtml = $("#myTableRejectByCo tbody tr:first").clone();
		
		$("#myTableRejectByCo tbody tr:last").find('td:last').html('');
		$("#myTableRejectByCo tbody").append($("#myTableRejectByCo tbody tr:first").clone());
		
		$("#myTableRejectByCo tbody tr td:last").html("");
		var addMore='<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="moreRejectByCoCheck();"><span class="ti-plus"></span></button>&nbsp;'
		var removeMore = '<button type="button" class="btn btn-warning rmv" name="RemoveRejectByCo"><span class="ti-minus"></span></button>';
		
		$("#myTableRejectByCo tbody tr:last").find('td:last').append(addMore);
		$("#myTableRejectByCo tbody tr:last").find('td:last').append(removeMore);
		$("#myTableRejectByCo tbody tr:last").find(".RejectByCoDocNameCls").val("");
		$("#myTableRejectByCo tbody tr:last").find(".docRejectByCoCls").empty();
		$("#myTableRejectByCo tbody tr:last").find(".muldocRejectByCoCls").val("");
		$("#myTableRejectByCo tbody tr:last").find(".RejectByCoCommentCls").val("");
		
		
		
		var editTrReq = 0;
		
		if(lengthOfTableRowReq>editTrReq){
			$("#myTableRejectByCo tbody tr").eq(lengthOfTableRowReq-1).find('td:last').append(removeMore);
		}
		
		$("#myTableRejectByCo > tbody > tr").each(function(i){
			var textInput = $(this).find('input');
			var divInput = $(this).find('div');
			var areaInput = $(this).find('textarea');
			textInput.eq(1).attr('id',"muldocRejectByCo_"+i);
			divInput.eq(1).attr('id', "row2_" + i);
			divInput.eq(2).attr('id', "docRejectByCo_" + i)
			areaInput.eq(2).attr('id', "RejectByCoComment_" + i)
			
		})
		
	}
	/*question section*/
	
	function checkEmpty(){
		/* var itemValid =true;
		$('.quesCmntCls').each(function(){
			if (!blankValidation($(this).attr('id'),"TextField" ,"Please Enter Question  ")){
				
				itemValid =false;
		        return false;
			}
				
		});

		if(itemValid){
			 */
			addMoreques()
		//}
	}
		
	function addMoreques() {
			
			var lengthOfTableRow = $("#tbodyDataques").children('tr').length;
			var cloneHtml = $("#myQuesTable tbody tr:first").clone();
			$("#myQuesTable tbody tr:last").find('td:last').html('');
			$("#myQuesTable tbody").append($("#myQuesTable tbody tr:first").clone());

			$("#myQuesTable tbody tr td:last").html("");
			var addMore = '<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="checkEmpty()();"><span class="ti-plus"></span></button>&nbsp;'
			var removeMore = '<button type="button" class="btn btn-warning rmv" name="Remove"><span class="ti-minus"></span></button>';

			$("#myQuesTable tbody tr:last").find('td:last').append(addMore);
			$("#myQuesTable tbody tr:last").find('td:last').append(removeMore);

			var editTr = 0;

			if (lengthOfTableRow > editTr) {
				$("#myQuesTable tbody tr").eq(lengthOfTableRow - 1).find('td:last')
						.append(removeMore);
			}
			$("#myQuesTable tbody tr").each(function(i){
				//$("#myQuesTable tbody tr:last").find(".slNoCls").empty();
				//$("#myQuesTable tbody tr:last").find(".slNoCls").append("<span>"+ ++i +"</span>");
				$("#myQuesTable tbody tr:last").find(".quesCmntCls").val("");
				
				$("#myQuesTable tbody tr:last").find(".qusImgCls").empty("");
				$("#myQuesTable tbody tr:last").find(".uploadQusDocCls").empty("");				
				$("#myQuesTable tbody tr:last").find(".quesDocNameCls").val("");				
				$("#myQuesTable tbody tr:last").find(".quesCommentCls").val("");				

			})
			
			$("#myQuesTable > tbody > tr").each(function(i) {

				var textInput = $(this).find('input');
				var spanInput = $(this).find('span');
				var selectInput = $(this).find('select');
				var divInput = $(this).find('div');
				//spanInput.eq(0).attr('id', "slNo_" + i);
				selectInput.eq(0).attr('id', "obsTypeId_" + i); 
				selectInput.eq(1).attr('id', "severity_" + i); 
				textInput.eq(0).attr('id', "ques_" + i); 
				textInput.eq(1).attr('id', "quesId_" + i); 
				textInput.eq(2).attr('id', "uploadQusDoc_" + i);
				divInput.eq(1).attr('id', "row2_" + i);
				divInput.eq(2).attr('id', "qusImg_" + i)
				textInput.eq(3).attr('id', "quesDocName_" + i);
				textInput.eq(4).attr('id', "quesComment_" + i);
			    
			})
	}

	$(document).ready(function() {
		$('.questbll').on('click','.rmv',function() {
			$(this).closest('tr').remove();
			$("#myQuesTable tbody tr:last").find(
			'td:last').html('');
			var add = '<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="checkEmpty()();"><span class="ti-plus"></span></button>&nbsp;'
			var remove = '<button type="button" class="btn btn-warning rmv" name="Remove"><span class="ti-minus"></span></button>';

			if ($("#tbodyDataques").children('tr').length > 1) {
				$("#myQuesTable tbody tr:last").find('td:last').append(add);
				$("#myQuesTable tbody tr:last").find('td:last').append(remove);
			} else {
				$("#myQuesTable tbody tr:last").find('td:last').append(add);
			}
		});
			
		$("#submitques").click(function(){
			  var dataset = [];
			  var personTo = [];
				var personCC = [];
				var  comment= CKEDITOR.instances.assignComment.getData();
				
				$("#toHiddenIdQus").val('');
	     		$("#CcHiddenIdQus").val('');
				
				var id1=$("#autocomplete-selectQus").chosen().val();
				$("#toHiddenIdQus").val(id1);
				$("#toHiddenIdQus").each(function () {
					personTo=$(this).val();
				});
				
				var id2=$("#autocomplete-selectQus1").chosen().val();
				$("#CcHiddenIdQus").val(id2);
				$("#CcHiddenIdQus").each(function () {			
					personCC=$(this).val();
				});
				
				if(personTo==null || personTo==''){
					swal("Please select at least one person whom you want to send..");
					return false;
				}
			$("#tbodyDataques > tr").each(function(){
	            var uFile = $(this).find(".uploadQusDocCls")[0].files[0];

	            var fileName = $(this).find(".uploadQusDocCls").val();

	            if (fileName != '' && fileName != 'undefined' && fileName != null) {
	                var lastIndex = fileName.lastIndexOf("\\");
	                if (lastIndex >= 0) {
	                    fileName = fileName.substring(lastIndex + 1);
	                }
	                var data = '';
	                var x = [];

	                var reader = new FileReader();
	                reader.readAsDataURL(uFile);

	                reader.onload = function() {

	                    data = reader.result.split(",");

	                    x.push(data[1]);
	                };
	            } else {
	                var x = [];
	                x.push('empty');
	            }
				audit = {};
				audit['deptId'] = $('#deptId').val();
				audit['initiateId'] = $('#initiateId').val();
				audit['sectionId'] = $('#sectionId').val();
				//audit['auditId'] = $('#auditId').val();
				audit['subject'] = $('#subjectQus').val();
				audit['question'] = $(this).find(".quesCmntCls").val();
				audit['coStatus'] = $(this).find(".quesDocNameCls").val();
				audit['reqStatus'] = $(this).find(".quesCommentCls").val();
				audit['obsType'] = $(this).find(".obsTypeCls").val();
				audit['severity'] = $(this).find(".severityCls").val();
				audit['personCc'] 	= 	personCC;
				audit['personTo'] 	= 	personTo;
				audit['file'] = x;
		        audit['document'] = fileName;
		       
				dataset.push(audit);
				//console.log(dataset);
			});			
				submitAudit(dataset);			
		});
		
		$("#submitIrs").click(function(){
			  var dataset = [];
			  var personTo = [];
				var personCC = [];
				
				$("#toHiddenIdIrs").val('');
	     		$("#CcHiddenIdIrs").val('');
				
				var id1=$("#autocomplete-selectIRS").chosen().val();
				$("#toHiddenIdIrs").val(id1);
				$("#toHiddenIdIrs").each(function () {
					personTo=$(this).val();
				});
				
				var id2=$("#autocomplete-selectIRS1").chosen().val();
				$("#CcHiddenIdIrs").val(id2);
				$("#CcHiddenIdIrs").each(function () {			
					personCC=$(this).val();
				});
				
				if(personTo==null || personTo==''){
					swal("Please select at least one person whom you want to send..");
					return false;
				}
			$(".unique").each(function(){
	            var uFile = $(this).find(".uploadIrsDocCls")[0].files[0];

	            var fileName = $(this).find(".uploadIrsDocCls").val();

	            if (fileName != '' && fileName != 'undefined' && fileName != null) {
	                var lastIndex = fileName.lastIndexOf("\\");
	                if (lastIndex >= 0) {
	                    fileName = fileName.substring(lastIndex + 1);
	                }
	                var data = '';
	                var x = [];

	                var reader = new FileReader();
	                reader.readAsDataURL(uFile);

	                reader.onload = function() {

	                    data = reader.result.split(",");

	                    x.push(data[1]);
	                };
	            } else {
	                var x = [];
	                x.push('empty');
	            }
				audit = {};
				//audit['deptId'] = $('#deptId').val();
				audit['initiateId'] = $('#initiateIdIrs').val();
				//audit['sectionId'] = $('#sectionId').val();
				//audit['auditId'] = $('#auditId').val();
				audit['subject'] = $('#subjectIrs').val();
				audit['question'] = $(this).find(".irsCmntCls").val();
				audit['coStatus'] = $(this).find(".irsDocNameCls").val();
				audit['reqStatus'] = $(this).find(".irsCommentCls").val();
				
				audit['personCc'] 	= 	personCC;
				audit['personTo'] 	= 	personTo;
				audit['file'] = x;
		        audit['document'] = fileName;
		       
				dataset.push(audit);
				//console.log(dataset);
			});			
				submitIrsData(dataset);			
		});
		$("#submitPara").click(function(){
			  var dataset = [];
			  var personTo = [];
				var personCC = [];
				
				$("#toHiddenIdPara").val('');
	     		$("#CcHiddenIdPara").val('');
				
				var id1=$("#autocomplete-selectPara").chosen().val();
				$("#toHiddenIdPara").val(id1);
				$("#toHiddenIdPara").each(function () {
					personTo=$(this).val();
				});
				
				var id2=$("#autocomplete-selectPara1").chosen().val();
				$("#CcHiddenIdPara").val(id2);
				$("#CcHiddenIdPara").each(function () {			
					personCC=$(this).val();
				});
				
				if(personTo==null || personTo==''){
					swal("Please select at least one person whom you want to send..");
					return false;
				}
			$(".uniquePara").each(function(){
	            var uFile = $(this).find(".uploadParaDocCls")[0].files[0];

	            var fileName = $(this).find(".uploadParaDocCls").val();

	            if (fileName != '' && fileName != 'undefined' && fileName != null) {
	                var lastIndex = fileName.lastIndexOf("\\");
	                if (lastIndex >= 0) {
	                    fileName = fileName.substring(lastIndex + 1);
	                }
	                var data = '';
	                var x = [];

	                var reader = new FileReader();
	                reader.readAsDataURL(uFile);

	                reader.onload = function() {

	                    data = reader.result.split(",");

	                    x.push(data[1]);
	                };
	            } else {
	                var x = [];
	                x.push('empty');
	            }
				audit = {};
				//audit['deptId'] = $('#deptId').val();
				audit['initiateId'] = $('#initiateIdPara').val();
				//audit['sectionId'] = $('#sectionId').val();
				//audit['auditId'] = $('#auditId').val();
				audit['subject'] = $('#subjectIrs').val();
				audit['question'] = $(this).find(".paraCmntCls").val();
				audit['coStatus'] = $(this).find(".paraDocNameCls").val();
				audit['reqStatus'] = $(this).find(".paraCommentCls").val();
				
				audit['personCc'] 	= 	personCC;
				audit['personTo'] 	= 	personTo;
				audit['file'] = x;
		        audit['document'] = fileName;
		       
				dataset.push(audit);
				//console.log(dataset);
			});			
				submitParaData(dataset);			
		});
		
		 

	});
				
	//Final Observation		
	function finalObservation(initiateId){
	$("#initiateIdFinal").val(initiateId);
	$("#finalObsModal").modal('show');
	
	}
			//(document).ready() ENDS
			function submitAudit(dataset) {
				//console.log("dataset");
				//console.log(dataset);
				swal.fire({
					title					: "Do you want to Send?",
					text					: "Once Sent,Can't revert back !",
					type 					: "warning",
					showCancelButton		: true,
					confirmButtonColor		: "#ef5920",
					confirmButtonText		: "Yes",
					showLoaderOnConfirm		: true,
					reverseButtons 			: false,
					confirmButtonAriaLabel 	: 'Thumbs up, great!',
					cancelButtonText 		: 'No',
					cancelButtonAriaLabel 	: 'Thumbs down',	
					/* preConfirm: () => {
						return new Promise((resolve) => {
							setTimeout(() => {
								console.log("Doing async operation");
								resolve()
							}, 3000)
						})
					} */
				}).then((result) => {
					if(result.value){
						document.getElementById("loader").style.display = "block";
						$.ajax({
							type		: "POST",
							url 		: "view-statutary-audit-master-question-ajax",
							dataType	: "json",
							contentType	: "application/json",
							data		: JSON.stringify(dataset),
							success		: function(response){
								
								if(response.message=="Success"){
									document.getElementById("loader").style.display = "none";
									swal({
										title:"Sent Successfully.",
										type: "success",
									}).then(function(){
										location.reload();
									})
								}else{
									document.getElementById("loader").style.display = "none";
									swal({
										title:response.code,
										text: response.message,
										type:"warning"
									})
								}
							},
							error : function(data) {
								console.log(data)
							}
						}) //ajax ends
					}
				})
			}
			
			//(document).ready() ENDS
			function submitIrsData(dataset) {
				swal.fire({
					title					: "Do you want to Send?",
					text					: "Once Sent,Can't revert back !",
					type 					: "warning",
					showCancelButton		: true,
					confirmButtonColor		: "#ef5920",
					confirmButtonText		: "Yes",
					showLoaderOnConfirm		: true,
					reverseButtons 			: false,
					confirmButtonAriaLabel 	: 'Thumbs up, great!',
					cancelButtonText 		: 'No',
					cancelButtonAriaLabel 	: 'Thumbs down',	
					/* preConfirm: () => {
						return new Promise((resolve) => {
							setTimeout(() => {
								console.log("Doing async operation");
								resolve()
							}, 3000)
						})
					} */
				}).then((result) => {
					if(result.value){
						document.getElementById("loader").style.display = "block";
						$.ajax({
							type		: "POST",
							url 		: "view-statutary-audit-master-irs-ajax",
							dataType	: "json",
							contentType	: "application/json",
							data		: JSON.stringify(dataset),
							success		: function(response){
								
								if(response.message=="Success"){
									document.getElementById("loader").style.display = "none";
									swal({
										title:"Sent Successfully.",
										type: "success",
									}).then(function(){
										location.reload();
									})
								}else{
									document.getElementById("loader").style.display = "none";
									swal({
										title:response.code,
										text: response.message,
										type:"warning"
									})
								}
							},
							error : function(data) {
								console.log(data)
							}
						}) //ajax ends
					}
				})
			}
			//(document).ready() ENDS
			function submitParaData(dataset) {
				swal.fire({
					title					: "Do you want to Send?",
					text					: "Once Sent,Can't revert back !",
					type 					: "warning",
					showCancelButton		: true,
					confirmButtonColor		: "#ef5920",
					confirmButtonText		: "Yes",
					showLoaderOnConfirm		: true,
					reverseButtons 			: false,
					confirmButtonAriaLabel 	: 'Thumbs up, great!',
					cancelButtonText 		: 'No',
					cancelButtonAriaLabel 	: 'Thumbs down',	
					/* preConfirm: () => {
						return new Promise((resolve) => {
							setTimeout(() => {
								console.log("Doing async operation");
								resolve()
							}, 3000)
						})
					} */
				}).then((result) => {
					if(result.value){
						document.getElementById("loader").style.display = "block";
						$.ajax({
							type		: "POST",
							url 		: "view-statutary-audit-master-para-ajax",
							dataType	: "json",
							contentType	: "application/json",
							data		: JSON.stringify(dataset),
							success		: function(response){
								
								if(response.message=="Success"){
									document.getElementById("loader").style.display = "none";
									swal({
										title:"Sent Successfully.",
										type: "success",
									}).then(function(){
										location.reload();
									})
								}else{
									document.getElementById("loader").style.display = "none";
									swal({
										title:response.code,
										text: response.message,
										type:"warning"
									})
								}
							},
							error : function(data) {
								console.log(data)
							}
						}) //ajax ends
					}
				})
			}
			// Submit Observation
			$(document).ready(function() {
		
			    $("#submitObservation").click(function() {  
					
			        var dataset = [];
			        
			     	var fileName = obsFileNmae;
					var uFile = obsuFile;
			           if (fileName != '' && fileName != 'undefined' && fileName != null) {
			               var lastIndex = fileName.lastIndexOf("\\");
			               if (lastIndex >= 0) {
			                   fileName = fileName.substring(lastIndex + 1);
			               }
			               var data = '';
			               var x = [];

			               var reader = new FileReader();
			               reader.readAsDataURL(uFile);

			               reader.onload = function() {

			                   data = reader.result.split(",");

			                   x.push(data[1]);
			               };
			           } else {
			               var x = [];
			               x.push('empty');
			           }
			      	    audit = {};
			           	audit['quesId'] = $('#questionID').val();
			           	audit['auditId'] = $('#auditObsID').val();
			            audit['question'] = $(".quesCls").val();
			            audit['observation'] = $(".obsCls").val();
			            audit['obsType'] = $(".obsTypeCls").val();
			            audit['severity'] = $(".severityCls").val();
			            audit['coStatus'] = $("#obsDocName").val();
			            audit['reqStatus'] = $("#ObsComment").val();
			           
			            audit['file'] = x ;
			            audit['document'] = fileName;
			          
			            dataset.push(audit);
			           //console.log(dataset)
			       // });
			        
					var observationValid =true;
					$('.obsCls').each(function(){
						if (!blankValidation($(this).attr('id'),"TextArea" ,"Please Enter Observation  ")){				
							observationValid =false;
					        return false;
						}
							
					});
					if(observationValid){
						var obsType =true;
						$('.obsTypeCls').each(function(){
							
							if (!blankValidation($(this).attr('id'),"SelectBox" ,"Please Select Observation Type")){				
								obsType =false;
						        return false;
							}
								
						});
					}
					if(observationValid && obsType){
						var severity=true;
						$('.severityCls').each(function(){
							if (!blankValidation($(this).attr('id'),"SelectBox" ,"Please Select Severity Type")){				
								severity =false;
						        return false;
							}
								
						});
					}
					if(observationValid && obsType && severity){
						
						submitObservation(dataset);
				        //console.log(dataset)
					}
			        
			    });
			
			
			///Deviation  submit  
				    $("#submitDeviationObservation").click(function() {  
				
			        var dataset = [];
			        
			      //  console.log($(this).find(".DevDocument").val());
		            var uFile = $(".DevDocument")[0].files[0];

		            var fileName = $(".DevDocument").val();

		            if (fileName != '' && fileName != 'undefined' && fileName != null) {
		                var lastIndex = fileName.lastIndexOf("\\");
		                if (lastIndex >= 0) {
		                    fileName = fileName.substring(lastIndex + 1);
		                }
		                var data = '';
		                var x = [];

		                var reader = new FileReader();
		                reader.readAsDataURL(uFile);

		                reader.onload = function() {

		                    data = reader.result.split(",");

		                    x.push(data[1]);
		                };
		            } else {
		                var x = [];
		                x.push('empty');
		            }
			      	    audit = {};
			           	//audit['quesId'] =$('#auditObsID').val();
			           	audit['auditId'] =  $('#auditDevID').val();
			           // audit['question'] = $(".quesCls").val();
			            audit['observation'] = $(".obsDevCls").val();
			            audit['obsType'] = $(".obsDevTypeCls").val();
			            audit['severity'] = $(".severityDevCls").val();
			            audit['deptId'] = $("#deptID").val();
			            audit['sectionId'] = $("#regionID").val();
			            audit['initiateId'] = $("#initiateDevID").val();
			           
			            audit['file'] = x ;
			            audit['document'] = fileName;
			           audit['checklistRef'] = $("#checklistRef").val();
			          
			            dataset.push(audit);
			            //console.log(dataset)
			       // });
			        
					var observationValid =true;
					$('.obsDevCls').each(function(){
						if (!blankValidation($(this).attr('id'),"TextArea" ,"Please Enter Observation  ")){				
							observationValid =false;
					        return false;
						}
							
					});
					if(observationValid){
						var obsType =true;
						$('.obsDevTypeCls').each(function(){
							
							if (!blankValidation($(this).attr('id'),"SelectBox" ,"Please Select Observation Type")){				
								obsType =false;
						        return false;
							}
								
						});
					}
					if(observationValid && obsType){
						var severity=true;
						$('.severityDevCls').each(function(){
							if (!blankValidation($(this).attr('id'),"SelectBox" ,"Please Select Severity Type")){				
								severity =false;
						        return false;
							}
								
						});
					}
					if(observationValid && obsType && severity){
						
						submitDevObservation(dataset);
				       // console.log(dataset)
					}
			        
			    });

			});
			
			
			var obsFileNmae = '';
			var obsuFile = '';
			function saveObsFile(event) {

			    var AssignItemQty = event.currentTarget.value;
			    /*var currentFldId = event.currentTarget.getAttribute('id');
			    var l = currentFldId.split("_");
			    var counter = l[1];
			    var currentFldId = "#" + currentFldId; */

			    var uFile = $('#obsDoc')[0].files[0];
			    var fileName = event.currentTarget.value;
			    obsFileNmae = fileName;
				obsuFile = uFile;
				
			    var lastIndex = fileName.lastIndexOf("\\");
			    if (lastIndex >= 0) {
			        fileName = fileName.substring(lastIndex + 1);
			    }
			    var extension = fileName.split(".");
			    var iURL = URL.createObjectURL(uFile);
			    $("#obsDocDiv").html("");

			    var LightImg = "<a class='example-image-link' href='" + iURL + "' title='" + fileName + "' target='_balnk'><i class='fa fa-eye' style='font-size: 18px;position: relative; left: 0px;top: -3px;'></i></a>";
			       $("#obsDocDiv").html(LightImg);
			}
			//Submit Observation Method
			function submitObservation(dataset) {
				
			    swal.fire({
			        title: "Are you sure want to send?",
			        text: "Once sent,can't revert back !",
			        type: "warning",
			        showCancelButton: true,
			        confirmButtonColor: "#ef5920",
			        confirmButtonText: "Yes",
			        showLoaderOnConfirm: false,
			        reverseButtons: true,
			        confirmButtonAriaLabel: 'Thumbs up, great!',
			        cancelButtonText: 'No',
			        cancelButtonAriaLabel: 'Thumbs down',
			       /*  preConfirm: () => {
			            return new Promise((resolve) => {
			                setTimeout(() => {
			                    console.log("Doing async operation");
			                    resolve()
			                }, 3000)
			            })
			        } */
			    }).then((result) => {
			        if (result.value) {
			        	document.getElementById("loader").style.display = "block";
			            $.ajax({
			                type: "POST",
			                url: "view-statutary-audit-master-save",
			                dataType: "json",
			                contentType: "application/json",
			                data: JSON.stringify(dataset),
			                success: function(response) {
			                	
			                    if (response.message == "Success") {
			                    	document.getElementById("loader").style.display = "none";
			                        swal({
			                            title: "Sent Successfully.",
			                            type: "success",
			                        }).then(function() {
			                            location.reload();
			                        })
			                    } else {
			                    	document.getElementById("loader").style.display = "none";
			                        swal({
			                            title: response.code,
			                            text: response.message,
			                            type: "warning"
			                        })
			                    }
			                },
			                error: function(data) {
			                    console.log(data)
			                }
			            }) //ajax ends
			        }
			    })
			}
			//Submit Deviation Observation Method
			function submitDevObservation (dataset) {
				
			    swal.fire({
			        title: "Are you sure want to Sent?",
			        text: "Once Sent,Can't revert back !",
			        type: "warning",
			        showCancelButton: true,
			        confirmButtonColor: "#ef5920",
			        confirmButtonText: "Yes",
			        showLoaderOnConfirm: false,
			        reverseButtons: true,
			        confirmButtonAriaLabel: 'Thumbs up, great!',
			        cancelButtonText: 'No',
			        cancelButtonAriaLabel: 'Thumbs down',
			      /*   preConfirm: () => {
			            return new Promise((resolve) => {
			                setTimeout(() => {
			                    console.log("Doing async operation");
			                    resolve()
			                }, 3000)
			            })
			        } */
			    }).then((result) => {
			        if (result.value) {
			        	document.getElementById("loader").style.display = "block";
			            $.ajax({
			                type: "POST",
			                url: "view-statutary-audit-master-saveDev",
			                dataType: "json",
			                contentType: "application/json",
			                data: JSON.stringify(dataset),
			                success: function(response) {
			                	
			                    if (response.message == "Success") {
			                    	document.getElementById("loader").style.display = "none";
			                        swal({
			                            title: "Sent Successfully.",
			                            type: "success",
			                        }).then(function() {
			                            location.reload();
			                        })
			                    } else {
			                    	document.getElementById("loader").style.display = "none";
			                        swal({
			                            title: response.code,
			                            text: response.message,
			                            type: "warning"
			                        })
			                    }
			                },
			                error: function(data) {
			                    console.log(data)
			                }
			            }) //ajax ends
			        }
			    })
			}

			function addObservation(quesid,auditId){
				
				$('#auditObsID').val(auditId);
				$('#questionID').val(quesid);
				$("#observationmodal").modal('show');
			}
		function addDeviationObservation(auditId,region,dept,initiate){
				$('#auditDevID').val(auditId);
				$('#regionID').val(region);
				$('#deptID').val(dept);
				$('#initiateDevID').val(initiate);
				$("#observationDeviationModal").modal('show');
			}
			function assign(id,identifier,reqId){
				$('#assignId').val(id);
				$("#identifierAssign").val(identifier);
				$("#assign").modal('show');
				
				 $('#allpdfid').val('');
				    $.ajax({
				        type: 'GET',
				        url: 'view-statutary-audit-master-getReqResponse-previd?reqid=' + reqId,
				        contentType: false,
				        success: function(response) {
				            //console.log(response);
				            var data = [];
				            if (response.message == "success") {
				            var id= response.body[0].name;
				            $('#allpdfid').val(id);	
				           var id1= $('#allpdfid').val();	
				            //console.log(id1)
				            }

				        },
				        error: function(e) {
				            console.log("error");
				        }
				    });
				
				$.ajax({
					type : 'GET',
					url : 'view-statutary-audit-master-getReplyAutocomplete?id='+id+ '&reqId=' + reqId,
					success : function(response) {
						//console.log(response)
						if(response.message=="Success"){
							
							var  comment= $('#reqCommentId_0').html();
							CKEDITOR.instances['assignComment'].setData(comment);
							
							$("#subjectAssignReq").val(response.body[0].subject);
							$("#priorityReply1").val(response.body[0].priority);
							$("#priorityReply").val(response.body[0].priority);
					
							if(response.body[0].document == "" || response.body[0].document == null || response.body[0].document == "null"){
								for(var i = 0; i< response.body.length; i++){
									
							  	 	
									
								}
							} else{
								$("#tbodyDataAssignReq").empty();

								if(response.body.length == 1){
									
									for(var i = 0; i< response.body.length; i++){
										
										var docType = (response.body[i].document).split(".");
										
										var iTag = '<i class="fa fa-picture-o fa-2x "></i>';
										if(docType[1] == "pdf"){
											iTag = '<i class="fa fa-file-pdf-o fa-2x "></i>';
										} if(docType[1] == "xls" || docType[1] == "xlsx"){
											iTag = '<i class="fa fa-file-excel-o fa-2x "></i>';
										} if(docType[1] == 'docx'){
											iTag = '<i class="fa fa-file-word-o fa-2x "></i>';
										}
										
										var div = '<tr class="tr_clone" id="row">' +
										'<td width="300"><input type="text" class="form-control reqAssignDocNameCls" id="reqAssignDocName_'+i+'" value="'+response.body[i].documentName+'">'+
										'</td>'+
										'<td width="320"><div class="row" id="rowId_'+i+'"><div id="row2_'+i+'" style="text-align: right; padding-left: 50px; padding-top: 10px;">'+
										'<div class="text assignHoCls" id="assignHo_'+i+'">'+
										'<a class="example-image-link" href="../document/audit/'+ response.body[i].document +'" title="'+ response.body[i].document +'" target="_balnk">'+iTag+'</a>'+
										'</div></div><div class="upload-btn-wrapper">'+
										'<label class="custom-file-upload" for="mulDocAtta"><i class="fa fa-cloud-upload"></i>Document</label>'+
										' <input type="file" class="mulDocAssignReq" id="docAssignReq_'+i+'" style="display: block;" onchange="saveFileAssign(event);checkImageFormat(this);">'+
										'<input type="hidden" class="editDocument" id="editDoc_'+i+'" value="'+response.body[i].document+'">'+
										'</div></div></td>'+
										'<td width="300"><textarea class="form-control reqAssignCommentCls" id="reqAssignComment_'+i+'" autocomplete="on">'+
										response.body[i].documentComment+'</textarea></td>'+
										'<td align="Right" width="200"><button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="moreAssignCheck();">'+
										'<span class="ti-plus"></span></button></td>'+
										'</tr>';
										
										$("#tbodyDataAssignReq").append(div);
									}
								} else {
									for(var i = 0; i< response.body.length; i++){
										
										var docType = (response.body[i].document).split(".");
										
										var iTag = '<i class="fa fa-picture-o fa-2x "></i>';
										if(docType[1] == "pdf"){
											iTag = '<i class="fa fa-file-pdf-o fa-2x "></i>';
										} if(docType[1] == "xls" || docType[1] == "xlsx"){
											iTag = '<i class="fa fa-file-excel-o fa-2x "></i>';
										} if(docType[1] == 'docx'){
											iTag = '<i class="fa fa-file-word-o fa-2x "></i>';
										}
										
										if(i == response.body.length-1){
											var div = '<tr class="tr_clone" id="row">' +
											'<td width="300"><input type="text" class="form-control reqAssignDocNameCls" id="reqAssignDocName_'+i+'" value="'+response.body[i].documentName+'">'+
											'</td>'+
											'<td width="320"><div class="row" id="rowId_'+i+'"><div id="row2_'+i+'" style="text-align: right; padding-left: 50px; padding-top: 10px;">'+
											'<div class="text assignHoCls" id="assignHo_'+i+'">'+
											'<a class="example-image-link" href="../document/audit/'+ response.body[i].document +'" title="'+ response.body[i].document +'" target="_balnk"> '+iTag+'</a>'+
											'</div></div><div class="upload-btn-wrapper">'+
											'<label class="custom-file-upload" for="mulDocAtta"><i class="fa fa-cloud-upload"></i>Document</label>'+
											' <input type="file" class="mulDocAssignReq" id="docAssignReq_'+i+'" style="display: block;" onchange="saveFileAssign(event);checkImageFormat(this);">'+
											'<input type="hidden" class="editDocument" id="editDoc_'+i+'" value="'+response.body[i].document+'">'+
											'</div></div></td>'+
											'<td width="300"><textarea class="form-control reqAssignCommentCls" id="reqAssignComment_'+i+'" autocomplete="on">'+
											response.body[i].documentComment+'</textarea></td>'+
											'<td align="Right" width="200"><button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="moreAssignCheck();">'+
											'<span class="ti-plus"></span></button><button type="button" class="btn btn-warning rmv" name="RemoveAssign"><span class="ti-minus"></span></button></td>'+
											'</tr>';
										} else{
											var div = '<tr class="tr_clone" id="row">' +
											'<td width="300"><input type="text" class="form-control reqAssignDocNameCls" id="reqAssignDocName_'+i+'" value="'+response.body[i].documentName+'">'+
											'</td>'+
											'<td width="320"><div class="row" id="rowId_'+i+'"><div id="row2_'+i+'" style="text-align: right; padding-left: 50px; padding-top: 10px;">'+
											'<div class="text assignHoCls" id="assignHo_'+i+'">'+
											'<a class="example-image-link" href="../document/audit/'+ response.body[i].document +'" title="'+ response.body[i].document +'" target="_balnk">'+iTag+'</a>'+
											'</div></div><div class="upload-btn-wrapper">'+
											'<label class="custom-file-upload" for="mulDocAtta"><i class="fa fa-cloud-upload"></i>Document</label>'+
											'<input type="file" class="mulDocAssignReq" id="docAssignReq_'+i+'" style="display: block;" onchange="saveFileAssign(event);checkImageFormat(this);">'+
											'<input type="hidden" class="editDocument" id="editDoc_'+i+'" value="'+ response.body[i].document +'">'+
											'</div></div></td>'+
											'<td width="300"><textarea class="form-control reqAssignCommentCls" id="reqAssignComment_'+i+'" autocomplete="on">'+
											response.body[i].documentComment+'</textarea></td>'+
											'<td align="Right" width="200"><button type="button" class="btn btn-warning rmv" name="RemoveAssign"><span class="ti-minus"></span></button></td>'+
											'</tr>';
										}
										
										
										$("#tbodyDataAssignReq").append(div);
									}
								
								}
							}
							
							 
								
						}
						
				},
					error : function(e) {
						console.log("error");
					}
				});
				
		 		
		 		
		 		
		 	}	
			
			
			//Assign To Concern
			function assignToConcern(){
				
				var dataset = [];
				var personTo = [];
				var personCC = [];
				var  comment= CKEDITOR.instances.assignComment.getData();
				var prevauditid= ($('#allpdfid').val());
				
				$("#toHiddenId2").val('');
	     		$("#CcHiddenId2").val('');
				
				var id1=$("#autocomplete-select31").chosen().val();
				$("#toHiddenId2").val(id1);
				$("#toHiddenId2").each(function () {
					personTo=$(this).val();
				});
				
				var id2=$("#autocomplete-select32").chosen().val();
				$("#CcHiddenId2").val(id2);
				$("#CcHiddenId2").each(function () {			
					personCC=$(this).val();
				});
				
				
				if(personTo==null || personTo==''){
					swal("Please select at least one person whom you want to send..");
					return false;
				}
				
				$("#tbodyDataAssignReq > tr").each(function(){
					
		            var uFile = $(this).find(".mulDocAssignReq")[0].files[0];

		            var ff =  $(this).find(".editDocument").val();
		            
		            var fileName = $(this).find(".mulDocAssignReq").val();
		            //console.log(fileName)
		            
		            if (fileName != '' && fileName != 'undefined' && fileName != null) {
		                var lastIndex = fileName.lastIndexOf("\\");
		                if (lastIndex >= 0) {
		                    fileName = fileName.substring(lastIndex + 1);
		                }
		                var data = '';
		                var x = [];

		                var reader = new FileReader();
		                reader.readAsDataURL(uFile);

		                reader.onload = function() {

		                    data = reader.result.split(",");

		                    x.push(data[1]);
		                };
		            } else {
		                var x = [];
		                x.push('empty');
		            }
					audit = {};
					if(fileName == "" || fileName == null || fileName == "null"){
						audit['auditId'] = $('#assignId').val();
						audit['subject'] = $('#subjectAssignReq').val();
						audit['personCc'] = personCC;
						audit['personTo'] = personTo;
						audit['documentName'] = $(this).find(".reqAssignDocNameCls").val();
						audit['documentComment'] = $(this).find(".reqAssignCommentCls").val();
						audit['file'] = x;
				        audit['document'] = ff;
				        audit['comment'] = comment;
				        audit['priority'] = $("#priorityReply").val();
				        audit['identifier'] = $("#identifierAssign").val(); 
				        audit['initiatedId'] = $("#auditInitiated").val();
				        audit['auditType'] = $("#auditType").val();
				        audit['prevauditid'] = prevauditid;
					} else{
						audit['auditId'] = $('#assignId').val();
						audit['subject'] = $('#subjectAssignReq').val();
						audit['personCc'] = personCC;
						audit['personTo'] = personTo;
						audit['documentName'] = $(this).find(".reqAssignDocNameCls").val();
						audit['documentComment'] = $(this).find(".reqAssignCommentCls").val();
						audit['file'] = x;
				        audit['document'] = fileName;
				        audit['comment'] = comment;
				        audit['priority'] = $("#priorityReply").val();
				        audit['identifier'] = $("#identifierAssign").val(); 
				        audit['initiatedId'] = $("#auditInitiated").val();
				        audit['auditType'] = $("#auditType").val();
				        audit['prevauditid'] = prevauditid;
					}
					
					dataset.push(audit);
					//console.log(dataset);
				});
				//console.log(dataset);
					swal.fire({
					  title: "Are you sure want to send?",
					  text: "Once sent,can't revert back !",
					  type: "warning",
					  showCancelButton: true,
					  confirmButtonColor: '#ef5920',
					  cancelButtonColor: '#e7b63a',
					  confirmButtonText: 'Yes',
					  showLoaderOnConfirm		: false,
					  //closeOnConfirm: false,
					  reverseButtons : true,
					  /* preConfirm: () => {
							return new Promise((resolve) => {
								setTimeout(() => {
									console.log("Doing async operation");
									resolve()
								}, 3000)
							})
						} */
					}).then((result) => {
						if(result.value){
						 document.getElementById("loader").style.display = "block";
						 $.ajax({
							 	type		:	"POST",
							 	url			:	"view-statutary-audit-master-forwardToCrn",
								dataType	:	"json",
								contentType	: 	'application/json; charset=utf-8',
								data : JSON.stringify(dataset),							    
							    success: function(response) {
							    	
							        if (response.message == "success") {
							        	document.getElementById("loader").style.display = "none";
							        	swal({
							        		title: "Sent Successfully.",
							        		type: "success"
							        	}).then(function(){
							        		location.reload();
							        	})
							        
							        } else {
							        	document.getElementById("loader").style.display = "none";
							            swal({
							                title: 'Unsuccess',
							                text: response.code
							            })
							        }
							    },
							    error: function(data) {
						       
							    }
							}) 
						}
					  
					});
				
			}
			
			function rejectFromConcern(id,reqId,toId){
				$("#audit").val(id);
				$("#sendbackReqId").val(reqId);
				$('.search-choice1').hide();
				$('.search-choice2').hide();

				$.ajax({
				type : 'GET',
				url : 'view-statutary-audit-master-getReplyAutocomplete?id='+id+'&reqId=' + reqId,
				success : function(response) {
				//console.log(response)
				if(response.message=="Success"){

				var comment= $('#reqCommentId_0').html();
				CKEDITOR.instances['rejectReq'].setData(comment);

				$("#subjectRejectReq").val(response.body[0].subject);
				$("#toHiddenId10").val(toId);
				if(response.body[0].document == "" || response.body[0].document == null || response.body[0].document == "null"){
				for(var i = 0; i< response.body.length; i++){



				//$("#autocomplete-select111").closest('div').find(".ss-values").empty();
				var createdBy = $("#createdBy").text()
				//var div = '<div class="ss-value" id="deleteEmp_'+i+'"><span class="ss-value-text">' + createdBy + '</span><span class="ss-value-delete" id="'+i+'" onclick="deleteInterviewer(event)" >x</span></div>';
				//$("#autocomplete-select111").closest('div').find(".ss-values").append(div);
				
				var div = '<li class="search-choice search-choice1 default"><span>"' + createdBy + '" </span><a class="search-choice-close" data-option-array-index="' + i + '"></a></li>';
	     	                           
	                                    $("#autocomplete-select111").closest('div').find(".chosen-choices").first().append(div);

	    	                            $('#autocomplete-select111').on('change', function() {
	    	                                $('.chosen-choices').closest('div').find('.search-choice1').hide();
	    	                                $("#toHiddenId10").val('');
	    	                            })
	    	                            $('.search-choice-close').on('click', function() {
	    	                                $('.chosen-choices').closest('div').find('.search-choice1').hide();
	    	                                $("#toHiddenId10").val('');
	    	                            })
				
				$('.mulDocSendBack').attr("file",response.body[i].document);

				}
				} else{
				$("#tbodyDataSendBack").empty();

				if(response.body.length == 1){

				for(var i = 0; i< response.body.length; i++){

				var docType = (response.body[i].document).split(".");

				var iTag = '<i class="fa fa-picture-o fa-2x "></i>';
				if(docType[1] == "pdf"){
				iTag = '<i class="fa fa-file-pdf-o fa-2x "></i>';
				} if(docType[1] == "xls" || docType[1] == "xlsx"){
				iTag = '<i class="fa fa-file-excel-o fa-2x "></i>';
				} if(docType[1] == 'docx'){
				iTag = '<i class="fa fa-file-word-o fa-2x "></i>';
				}

				$("#toHiddenId10").val(toId);
				//$("#toHiddenId10").val(response.body[0].createdby);

				//$("#autocomplete-select111").closest('div').find(".ss-values").empty();
				//var createdBy = $("#createdBy").text()
				//var div = '<div class="ss-value" id="deleteEmp_'+i+'"><span class="ss-value-text">' + createdBy + '</span><span class="ss-value-delete" id="'+i+'" onclick="deleteInterviewer(event)" >x</span></div>';
				//$("#autocomplete-select111").closest('div').find(".ss-values").append(div);
				var div = '<li class="search-choice search-choice1 default"><span>"' + createdBy + '" </span><a class="search-choice-close" data-option-array-index="' + i + '"></a></li>';
	     	                           
	                                    $("#autocomplete-select111").closest('div').find(".chosen-choices").first().append(div);

	    	                            $('#autocomplete-select111').on('change', function() {
	    	                                $('.chosen-choices').closest('div').find('.search-choice1').hide();
	    	                                $("#toHiddenId10").val('');
	    	                            })
	    	                            $('.search-choice-close').on('click', function() {
	    	                                $('.chosen-choices').closest('div').find('.search-choice1').hide();
	    	                                $("#toHiddenId10").val('');
	    	                            })
				$('.mulDocSendBack').attr("file",response.body[i].document);

				var div = '<tr class="tr_clone" id="row">'+
				'<td width="300"><input type="text" class="form-control SendBackDocNameCls" id="SendBackDocName_'+i+'" value="'+response.body[i].documentName+'">'+
				'</td>'+
				'<td width="320"><div class="row" id="rowId_'+i+'">'+
				'<div id="row2_'+i+'" style="text-align: right; padding-left: 50px; padding-top: 10px;">'+
				'<div class="text SendBackImgCls" id="SendBackImg_'+i+'"><a class="example-image-link" href="../document/audit/'+ response.body[i].document +'" title="'+ response.body[i].document +'" target="_balnk">'+iTag+'</a></div>'+
				'</div><div class="upload-btn-wrapper">'+
				'<label class="custom-file-upload" for="mulDocAtta"><i class="fa fa-cloud-upload"></i>Document</label> <input type="file" class="mulDocSendBack" id="docSendBack_'+i+'"style="display: block;" onchange="saveFileAssign(event);checkImageFormat(this);">'+
				'<input type="hidden" class="editDocumentReject" id="editDocReject_'+i+'" value="'+response.body[i].document+'">'+
				'</div></div></td>'+
				'<td width="300"><textarea class="form-control SendBackCommentCls" id="SendBackComment_'+i+'" autocomplete="on">'+response.body[i].documentComment+'</textarea>'+
				'</td>'+
				'<td align="Right" width="200">'+
				'<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="moreSendBackCheck();">'+
				'<span class="ti-plus"></span></button></td>'+
				'</tr>';


				$("#tbodyDataSendBack").append(div);
				}
				} else {
				for(var i = 0; i< response.body.length; i++){

				var docType = (response.body[i].document).split(".");

				var iTag = '<i class="fa fa-picture-o fa-2x "></i>';
				if(docType[1] == "pdf"){
				iTag = '<i class="fa fa-file-pdf-o fa-2x "></i>';
				} if(docType[1] == "xls" || docType[1] == "xlsx"){
				iTag = '<i class="fa fa-file-excel-o fa-2x "></i>';
				} if(docType[1] == 'docx'){
				iTag = '<i class="fa fa-file-word-o fa-2x "></i>';
				}

				$("#toHiddenId10").val(toId);
				//$("#toHiddenId10").val(response.body[0].createdby);

				//$("#autocomplete-select111").closest('div').find(".ss-values").empty();
				var createdBy = $("#createdBy").text()
				//var div = '<div class="ss-value" id="deleteEmp_'+i+'"><span class="ss-value-text">' + createdBy + '</span><span class="ss-value-delete" id="'+i+'" onclick="deleteInterviewer(event)" >x</span></div>';
				//$("#autocomplete-select111").closest('div').find(".ss-values").append(div);
				
				var div = '<li class="search-choice search-choice1 default"><span>"' + createdBy + '" </span><a class="search-choice-close" data-option-array-index="' + i + '"></a></li>';
	     	                           
	                                    $("#autocomplete-select111").closest('div').find(".chosen-choices").first().append(div);

	    	                            $('#autocomplete-select111').on('change', function() {
	    	                                $('.chosen-choices').closest('div').find('.search-choice1').hide();
	    	                                $("#toHiddenId10").val('');
	    	                            })
	    	                            $('.search-choice-close').on('click', function() {
	    	                                $('.chosen-choices').closest('div').find('.search-choice1').hide();
	    	                                $("#toHiddenId10").val('');
	    	                            })
				$('.mulDocSendBack').attr("file",response.body[i].document);

				if(i == response.body.length-1){

				var div = '<tr class="tr_clone" id="row">'+
				'<td width="300"><input type="text" class="form-control SendBackDocNameCls" id="SendBackDocName_'+i+'" value="'+response.body[i].documentName+'">'+
				'</td>'+
				'<td width="320"><div class="row" id="rowId_'+i+'">'+
				'<div id="row2_'+i+'" style="text-align: right; padding-left: 50px; padding-top: 10px;">'+
				'<div class="text SendBackImgCls" id="SendBackImg_'+i+'"><a class="example-image-link" href="../document/audit/'+ response.body[i].document +'" title="'+ response.body[i].document +'" target="_balnk">'+iTag+'</a></div>'+
				'</div><div class="upload-btn-wrapper">'+
				'<label class="custom-file-upload" for="mulDocAtta"><i class="fa fa-cloud-upload"></i>Document</label> <input type="file" class="mulDocSendBack" id="docSendBack_'+i+'" style="display: block;" onchange="saveFileAssign(event);checkImageFormat(this);">'+
				'<input type="hidden" class="editDocumentReject" id="editDocReject_'+i+'" value="'+response.body[i].document+'">'+
				'</div></div></td>'+
				'<td width="300"><textarea class="form-control SendBackCommentCls" id="SendBackComment_'+i+'" autocomplete="on">'+response.body[i].documentComment+'</textarea>'+
				'</td>'+
				'<td align="Right" width="200">'+
				'<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="moreSendBackCheck();">'+
				'<span class="ti-plus"></span></button><button type="button" class="btn btn-warning rmv" name="RemoveSendBack"><span class="ti-minus"></span></button></td>'+
				'</tr>';
				} else{
				var div = '<tr class="tr_clone" id="row">'+
				'<td width="300"><input type="text" class="form-control SendBackDocNameCls" id="SendBackDocName_'+i+'" value="'+response.body[i].documentName+'">'+
				'</td>'+
				'<td width="320"><div class="row" id="rowId_'+i+'">'+
				'<div id="row2_'+i+'" style="text-align: right; padding-left: 50px; padding-top: 10px;">'+
				'<div class="text SendBackImgCls" id="SendBackImg_'+i+'"><a class="example-image-link" href="../document/audit/'+ response.body[i].document +'" title="'+ response.body[i].document +'" target="_balnk">'+iTag+'</a></div>'+
				'</div><div class="upload-btn-wrapper">'+
				'<label class="custom-file-upload" for="mulDocAtta"><i class="fa fa-cloud-upload"></i>Document</label> <input type="file" class="mulDocSendBack" id="docSendBack_'+i+'" style="display: block;" onchange="saveFileAssign(event);checkImageFormat(this);">'+
				'<input type="hidden" class="editDocumentReject" id="editDocReject_'+i+'" value="'+response.body[i].document+'">'+
				'</div></div></td>'+
				'<td width="300"><textarea class="form-control SendBackCommentCls" id="SendBackComment_'+i+'" autocomplete="on">'+response.body[i].documentComment+'</textarea>'+
				'</td>'+
				'<td align="Right" width="200">'+
				'<button type="button" class="btn btn-warning rmv" name="RemoveSendBack"><span class="ti-minus"></span></button></td>'+
				'</tr>';
				}


				$("#tbodyDataSendBack").append(div);
				}

				}
				}


				}

				},
				error : function(e) {
				console.log("error");
				}
				});
				$("#rejectModel").modal("show");
				}
			
			//Reject By Section 
			function rejectToConcern(){
			/* 	var obj={};
				 obj.auditId=$("#audit").val();
				 obj.comment= CKEDITOR.instances.rejectReq.getData();
				 */
				var dataset = [];
				var personTo = [];
				var personCC = [];
				var  comment= CKEDITOR.instances.rejectReq.getData();
				
				$("#toHiddenId10").val('');
	     		$("#CcHiddenId10").val('');
				
				var id1=$("#autocomplete-select111").chosen().val();
				$("#toHiddenId10").val(id1);
				$("#toHiddenId10").each(function () {
					personTo=$(this).val();
				});
				
				var id2=$("#autocomplete-select112").chosen().val();
				$("#CcHiddenId10").val(id2);
				$("#CcHiddenId10").each(function () {			
					personCC=$(this).val();
				});
				
				
				if(personTo==null || personTo==''){
					swal("Please select at least one person whom you want to send..");
					return false;
				}
				
				$("#tbodyDataSendBack > tr").each(function(){
					
		            var uFile = $(this).find(".mulDocSendBack")[0].files[0];

		            var fileName = $(this).find(".mulDocSendBack").val();
		            
		            var ffReject = $(this).find(".editDocumentReject").val();

		            if (fileName != '' && fileName != 'undefined' && fileName != null) {
		                var lastIndex = fileName.lastIndexOf("\\");
		                if (lastIndex >= 0) {
		                    fileName = fileName.substring(lastIndex + 1);
		                }
		                var data = '';
		                var x = [];

		                var reader = new FileReader();
		                reader.readAsDataURL(uFile);

		                reader.onload = function() {

		                    data = reader.result.split(",");

		                    x.push(data[1]);
		                };
		            } else {
		                var x = [];
		                x.push('empty');
		            }
					audit = {};
					
					if(fileName == "" || fileName == null || fileName == "null"){
						audit['auditId'] = $('#audit').val();
						audit['reqId'] = $('#sendbackReqId').val();
						audit['personCc'] = personCC;
						audit['personTo'] = personTo;
						audit['documentName'] = $(this).find(".SendBackDocNameCls").val();
						audit['documentComment'] = $(this).find(".SendBackCommentCls").val();
						audit['file'] = x;
				        audit['document'] = ffReject;
				        audit['comment'] = comment;
				        audit['subject'] = $("#subjectRejectReq").val();
					} else{
						audit['auditId'] = $('#audit').val();
						audit['personCc'] = personCC;
						audit['reqId'] = $('#sendbackReqId').val();
						audit['personTo'] = personTo;
						audit['documentName'] = $(this).find(".SendBackDocNameCls").val();
						audit['documentComment'] = $(this).find(".SendBackCommentCls").val();
						audit['file'] = x;
				        audit['document'] = fileName;
				        audit['comment'] = comment;
				        audit['subject'] = $("#subjectRejectReq").val();
					}
					
					dataset.push(audit);
					
				});
				//console.log(dataset);
				swal.fire({
					  title: "Are you sure want to send back?",
					  text: "Once sent back,can't revert back !",
					  type: "warning",
					  showCancelButton: true,
					  confirmButtonColor: '#ef5920',
					  cancelButtonColor: '#e7b63a',
					  confirmButtonText: 'Yes',
					  showLoaderOnConfirm		: false,
					  //closeOnConfirm: false,
					  reverseButtons : true,
					 /*  preConfirm: () => {
							return new Promise((resolve) => {
								setTimeout(() => {
									console.log("Doing async operation");
									resolve()
								}, 3000)
							})
						} */
					}).then((result) => {
						if(result.value){
							document.getElementById("loader").style.display = "block";
						 $.ajax({
							 	type		:	"POST",
							 	url			:	"view-statutary-audit-master-rejectResponse1",
								dataType	:	"json",
								contentType: 'application/json; charset=utf-8',
								data : JSON.stringify(dataset),						    
							    success: function(response) {
							    	
							        if (response.message == "success") {
							        	document.getElementById("loader").style.display = "none";
							        	swal({
							        		title: "Sent back successfully.",
							        		type: "success"
							        	}).then(function(){
							        		 location.reload();
							        	})
							        
							        } else {
							        	document.getElementById("loader").style.display = "none";
							            swal({
							                title: 'Unsuccess',
							                text: response.code
							            })
							        }
							    },
							    error: function(data) {
						       
							    }
							}) 
						}
					  
					});
				
			}
			
			function forwardObs(id){
				$("#obsForward").val(id);
				$("#forwardObservation").modal("show");
			}
			
			
			//forward Observation 
			function forwardObsSubmit(){
				
				var id = $("#obsForward").val();
			//	var initiateForward = $("#initiateForward").val();
				
				var comment = CKEDITOR.instances.forwardObsComment.getData();
				 var datasetForward = [];
				 var personTo = [];
					var personCC = [];
					
					$("#toHiddenIdObs").val('');
		     		$("#CcHiddenIdObs1").val('');
						
						var id1=$("#autocomplete-selectObs").chosen().val();
						$("#toHiddenIdObs").val(id1);
						$("#toHiddenIdObs").each(function () {
							personTo=$(this).val();
						});
						
						var id2=$("#autocomplete-selectObs1").chosen().val();
						$("#CcHiddenIdObs1").val(id2);
						$("#CcHiddenIdObs1").each(function () {			
							personCC=$(this).val();
						});
						
						if(personTo==null || personTo==''){
							swal("Please select at least one person whom you want to send..");
							return false;
						}
				 
				 $("#tbodyDataObsForward > tr").each(function(i) {
					
				     //  console.log($(this).find(".mulDocObsForward").val());
				    	    var uFile = $(this).find(".mulDocObsForward")[0].files[0];

				    	   var fileName = $(this).find(".mulDocObsForward").val();

				        if (fileName != '' && fileName != 'undefined' && fileName != null) {
				            var lastIndex = fileName.lastIndexOf("\\");
				            if (lastIndex >= 0) {
				                fileName = fileName.substring(lastIndex + 1);
				            }
				            var data = '';
				            var x = [];

				            var reader = new FileReader();
				            reader.readAsDataURL(uFile);

				            reader.onload = function() {

				                data = reader.result.split(",");

				                x.push(data[1]);
				            };
				        } else {
				            var x = [];
				            x.push('empty');
				        }
				        audit = {};   
				        audit['document'] = fileName;
				        audit['personCc'] = personCC;
						audit['personTo'] = personTo;
				        audit['auditId'] = $("#obsForward").val();
				        audit['subject'] = $("#subjectFrwSec").val();
				        audit['comment'] = comment;
				      	audit['documentName'] = $(this).find(".forwardObsDocNameCls").val();
				      	audit['documentComment'] = $(this).find(".forwardObsCommentCls").val();
				        audit['file'] = x;

				        datasetForward.push(audit);
						//console.log(datasetForward);
				//console.log(datasetForward); 
					swal.fire({
					  title: "Are you sure want to send?",
					  text: "Once sent,can't revert back !",
					  type: "warning",
					  showCancelButton: true,
					  confirmButtonColor: '#ef5920',
					  cancelButtonColor: '#e7b63a',
					  confirmButtonText: 'Yes',
					  showLoaderOnConfirm		: false,
					  //closeOnConfirm: false,
					  reverseButtons : true,
					/*   preConfirm: () => {
							return new Promise((resolve) => {
								setTimeout(() => {
									console.log("Doing async operation");
									resolve()
								}, 3000)
							})
						} */
					}).then((result) => {
						if(result.value){
							document.getElementById("loader").style.display = "block";
						 $.ajax({
							 	type		:	"POST",
							 	url			:	"view-statutary-audit-master-forwardObservationByCo",
								dataType	:	"json",
								contentType	: 	'application/json; charset=utf-8',
								data		:   JSON.stringify(datasetForward),						    
							    success: function(response) {
							    	
							        if (response.message == "success") {
							        	document.getElementById("loader").style.display = "none";
							        	swal({
							        		title: "Sent Successfully.",
							        		type: "success"
							        	}).then(function(){
							        		location.reload(); 
							        	})
							        
							        } else {
							        	document.getElementById("loader").style.display = "none";
							            swal({
							                title: 'Unsuccess',
							                text: response.code
							            })
							        }
							    },
							    error: function(data) {
						       
							    }
							})
						}
					  
					});
				 });
				
			}
			
			/* forward add more */
			function moreObsForward(){
				var lengthOfTableRowReq = $("#tbodyDataObsForward").children('tr').length;
				var cloneHtml = $("#myTableObsForward tbody tr:first").clone();
				
				$("#myTableObsForward tbody tr:last").find('td:last').html('');
				$("#myTableObsForward tbody").append($("#myTableObsForward tbody tr:first").clone());
				
				$("#myTableObsForward tbody tr td:last").html("");
				var addMore='<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="moreObsForwardCheck();"><span class="ti-plus"></span></button>&nbsp;'
				var removeMore = '<button type="button" class="btn btn-warning rmv" name="RemoveObsForward"><span class="ti-minus"></span></button>';
				
				$("#myTableObsForward tbody tr:last").find('td:last').append(addMore);
				$("#myTableObsForward tbody tr:last").find('td:last').append(removeMore);
				$("#myTableObsForward tbody tr:last").find(".forwardObsDocNameCls").val("");
				$("#myTableObsForward tbody tr:last").find(".mulDocObsForward").empty();
				$("#myTableObsForward tbody tr:last").find(".forwardObsImgCls").empty();
				$("#myTableObsForward tbody tr:last").find(".forwardObsCommentCls").empty();
				
				
				
				var editTrReq = 0;
				
				if(lengthOfTableRowReq>editTrReq){
					$("#myTableObsForward tbody tr").eq(lengthOfTableRowReq-1).find('td:last').append(removeMore);
				}
				
				$("#myTableObsForward > tbody > tr").each(function(i){
					var textInput = $(this).find('input');
					var divInput = $(this).find('div');
					var areaInput = $(this).find('textarea');
					textInput.eq(0).attr('id',"forwardObsDocName_"+i);
					textInput.eq(1).attr('id',"docObsForward_"+i);
					divInput.eq(1).attr('id', "row2_" + i);
					divInput.eq(2).attr('id', "forwardObsImg_" + i);
					areaInput.eq(2).attr('id', "forwardObsComment_" + i);
					
				})
				
			}
			/* forward add more */
			function moreFrmSenior(){
				var lengthOfTableRowReq = $("#tbodyDataFrmSenior").children('tr').length;
				var cloneHtml = $("#myTableFrmSenior tbody tr:first").clone();
				
				$("#myTableFrmSenior tbody tr:last").find('td:last').html('');
				$("#myTableFrmSenior tbody").append($("#myTableFrmSenior tbody tr:first").clone());
				
				$("#myTableFrmSenior tbody tr td:last").html("");
				var addMore='<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="moreFrmSenior();"><span class="ti-plus"></span></button>&nbsp;'
				var removeMore = '<button type="button" class="btn btn-warning rmv" name="RemoveFrmSenior"><span class="ti-minus"></span></button>';
				
				$("#myTableFrmSenior tbody tr:last").find('td:last').append(addMore);
				$("#myTableFrmSenior tbody tr:last").find('td:last').append(removeMore);
				$("#myTableFrmSenior tbody tr:last").find(".FrmSeniorDocNameCls").val("");
				$("#myTableFrmSenior tbody tr:last").find(".mulDocFrmSenior").empty();
				$("#myTableFrmSenior tbody tr:last").find(".FrmSeniorImgCls").empty();
				$("#myTableFrmSenior tbody tr:last").find(".FrmSeniorCommentCls").val("");
				
				
				
				var editTrReq = 0;
				
				if(lengthOfTableRowReq>editTrReq){
					$("#myTableFrmSenior tbody tr").eq(lengthOfTableRowReq-1).find('td:last').append(removeMore);
				}
				
				$("#myTableFrmSenior > tbody > tr").each(function(i){
					var textInput = $(this).find('input');
					var divInput = $(this).find('div');
					var areaInput = $(this).find('textarea');
					textInput.eq(0).attr('id',"FrmSeniorDocName_"+i);
					textInput.eq(1).attr('id',"docFrmSenior_"+i);
					divInput.eq(1).attr('id', "row2_" + i);
					divInput.eq(2).attr('id', "FrmSeniorImg_" + i);
					areaInput.eq(0).attr('id', "FrmSeniorCommentCls" + i);
					
				})
				
			}
			/* forward add more */
			function moreSendBack(){
				var lengthOfTableRowReq = $("#tbodyDataSendBack").children('tr').length;
				var cloneHtml = $("#myTableSendBack tbody tr:first").clone();
				
				$("#myTableSendBack tbody tr:last").find('td:last').html('');
				$("#myTableSendBack tbody").append($("#myTableSendBack tbody tr:first").clone());
				
				$("#myTableSendBack tbody tr td:last").html("");
				var addMore='<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="moreSendBackCheck();"><span class="ti-plus"></span></button>&nbsp;'
				var removeMore = '<button type="button" class="btn btn-warning rmv" name="RemoveSendBack"><span class="ti-minus"></span></button>';
				
				$("#myTableSendBack tbody tr:last").find('td:last').append(addMore);
				$("#myTableSendBack tbody tr:last").find('td:last').append(removeMore);
				$("#myTableSendBack tbody tr:last").find(".SendBackDocNameCls").val("");
				$("#myTableSendBack tbody tr:last").find(".mulDocSendBack").empty();
				$("#myTableSendBack tbody tr:last").find(".SendBackImgCls").empty();
				$("#myTableSendBack tbody tr:last").find(".SendBackCommentCls").val("");
				
				
				
				var editTrReq = 0;
				
				if(lengthOfTableRowReq>editTrReq){
					$("#myTableSendBack tbody tr").eq(lengthOfTableRowReq-1).find('td:last').append(removeMore);
				}
				
				$("#myTableSendBack > tbody > tr").each(function(i){
					var textInput = $(this).find('input');
					var divInput = $(this).find('div');
					var areaInput = $(this).find('textarea');
					textInput.eq(0).attr('id',"SendBackDocName_"+i);
					textInput.eq(1).attr('id',"docSendBack_"+i);
					divInput.eq(1).attr('id', "row2_" + i);
					divInput.eq(2).attr('id', "SendBackImg_" + i);
					areaInput.eq(2).attr('id', "SendBackComment_" + i);
					
				})
				
			}
			
			/*** reply section **/
			//Auditee Modal To Reply
			function reply(event) {
			    $("#fileUpload").val("");
			    $("#uploadedImgDiv").empty();
			    $('#repQuesId').val(event.target.id);
			    var queId = $('#newQuesId').val();			   
			    //console.log('hii')
			    $('#myModalReply').modal('show');			    
			}
			//Addmore for Reply
			$(document).ready(function() {
			    var lengthOfTableRowReply = $("#tbodyDataReply").children('tr').length;
			    $('.tbllReply').on('click', '.rmv', function() {
			        $(this).closest('tr').remove();
			        $("#myTableReply tbody tr:last").find('td:last').html('');
			        var add = '<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="addMoreReply();"><span class="ti-plus"></span></button>&nbsp;'
			        var remove = '<button type="button" class="btn btn-warning rmv" name="RemoveReply"><span class="ti-minus"></span></button>';

			        if ($("#tbodyDataReply").children('tr').length > 1) {
			            $("#myTableReply tbody tr:last").find('td:last').append(add);
			            $("#myTableReply tbody tr:last").find('td:last').append(remove);
			        } else {
			            $("#myTableReply tbody tr:last").find('td:last').append(add);
			        }
			        displayTable();
			    });
			});

			var count = 0;

			function addMoreReply() {
			    var lengthOfTableRowReply = $("#myTableReply").children('tr').length;
			   // console.log(lengthOfTableRowReply)
			    var cloneHtml = $("#myTableReply tbody tr:first").clone();

			    $("#myTableReply tbody tr:last").find('td:last').html('');
			    $("#myTableReply tbody").append($("#myTableReply tbody tr:first").clone());

			    $("#myTableReply tbody tr td:last").html("");
			    var addMore = '<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="addMoreReply();"><span class="ti-plus"></span></button>&nbsp;'
			    var removeMore = '<button type="button" class="btn btn-warning rmv" name="RemoveReply"><span class="ti-minus"></span></button>';

			    $("#myTableReply tbody tr:last").find('td:last').append(addMore);
			    $("#myTableReply tbody tr:last").find('td:last').append(removeMore);
			    $("#myTableReply tbody tr:last").find(".mulDocReq").val("");


			    var editTrReply = 0;

			    //if(lengthOfTableRowReply > editTrReply){
			    $("#myTableReply tbody tr").eq(lengthOfTableRowReply - 2).find('td:last').append(removeMore);
			    //}

			    $("#myTableReply > tbody > tr").each(function(i) {
			        var textInput = $(this).find('input');
			        var divInput = $(this).find('div');
			        textInput.eq(0).attr('id', "docReq_" + i);
			        divInput.eq(0).attr('id', "uploadedImgDivReply_" + i);

			    })

			}


			//Auditee Reply Against Auditor's Comment
			$(document).ready(function() {
			    $("#auditeeReply").click(function() {

			        var comment = $('#commentId').val();
			      //  console.log(comment)
			        var datasetReply = [];
			        $("#tbodyDataReply > tr").each(function(i) {

			            //console.log($(this).find(".mulDocReq").val());
			            var uFile = $(this).find(".mulDocReq")[0].files[0];

			            var fileName = $(this).find(".mulDocReq").val();

			            if (fileName != '' && fileName != 'undefined' && fileName != null) {
			                var lastIndex = fileName.lastIndexOf("\\");
			                if (lastIndex >= 0) {
			                    fileName = fileName.substring(lastIndex + 1);
			                }
			                var data = '';
			                var x = [];

			                var reader = new FileReader();
			                reader.readAsDataURL(uFile);

			                reader.onload = function() {

			                    data = reader.result.split(",");

			                    x.push(data[1]);
			                };
			            } else {
			                var x = [];
			                x.push('empty');
			            }
			            audit = {};
			            audit['document'] = fileName;
			            audit['quesId'] = $('#repQuesId').val();
			            //audit['auditId'] = $("#auditId").val();
			            audit['comment'] = comment;
			            audit['file'] = x;


			            datasetReply.push(audit);
			        });
			        //console.log(datasetReply)

			        swal.fire({
			            title: "Are you sure want to send?",
			            text: "Once sent,can't revert back !",
			            type: "warning",
			            showCancelButton: true,
			            confirmButtonColor: "#ef5920",
			            confirmButtonText: "Yes",
			            showLoaderOnConfirm: false,
			            reverseButtons: true,
			            confirmButtonAriaLabel: 'Thumbs up, great!',
			            cancelButtonText: 'Cancel',
			            cancelButtonAriaLabel: 'Thumbs down',
			            /* preConfirm: () => {
			                return new Promise((resolve) => {
			                    setTimeout(() => {
			                        console.log("Doing async operation");
			                        resolve()
			                    }, 3000)
			                })
			            } */
			        }).then((result) => {
			            if (result.value) {
			            	document.getElementById("loader").style.display = "block";
			                $.ajax({
			                    type: "POST",
			                    url: "view-statutary-audit-master-comment-consernsave",
			                    dataType: "json",
			                    contentType: "application/json",
			                    data: JSON.stringify(datasetReply),
			                    success: function(response) {
			                    	
			                        if (response.message == "success") {
			                        	document.getElementById("loader").style.display = "none";
			                            swal({
			                                title: "Sent Successfully.",
			                                type: "success",
			                            }).then(function() {
			                                location.reload();
			                            })
			                        } else {
			                        	document.getElementById("loader").style.display = "none";
			                            swal({
			                                title: response.code,
			                                text: response.message,
			                                type: "warning"
			                            })
			                        }
			                    },
			                    error: function(data) {
			                        console.log(data)
			                    }
			                }) //ajax ends
			            }
			        })
			    });
			});
			
			
			/* Assign to concerned Auditee   add more */
			function moreAssign(){
				var lengthOfTableRowReq = $("#tbodyDataAssignReq").children('tr').length;
				var cloneHtml = $("#myTableAssignReq tbody tr:first").clone();
				
				$("#myTableAssignReq tbody tr:last").find('td:last').html('');
				$("#myTableAssignReq tbody").append($("#myTableAssignReq tbody tr:first").clone());
				
				$("#myTableAssignReq tbody tr td:last").html("");
				var addMore='<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="moreAssignCheck();"><span class="ti-plus"></span></button>&nbsp;'
				var removeMore = '<button type="button" class="btn btn-warning rmv" name="RemoveAssign"><span class="ti-minus"></span></button>';
				
				$("#myTableAssignReq tbody tr:last").find('td:last').append(addMore);
				$("#myTableAssignReq tbody tr:last").find('td:last').append(removeMore);
				
				$("#myTableAssignReq tbody tr:last").find(".reqAssignDocNameCls").val("");
				$("#myTableAssignReq tbody tr:last").find(".assignHoCls").empty();
				$("#myTableAssignReq tbody tr:last").find(".mulDocAssignReq").val("");
				$("#myTableAssignReq tbody tr:last").find(".reqAssignCommentCls").val("");
				
				var editTrReq = 0;
				
				if(lengthOfTableRowReq>editTrReq){
					$("#myTableAssignReq tbody tr").eq(lengthOfTableRowReq-1).find('td:last').append(removeMore);
				}
				
				$("#myTableAssignReq > tbody > tr").each(function(i){
					var textInput = $(this).find('input');
					var divInput = $(this).find('div');
					var areaInput = $(this).find('textarea');
					textInput.eq(1).attr('id',"docAssignReq_"+i);
					divInput.eq(1).attr('id', "row2_" + i);
					divInput.eq(2).attr('id', "assignHo_" + i)
					areaInput.eq(0).attr('id', "reqAssignComment_" + i)
					
				})
				
			}
			/* Add  remark  add more */
			function moreRemark(){
				var lengthOfTableRowReq = $("#tbodyDataRemark").children('tr').length;
				var cloneHtml = $("#myTableRemark tbody tr:first").clone();
				
				$("#myTableRemark tbody tr:last").find('td:last').html('');
				$("#myTableRemark tbody").append($("#myTableRemark tbody tr:first").clone());
				
				$("#myTableRemark tbody tr td:last").html("");
				var addMore='<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="moreRemark();"><span class="ti-plus"></span></button>&nbsp;'
				var removeMore = '<button type="button" class="btn btn-warning rmv" name="RemoveRemark"><span class="ti-minus"></span></button>';
				
				$("#myTableRemark tbody tr:last").find('td:last').append(addMore);
				$("#myTableRemark tbody tr:last").find('td:last').append(removeMore);
				
				$("#myTableRemark tbody tr:last").find(".remarkDocNameCls").val("");
				$("#myTableRemark tbody tr:last").find(".remarkCls").empty();
				$("#myTableRemark tbody tr:last").find(".remarkDocCls").val("");
				$("#myTableRemark tbody tr:last").find(".remarkCommentCls").val("");
				
				var editTrReq = 0;
				
				if(lengthOfTableRowReq>editTrReq){
					$("#myTableRemark tbody tr").eq(lengthOfTableRowReq-1).find('td:last').append(removeMore);
				}
				
				$("#myTableRemark > tbody > tr").each(function(i){
					var textInput = $(this).find('input');
					var divInput = $(this).find('div');
					var areaInput = $(this).find('textarea');
					textInput.eq(0).attr('id',"remarkDocName_"+i);
					textInput.eq(1).attr('id',"remarkDoc_"+i);
					divInput.eq(1).attr('id', "row2_" + i);
					divInput.eq(2).attr('id', "remark_" + i)
					areaInput.eq(0).attr('id', "remarkComment_" + i)
					
				})
				
			}
			
			$(document).ready(function() {
							/* SEND REPONSE to Requisition */
							var lengthOfTableRowReq = $("#tbodyDataAssignReq").children('tr').length;
							$('.tbllAssignReq').on('click', '.rmv', function () {
								$(this).closest('tr').remove();
								$("#myTableAssignReq tbody tr:last").find('td:last').html('');
								var add='<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="moreAssignCheck();"><span class="ti-plus"></span></button>&nbsp;'
								var remove = '<button type="button" class="btn btn-warning rmv" name="RemoveAssign"><span class="ti-minus"></span></button>';

								if($("#tbodyDataAssignReq").children('tr').length > 1){
								$("#myTableAssignReq tbody tr:last").find('td:last').append(add);
								$("#myTableAssignReq tbody tr:last").find('td:last').append(remove);
								}else{
								$("#myTableAssignReq tbody tr:last").find('td:last').append(add);
								}
								cotAsign--;
								});
							
							/* SEND REPONSE to Requisition */
							var lengthOfTableRowReq = $("#tbodyDataRemark").children('tr').length;
							$('.tbllRemark').on('click', '.rmv', function () {
								$(this).closest('tr').remove();
								$("#myTableRemark tbody tr:last").find('td:last').html('');
								var add='<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="moreRemark();"><span class="ti-plus"></span></button>&nbsp;'
								var remove = '<button type="button" class="btn btn-warning rmv" name="RemoveRemark"><span class="ti-minus"></span></button>';

								if($("#tbodyDataRemark").children('tr').length > 1){
								$("#myTableRemark tbody tr:last").find('td:last').append(add);
								$("#myTableRemark tbody tr:last").find('td:last').append(remove);
								}else{
								$("#myTableRemark tbody tr:last").find('td:last').append(add);
								}
								
								});
							
						
				});	

	function assignCompliance(quesId,auditId){
	
		$("#quesIdCompliance").val(quesId);
		$("#auditObsId").val(auditId);
		//$("#auditId").val(auditId);

		$("#assignCompliance").modal('show');
		
	}
	
	//Assign Observation
	function forwardReplyPost(){
		 var dataset=[];
		 var personTo = [];
		 var personCC = [];
		
		 $("#toHiddenId5").val('');
  		$("#CcHiddenId5").val('');
		 
			var id1=$("#autocomplete-select61").chosen().val();
			$("#toHiddenId5").val(id1);
			$("#toHiddenId5").each(function () {
				personTo=$(this).val();
			});
			
			var id2=$("#autocomplete-select62").chosen().val();
			$("#CcHiddenId5").val(id2);
			$("#CcHiddenId5").each(function () {			
				personCC=$(this).val();
			});
			
			if(personTo==null || personTo==''){
				swal("Please select at least one person whom you want to send..");
				return false;
			}
			 $("#tbodyDataAssgnCompliance > tr").each(function(i) {
				
				
			           var uFile = $(this).find(".mulDocAsgnCompliance")[0].files[0];

			    	   var fileName = $(this).find(".mulDocAsgnCompliance").val();

			        if (fileName != '' && fileName != 'undefined' && fileName != null) {
			            var lastIndex = fileName.lastIndexOf("\\");
			            if (lastIndex >= 0) {
			                fileName = fileName.substring(lastIndex + 1);
			            }
			            var data = '';
			            var x = [];

			            var reader = new FileReader();
			            reader.readAsDataURL(uFile);

			            reader.onload = function() {

			                data = reader.result.split(",");

			                x.push(data[1]);
			            };
			        } else {
			            var x = [];
			            x.push('empty');
			        }
				
		var obj={};		
			 obj['auditId']  		=	$("#auditObsId").val();
			 obj['reqId']			=	$("#quesIdCompliance").val();
			 obj['subject']			=	$("#subjectAssignObs").val();
			 obj['personTo']		=	personTo;
			 obj['personCc']		=	personCC;
			 obj['comment']			= 	CKEDITOR.instances.assignObsComment.getData();
			 obj['documentName']	= 	$(this).find(".AsgnComplianceDocNameCls").val();
			 obj['documentComment']	= 	$(this).find(".AsgnComplianceCommentCls").val();
			 obj['file'] 			= 	x;
			 obj['document'] 		= 	fileName;
			 
			 dataset.push(obj);
			 console.log(obj);
			 });
			 
			
			 //console.log(dataset);
			swal.fire({
			  title: "Are you sure want to send?",
			  text: "Once sent,can't revert back !",
			  type: "warning",
			  showCancelButton: true,
			  confirmButtonColor: '#ef5920',
			  cancelButtonColor: '#e7b63a',
			  confirmButtonText: 'Yes',
			  showLoaderOnConfirm		: false,
			  //closeOnConfirm: false,
			  reverseButtons : true,
			/*   preConfirm: () => {
					return new Promise((resolve) => {
						setTimeout(() => {
							console.log("Doing async operation");
							resolve()
						}, 3000)
					})
				} */
			}).then((result) => {
				if(result.value){
					document.getElementById("loader").style.display = "block";
				 $.ajax({
					 type			:	"POST",
					 	url			:	"view-statutary-audit-master-forwardReply",
						dataType	:	"json",
						contentType	: 	'application/json; charset=utf-8',
						data 		: 	JSON.stringify(dataset),							    
					    success: function(response) {
					    	
					        if (response.message == "success") {
					        	document.getElementById("loader").style.display = "none";
					        	swal({
					        		title: "Sent Successfully.",
					        		type: "success"
					        	}).then(function(){
					        		location.reload();
					        	})
					        
					        } else {
					        	document.getElementById("loader").style.display = "none";
					            swal({
					                title: 'Unsuccess',
					                text: response.code
					            })
					        }
					    },
					    error: function(data) {
				       
					    }
					})
				}
			  
			});
		
	} 
	// Auditee Modal To Comment
	function auditeeAdd(id,auditId) {
		
	    $("#fileUpload").val("");
	    $("#uploadedImgDiv").empty();
	    $('#complianceQuesId').val(id);
	    $('#complianceAudiId').val(auditId);
	    $('#myModal').modal('show');
	}
	
	/* forward add more */
	function moreCompliance(){
		var lengthOfTableRowReq = $("#tbodyDataCompliance").children('tr').length;
		var cloneHtml = $("#myTableCompliance tbody tr:first").clone();
		
		$("#myTableCompliance tbody tr:last").find('td:last').html('');
		$("#myTableCompliance tbody").append($("#myTableCompliance tbody tr:first").clone());
		
		$("#myTableCompliance tbody tr td:last").html("");
		var addMore='<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="moreCompliance();"><span class="ti-plus"></span></button>&nbsp;'
		var removeMore = '<button type="button" class="btn btn-warning rmv" name="RemoveCompliance"><span class="ti-minus"></span></button>';
		
		$("#myTableCompliance tbody tr:last").find('td:last').append(addMore);
		$("#myTableCompliance tbody tr:last").find('td:last').append(removeMore);
		$("#myTableCompliance tbody tr:last").find(".complianceDocNameCls").val("");
		$("#myTableCompliance tbody tr:last").find(".complianceImgCls").empty();
		$("#myTableCompliance tbody tr:last").find(".mulDocCompliance").empty();
		$("#myTableCompliance tbody tr:last").find(".complianceCommentCls").empty();
		
		
		var editTrReq = 0;
		
		if(lengthOfTableRowReq>editTrReq){
			$("#myTableCompliance tbody tr").eq(lengthOfTableRowReq-1).find('td:last').append(removeMore);
		}
		
		$("#myTableCompliance > tbody > tr").each(function(i){
			var textInput = $(this).find('input');
			var divInput = $(this).find('div');
			var areaInput = $(this).find('textarea');
			textInput.eq(0).attr('id',"complianceDocName_"+i);
			textInput.eq(1).attr('id',"docCompliance_"+i);
			divInput.eq(1).attr('id', "row2_" + i);
			divInput.eq(2).attr('id', "complianceImg_" + i);
			areaInput.eq(0).attr('id', "complianceComment_" + i);
			
		})
		
	}
	
	//forward Question  
	function forwardToCo(audit){
			swal.fire({
			  title: "Are you sure want to send?",
			  text: "Once sent,can't revert back !",
			  type: "warning",
			  showCancelButton: true,
			  confirmButtonColor: '#ef5920',
			  cancelButtonColor: '#e7b63a',
			  confirmButtonText: 'Yes',
			  showLoaderOnConfirm		: false,
			  //closeOnConfirm: false,
			  reverseButtons : true,
			  /* preConfirm: () => {
					return new Promise((resolve) => {
						setTimeout(() => {
							console.log("Doing async operation");
							resolve()
						}, 3000)
					})
				} */
			}).then((result) => {
				if(result.value){
					document.getElementById("loader").style.display = "block";
				 $.ajax({
					 	type		:	"GET",
					 	url			:	"view-statutary-audit-master-forwardToCo?id="+audit,
						dataType	:	"json",
						contentType	:   "application/json",
						//data		:   JSON.stringify(obj),						    
					    success: function(response) {
					    	
					        if (response.message == "success") {
					        	document.getElementById("loader").style.display = "none";
					        	swal({
					        		title: "Sent Successfully.",
					        		type: "success"
					        	}).then(function(){
					        		location.reload();
					        	})
					        
					        } else {
					        	document.getElementById("loader").style.display = "none";
					            swal({
					                title: 'Unsuccess',
					                text: response.code
					            })
					        }
					    },
					    error: function(data) {
				       
					    }
					})
				}
			  
			});
	}
		

	function forwardBySenior(id){
		
		$("#forwardByPersonAudit").val(id);
		$("#forwardFrmSenior").modal('show');
	}
	//forward Obs To Person  
	function forwardObsToPerson(){
			/*  var obj={};
			 obj.auditId=$("#forwardByPersonAudit").val();
			 obj.comment= CKEDITOR.instances.seniorComment.getData();
			// console.log(obj); */
			 var dataset=[];
			 var personTo = [];
			 var personCC = [];
			 
			 $("#toHiddenId12").val('');
	     		$("#CcHiddenId12").val('');
			 
			 var id1=$("#autocomplete-select131").chosen().val();
				$("#toHiddenId12").val(id1);
				$("#toHiddenId12").each(function () {
					personTo=$(this).val();
				});
				
				var id2=$("#autocomplete-select132").chosen().val();
				$("#CcHiddenId12").val(id2);
				$("#CcHiddenId12").each(function () {
					personCC=$(this).val();
				});
				
				if(personTo==null || personTo==''){
					swal("Please select at least one person whom you want to send..");
					return false;
				}
				 $("#tbodyDataFrmSenior > tr").each(function(i) {
					
					
				           var uFile = $(this).find(".mulDocFrmSenior")[0].files[0];

				    	   var fileName = $(this).find(".mulDocFrmSenior").val();

				        if (fileName != '' && fileName != 'undefined' && fileName != null) {
				            var lastIndex = fileName.lastIndexOf("\\");
				            if (lastIndex >= 0) {
				                fileName = fileName.substring(lastIndex + 1);
				            }
				            var data = '';
				            var x = [];

				            var reader = new FileReader();
				            reader.readAsDataURL(uFile);

				            reader.onload = function() {

				                data = reader.result.split(",");

				                x.push(data[1]);
				            };
				        } else {
				            var x = [];
				            x.push('empty');
				        }
					
			var obj={};		
				 obj['auditId']  		=	$("#forwardByPersonAudit").val();
				 obj['personTo']		=	personTo;
				 obj['personCc']		=	personCC;
				 audit['roleName'] 		= '';
				 obj['comment']			= 	CKEDITOR.instances.seniorComment.getData();
				 obj['documentName']	= 	$(this).find(".FrmSeniorDocNameCls").val();
				 obj['documentComment']	= 	$(this).find(".FrmSeniorCommentCls").val();
				 obj['file'] 			= 	x;
				 obj['document'] 		= 	fileName;
				 
				 dataset.push(obj);
				 console.log(dataset);
				 });
			swal.fire({
			  title: "Are you sure want to send?",
			  text: "Once sent,can't revert back !",
			  type: "warning",
			  showCancelButton: true,
			  confirmButtonColor: '#ef5920',
			  cancelButtonColor: '#e7b63a',
			  confirmButtonText: 'Yes',
			  showLoaderOnConfirm		: false,
			  //closeOnConfirm: false,
			  reverseButtons : true,
			  /* preConfirm: () => {
					return new Promise((resolve) => {
						setTimeout(() => {
							console.log("Doing async operation");
							resolve()
						}, 3000)
					})
				} */
			}).then((result) => {
				if(result.value){
					document.getElementById("loader").style.display = "block";
				 $.ajax({
					 	type		:	"POST",
					 	url			:	"view-statutary-audit-master-forwardToPerson",
					 	dataType	:	"json",
						contentType	: 	'application/json; charset=utf-8',
						data 		: 	JSON.stringify(dataset),						    
					    success: function(response) {
					    	
					        if (response.message == "success") {
					        	document.getElementById("loader").style.display = "none";
					        	swal({
					        		title: "Sent Successfully.",
					        		type: "success"
					        	}).then(function(){
					        		location.reload();
					        	})
					        
					        } else {
					        	document.getElementById("loader").style.display = "none";
					            swal({
					                title: 'Unsuccess',
					                text: response.code
					            })
					        }
					    },
					    error: function(data) {
				       
					    }
					})
				}
			  
			});
		
	} 
	function coordinatorForward(id){
		$("#forwardSubmitAudit").val(id);
		$("#forwardSubmit").modal('show');
	}
	//coordinatorForward 
	function coordinatorForwardSubmit(){
			 var obj={};
			 obj.auditId=$("#forwardSubmitAudit").val();
			 obj.comment= CKEDITOR.instances.coFrdCommnt.getData();
			//console.log(obj);
			swal.fire({
			  title: "Are you sure want to send?",
			  text: "Once sent,can't revert back !",
			  type: "warning",
			  showCancelButton: true,
			  confirmButtonColor: '#ef5920',
			  cancelButtonColor: '#e7b63a',
			  confirmButtonText: 'Yes',
			  showLoaderOnConfirm		: true,
			  //closeOnConfirm: false,
			  reverseButtons : true,
			/*   preConfirm: () => {
					return new Promise((resolve) => {
						setTimeout(() => {
							console.log("Doing async operation");
							resolve()
						}, 3000)
					})
				} */
			}).then((result) => {
				if(result.value){
					document.getElementById("loader").style.display = "block";
				 $.ajax({
					 	type		:	"POST",
					 	url			:	"view-statutary-audit-master-co-ordinatorforwardToAuditor",
						dataType	:	"json",
						contentType	: 	'application/json; charset=utf-8',
						data 		: 	JSON.stringify(obj),										    
					    success: function(response) {
					    	
					        if (response.message == "success") {
					        	document.getElementById("loader").style.display = "none";
					        	swal({
					        		title: "Sent Successfully.",
					        		type: "success"
					        	}).then(function(){
					        		location.reload();
					        	})
					        
					        } else {
					        	document.getElementById("loader").style.display = "none";
					            swal({
					                title: 'Unsuccess',
					                text: response.code
					            })
					        }
					    },
					    error: function(data) {
				       
					    }
					})
				}
			  
			});
		
	} 
	function auditorForward(id){
		
		$("#auditorForwardToOther").val(id);
		$("#forwardToAuditor").modal('show');	
	}
	function auditorForwardSubmit(){
	    var dataset = [];
		 var personTo = [];
		 var personCC = [];
			
		 $("#toHiddenId13").val('');
  		$("#CcHiddenId13").val('');
			
			
			 var id1=$("#autocomplete-select141").chosen().val();
				$("#toHiddenId13").val(id1);
				$("#toHiddenId13").each(function () {
					personTo=$(this).val();
				});
				
				var id2=$("#autocomplete-select142").chosen().val();
				$("#CcHiddenId13").val(id2);
				$("#CcHiddenId13").each(function () {
					personCC=$(this).val();
				});
			
			if(personTo==null || personTo==''){
				swal("Please select at least one person whom you want to send..");
				return false;
			}      
   			 $("#tbodyDataDirectAuditor > tr").each(function(i) {
				
					
			           var uFile = $(this).find(".mulDocDirectAuditor")[0].files[0];

			    	   var fileName = $(this).find(".mulDocDirectAuditor").val();

			        if (fileName != '' && fileName != 'undefined' && fileName != null) {
			            var lastIndex = fileName.lastIndexOf("\\");
			            if (lastIndex >= 0) {
			                fileName = fileName.substring(lastIndex + 1);
			            }
			            var data = '';
			            var x = [];

			            var reader = new FileReader();
			            reader.readAsDataURL(uFile);

			            reader.onload = function() {

			                data = reader.result.split(",");

			                x.push(data[1]);
			            };
			        } else {
			            var x = [];
			            x.push('empty');
			        }
				
		var obj={};	
			 obj['personTo']		=	personTo;
			 obj['personCc']		=	personCC;
			 obj['auditId']  		=	$('#auditorForwardAudit').val();
			 obj['subject']  		=	$('#subjectAudiObs').val();
			 obj['comment']			= 	CKEDITOR.instances.auditorForwardComment.getData();
			 obj['documentName']	= 	$(this).find(".DirectAuditorDocNameCls").val();
			 obj['documentComment']	= 	$(this).find(".DirectAuditorCommentCls").val();
			 obj['file'] 			= 	x;
			 obj['document'] 		= 	fileName;
			 
			 dataset.push(obj);
			 });
			 
               
          //  console.log(dataset);
                swal.fire({
                    title: "Are you sure want to send?",
                    text: "Once sent,can't revert Back !",
                    type: "warning",
                    showCancelButton: true,
                    confirmButtonColor: "#ef5920",
                    confirmButtonText: "Yes",
                    showLoaderOnConfirm: false,
                    reverseButtons: true,
                    confirmButtonAriaLabel: 'Thumbs up, great!',
                    cancelButtonText: 'Cancel',
                    cancelButtonAriaLabel: 'Thumbs down',
                   /*  preConfirm: () => {
                        return new Promise((resolve) => {
                            setTimeout(() => {
                                console.log("Doing async operation");
                                resolve()
                            }, 3000)
                        })
                    } */
                }).then((result) => {
                    if (result.value) {
                    	document.getElementById("loader").style.display = "block";
                        $.ajax({
                            type: "POST",
                            url: "view-statutary-audit-master-forward-to-approve",
                            dataType: "json",
                            contentType: "application/json",
                            data: JSON.stringify(dataset),
                            success: function(response) {
                            	
                                if (response.message == "Success") {
                                	document.getElementById("loader").style.display = "none";
                                    swal({
                                        title: "Sent Successfully.",
                                        type: "success",
                                    }).then(function() {
                                        location.reload();
                                    })
                                } else {
                                	document.getElementById("loader").style.display = "none";
                                    swal({
                                        title: response.code,
                                        text: response.message,
                                        type: "warning"
                                    })
                                }
                            },
                            error: function(data) {
                                console.log(data)
                            }
                        }) //ajax ends
                    }
                })
      
	}
	
	
	function saveFileAssign(event) {

		var AssignItemQty = event.currentTarget.value;
		var currentFldId = event.currentTarget.getAttribute('id');
		var l = currentFldId.split("_");
		var counter = l[1];
		var currentFldId = "#" + currentFldId;
		//console.log(counter + currentFldId);
		var uFile = $(currentFldId)[0].files[0];
		var fileName = event.currentTarget.value;
		var lastIndex = fileName.lastIndexOf("\\");
		if (lastIndex >= 0) {
		fileName = fileName.substring(lastIndex + 1);
		}
		/* var extension = fileName.split(".");
		var iURL = URL.createObjectURL(uFile);	 */
		var extension = fileName.substr((fileName.lastIndexOf('.') + 1));
		var iURL = URL.createObjectURL(uFile);
	
		$("#assignHo_" + counter).html("");
		$("#docfwd_" + counter).html("");
		$("#qusImg_" + counter).html("");
		$("#irsImg_" + counter).html("");
		$("#remark_" + counter).html("");
		$("#forwardObsImg_" + counter).html("");
		$("#SendBackImg_" + counter).html("");
		$("#AsgnComplianceImg_" + counter).html("");
		$("#qusImg_" + counter).html("");
		$("#coReqFile_" + counter).html("");
		$("#replyHo_" + counter).html("");
		$("#audFile_" + counter).html("");
		$("#uploadedBillDiv_" + counter).html("");
		$("#complianceImg_" + counter).html("");
		$("#AuditorImg_" + counter).html("");
		$("#DirectAuditorImg_" + counter).html("");
		$("#meetFile_" + counter).html("");
		$("#docRejectByCo_" + counter).html("");
		$("#FrmSeniorImg_" + counter).html("");
		$("#obsDoc").html("");
		$("#ObsImgDev").html("");
		$("#docPOMfwd_"+counter).html("");
		$("#docIRSfwd_"+counter).html("");
		$("#docParafwd_"+counter).html("");
		$("#docFinfwd_"+counter).html("");
		$("#paraImg_"+counter).html("");
		var LightImg = "";
		if(extension =='png' || extension =='jpg' || extension =='jpeg'||  extension =='PNG'){
			LightImg = "<a class='example-image-link' href='" + iURL + "' title='" + fileName + "' target='_balnk'> <i class=\"fa fa-picture-o fa-2x excel pdf\"></i></a>";
		
		}else if(extension == 'xls' || extension =='xlsx'){
			LightImg = "<a class='example-image-link' href='" + iURL + "' title='" + fileName + "' target='_balnk'> <i class=\"fa fa-file-excel-o fa-2x\"></i></a>";
		
		}else if(extension == 'pdf' ){
			LightImg = "<a class='example-image-link' href='" + iURL + "' title='" + fileName + "' target='_balnk'> <i class=\"fa fa-file-pdf-o fa-2x \"></i></a>";
		
		}else if(extension == 'doc' || extension =='dox' || extension =='docx'){
			LightImg = "<a class='example-image-link' href='" + iURL + "' title='" + fileName + "' target='_balnk'> <i class=\"fa fa-file-word-o fa-2x\"></i></a>";
		
		}
		//console.log(LightImg);
		$("#assignHo_" + counter).html(LightImg);
		$("#docfwd_" + counter).html(LightImg);
		$("#qusImg_" + counter).html(LightImg);
		$("#remark_" + counter).html(LightImg);
		$("#forwardObsImg_" + counter).html(LightImg);
		$("#SendBackImg_" + counter).html(LightImg);
		$("#AsgnComplianceImg_" + counter).html(LightImg);
		$("#qusImg_" + counter).html(LightImg);
		$("#coReqFile_" + counter).html(LightImg);
		$("#replyHo_" + counter).html(LightImg);
		$("#audFile_" + counter).html(LightImg);
		$("#uploadedBillDiv_" + counter).html(LightImg);
		$("#complianceImg_" + counter).html(LightImg);
		$("#AuditorImg_" + counter).html(LightImg);
		$("#DirectAuditorImg_" + counter).html(LightImg);
		$("#meetFile_" + counter).html(LightImg);
		$("#docRejectByCo_" + counter).html(LightImg);
		$("#FrmSeniorImg_" + counter).html(LightImg);
		$("#FrmSeniorImg_" + counter).html(LightImg);
		$("#obsDoc").html(LightImg);
		$("#ObsImgDev").html(LightImg);
		$("#irsImg_" + counter).html(LightImg);
		$("#docPOMfwd_" + counter).html(LightImg);
		$("#docIRSfwd_" + counter).html(LightImg);
		$("#docParafwd_" + counter).html(LightImg);
		$("#docFinfwd_" + counter).html(LightImg);
		$("#paraImg_" + counter).html(LightImg);
		}
	
	function modalsaveFileAssign(event) {

		var AssignItemQty = event.currentTarget.value;
		var currentFldId = event.currentTarget.getAttribute('id');
		var l = currentFldId.split("_");
		var counter = l[1];
		var currentFldId = "#" + currentFldId;
		//console.log(counter + currentFldId);
		var uFile = $(currentFldId)[0].files[0];
		var fileName = event.currentTarget.value;
		var lastIndex = fileName.lastIndexOf("\\");
		if (lastIndex >= 0) {
		fileName = fileName.substring(lastIndex + 1);
		}
		/* var extension = fileName.split(".");
		var iURL = URL.createObjectURL(uFile);	 */
		var extension = fileName.substr((fileName.lastIndexOf('.') + 1));
		var iURL = URL.createObjectURL(uFile);
	
		$("#modalcoReqFile_" + counter).html("");
		var LightImg = "";
		if(extension =='png' || extension =='jpg' || extension =='jpeg'||  extension =='PNG'){
			LightImg = "<a class='example-image-link' href='" + iURL + "' title='" + fileName + "' target='_balnk'> <i class=\"fa fa-picture-o fa-2x excel pdf\"></i></a>";
		
		}else if(extension == 'xls' || extension =='xlsx'){
			LightImg = "<a class='example-image-link' href='" + iURL + "' title='" + fileName + "' target='_balnk'> <i class=\"fa fa-file-excel-o fa-2x\"></i></a>";
		
		}else if(extension == 'pdf' ){
			LightImg = "<a class='example-image-link' href='" + iURL + "' title='" + fileName + "' target='_balnk'> <i class=\"fa fa-file-pdf-o fa-2x \"></i></a>";
		
		}else if(extension == 'doc' || extension =='dox' || extension =='docx'){
			LightImg = "<a class='example-image-link' href='" + iURL + "' title='" + fileName + "' target='_balnk'> <i class=\"fa fa-file-word-o fa-2x\"></i></a>";
		
		}
		//console.log(LightImg);
		$("#modalcoReqFile_" + counter).html(LightImg);
	}
	
	
	function saveObsFile() {
		
			
			var uFile = $("#obsDoc")[0].files[0];
			
			var fileName = $("#obsDoc").val();
			
			var lastIndex = fileName.lastIndexOf("\\");
			if (lastIndex >= 0) {
			fileName = fileName.substring(lastIndex + 1);
			}
			var extension = fileName.split(".");
			var iURL = URL.createObjectURL(uFile);		
			
			$("#ObsImg").html("");
			var LightImg = "";
			if(extension[1] =='png' || extension[1] =='jpg' || extension[1] =='jpeg'){
			LightImg = "<a class='example-image-link' href='" + iURL + "' title='" + fileName + "' target='_balnk'> <i class=\"fa fa-picture-o fa-2x excel pdf\"></i></a>";

			}else if(extension[1] == 'xls' || extension[1] =='xlsx'){
			LightImg = "<a class='example-image-link' href='" + iURL + "' title='" + fileName + "' target='_balnk'> <i class=\"fa fa-file-excel-o fa-2x\"></i></a>";

			}else if(extension[1] == 'pdf' ){
			LightImg = "<a class='example-image-link' href='" + iURL + "' title='" + fileName + "' target='_balnk'> <i class=\"fa fa-file-pdf-o fa-2x \"></i></a>";

			}else if(extension[1] == 'doc' || extension[1] =='dox' || extension[1] =='docx'){
			LightImg = "<a class='example-image-link' href='" + iURL + "' title='" + fileName + "' target='_balnk'> <i class=\"fa fa-file-word-o fa-2x\"></i></a>";

			}
			
			$("#ObsImg").html(LightImg);
			}
	
	

	$(document).ready(function() {
		
		$(".MeetingDate").datetimepicker({
			format : 'd-m-Y',
			closeOnDateSelect : true,
			timepicker : false,
			scrollMonth : false
		})
		$(".MeetingTime").datetimepicker({
			datepicker:false,
			format: 'A g:i',
	        formatTime: 'A g:i',
	        step:10
				
		})
		
		
	});
	// approve Accept 
	function sendRemark(){	
		
		var id = $("#auditRemark").val();
		var initiateRemark = $("#initiateRemark").val();
		
	
		var comment = CKEDITOR.instances.remarkComment.getData();
	
		if(comment==null || comment==''){
		
			swal("Please Enter Remark");
			return false;
		}
	 	var datasetForward = [];
	 	var personTo = [];
		var personCC = [];
			
		$("#toHiddenId4").val('');
 		$("#CcHiddenId4").val('');
		
			var id1=$("#autocomplete-select51").chosen().val();
			$("#toHiddenId4").val(id1);
			$("#toHiddenId4").each(function () {
				personTo=$(this).val();
			});
			
			var id2=$("#autocomplete-select52").chosen().val();
			$("#CcHiddenId4").val(id2);
			$("#CcHiddenId4").each(function () {			
				personCC=$(this).val();
			});
			
			if(personTo==null || personTo==''){
				swal("Please select at least one person whom you want to send..");
				return false;
			}
		 $("#tbodyDataRemark > tr").each(function(i) {
			
		       //console.log($(this).find(".remarkDocCls").val());
		    	    var uFile = $(this).find(".remarkDocCls")[0].files[0];

		    	   var fileName = $(this).find(".remarkDocCls").val();

		        if (fileName != '' && fileName != 'undefined' && fileName != null) {
		            var lastIndex = fileName.lastIndexOf("\\");
		            if (lastIndex >= 0) {
		                fileName = fileName.substring(lastIndex + 1);
		            }
		            var data = '';
		            var x = [];

		            var reader = new FileReader();
		            reader.readAsDataURL(uFile);

		            reader.onload = function() {

		                data = reader.result.split(",");

		                x.push(data[1]);
		            };
		        } else {
		            var x = [];
		            x.push('empty');
		        }
		        audit = {};   
		        audit['document'] = fileName;
		    	audit['personCc'] = personCC;
				audit['personTo'] = personTo;
		        audit['roleName'] 	= initiateRemark;
		        audit['auditId'] = id;
		        audit['comment'] = comment;
		      	audit['documentName'] = $(this).find(".remarkDocNameCls").val();
		      	audit['documentComment'] = $(this).find(".remarkCommentCls").val();
		        audit['file'] = x;
				

		        datasetForward.push(audit);
		       // console.log(datasetForward);
		    });
		
		swal.fire({
			  title: "Are you sure want to send?",
			  text: "Once sent,can't revert back !",
			  type: "warning",
			  showCancelButton: true,
			  confirmButtonColor: '#ef5920',
			  cancelButtonColor: '#e7b63a',
			  confirmButtonText: 'Yes',
			  showLoaderOnConfirm		: false,
			  //closeOnConfirm: false,
			  reverseButtons : true,
			/*   preConfirm: () => {
					return new Promise((resolve) => {
						setTimeout(() => {
							console.log("Doing async operation");
							resolve()
						}, 3000)
					})
				} */
			}).then((result) => {
				if(result.value){
					document.getElementById("loader").style.display = "block";
				 $.ajax({
					 	type		:	"POST",
					 	url			:	"view-statutary-audit-master-forwardRemark",
						dataType	:	"json",
						contentType: 'application/json; charset=utf-8',
						data		:   JSON.stringify(datasetForward),						    
					    success: function(response) {
					    	
					        if (response.message == "success") {
					        	document.getElementById("loader").style.display = "none";
					        	swal({
					        		title: "Sent Successfully.",
					        		type: "success"
					        	}).then(function(){
					        		 location.reload();
					        	})
					        
					        } else {
					        	document.getElementById("loader").style.display = "none";
					            swal({
					                title: 'Unsuccess',
					                text: response.code
					            })
					        }
					    },
					    error: function(data) {
				       
					    }
					})
				}
			  
			});
		
	}
/* new intigrated code	 */
	//pdf Download
	
	function pdfViewAudiReq(event){
		var currentVal = event.currentTarget.value;
		var currentId = event.currentTarget.id;
		var l = currentId.split("_");
		var counter = l[1];
		var date='';
		 $("#downliAudiReq_"+counter).each(function(i) {
			 date= $(this).find("#mydate").html();  
		 });
		 var obj={};
		    $("#downAudiReq_"+counter).each(function(i) {
				obj.initiate 	= 	$('#initiateId').val();
				obj.date 		=   date; 
				obj.fromTime 	= 	$(this).find("#mytime").html(); 
				obj.createdBy 	= 	$(this).find("#createdBy").html(); 
				obj.comment 	= 	$(this).find('.comment').html();  
				obj.personTo 	= 	$(this).find('#personTo').html();  
				obj.toTime	 	= 	$(this).find('#personCc').html();  
				//console.log(obj);
		    });
			$.ajax({
			type		: "POST",
			url 		: "view-statutary-audit-master-single-pdf-comment",
			dataType	: "json",
			contentType	: "application/json",
			data		: JSON.stringify(obj),
			success		: function(response){
				if(response.message=="success"){
					window.open("/audit/view-statutary-audit-master-single-pdf-comment-view",'_blank');
				}else{
					swal("error");
				}
			},
			error : function(data) {
				console.log(data)
			}
		})
	}
	function pdfViewReq(event){
		var currentVal = event.currentTarget.value;
		var currentId = event.currentTarget.id;
		var l = currentId.split("_");
		var counter = l[1];

		var date='';
		 $("#downliReq_0_"+counter).each(function(i) {
			 date= $(this).find("#mydate").html();  
		 });
		 
		 var obj={};
		    $("#downReq_0_"+counter).each(function(i) {
		    	
				obj.initiate 	= 	$('#initiateId').val();
				obj.date 		=   date; 
				obj.fromTime 	= 	$(this).find("#mytime").html(); 
				obj.createdBy 	= 	$(this).find("#createdBy_"+counter).html(); 
				obj.comment 	= 	$(this).find('.comment').html();  
				obj.personTo 	= 	$(this).find('#personTo').html();  
				obj.toTime 		= 	$(this).find('#personCc_'+counter).html();  
				
		    });
			$.ajax({
			type		: "POST",
			url 		: "view-statutary-audit-master-single-pdf-comment",
			dataType	: "json",
			contentType	: "application/json",
			data		: JSON.stringify(obj),
			success		: function(response){
				if(response.message=="success"){
					window.open("/audit/view-statutary-audit-master-single-pdf-comment-view",'_blank');
				}else{
					swal("error");
				}
			},
			error : function(data) {
				console.log(data)
			}
		}) 
		}
	
	function pdfTrial(number1,event){
		//alert("hi");
		//console.log($('#allpdf').val());
		//var allpdfid= ($('#allpdfid').val());
		//alert("allpdfid "+allpdfid);
		
		//var currentVal = event.currentTarget.value;
		//var currentId = event.currentTarget.id;
		//var events = event.currentTarget;
		//alert(number);
		//console.log(number1,event);
		var allpdfidid = window.btoa(number1);
		//var obj={};
		
		//obj.prevauditid = allpdfidid;
		
		//console.log(obj);  	data		: JSON.stringify(obj),
		$.ajax({
			type		: "GET",
			url 		: "view-statutary-audit-master-single-pdf-all?allpdfidid="+allpdfidid,
			dataType	: "json",
			contentType: 'application/json',
			
			success		: function(response){
				if(response.message=="success"){
					//alert("hi");
					var data1=[];
					var obj={};
					var i;
					 for (i=0 ; i< response.body.length ;i++) {
						    
							obj.comment 	= 	response.body[i].comment;
							obj.createdby 	= 	response.body[i].createdby;
							
					    };
					    data1.push(obj);
					//alert(JSON.stringify(data1))
					//console.log(data1)
					window.open("/audit/view-statutary-audit-master-single-pdf-all-view?allpdfidid="+allpdfidid,'_blank');
					/* console.log("resp ", response.body);
					var data;
					
					data =JSON.stringify(response.body);
					
					console.log("data ", data);
					 var doc = new jsPDF();

					doc.setFontSize(5);
					doc.text(30, 30,""+data);
					doc.save('allpdf.pdf'); */
					//doc.text(35, 25, data.map(function(e){ return e.join("\t"); }).join("\n")); 
					//window.open("/audit/view-statutary-audit-master-single-pdf-all"+doc,'_blank');
					/* window.open("/audit/view-statutary-audit-master-single-pdf-all-downloded",'_blank'); */
				}else{
					swal("error");
				}
			},
			error : function(data) {
				console.log(data)
			}
		}) 
		
	}

	function pdfViewQuery(event){ 
		var currentVal = event.currentTarget.value;
		var currentId = event.currentTarget.id;
		var l = currentId.split("_");
		var counter = l[1];

		var date='';
		 $("#downLiQuery_"+counter).each(function(i) {
			 date= $(this).find("#mydate").html();  
		 });
		 
		 var obj={};
		    $("#downQuery_"+counter).each(function(i) {
		    
				obj.initiate 	= 	$('#initiateId').val();
				obj.date 		=   date; 
				obj.fromTime 	= 	$(this).find("#mytime").html(); 
				obj.createdBy 	= 	$(this).find("#createdBy").html(); 
				obj.comment 	= 	$(this).find('.comment').html();  
				obj.personTo 	= 	$(this).find('#personTo').html();  
				obj.toTime 		= 	$(this).find('#personCc').html();  
				
		    });
			$.ajax({
			type		: "POST",
			url 		: "view-statutary-audit-master-single-pdf-comment",
			dataType	: "json",
			contentType	: "application/json",
			data		: JSON.stringify(obj),
			success		: function(response){
				if(response.message=="success"){
					window.open("/audit/view-statutary-audit-master-single-pdf-comment-view",'_blank');
				}else{
					swal("error");
				}
			},
			error : function(data) {
				console.log(data)
			}
		}) 
		}
	

	function pdfViewPom(event){
		var currentVal = event.currentTarget.value;
		var currentId = event.currentTarget.id;
		var l = currentId.split("_");
		var counter = l[1];

		var date='';
		 $("#downLiPom_"+counter).each(function(i) {
			 date= $(this).find("#mydate").html();  
		 });
		 
		 var obj={};
		    $("#downPom_"+counter).each(function(i) {
		    
				obj.initiate 	= 	$('#initiateId').val();
				obj.date 		=   date; 
				obj.fromTime 	= 	$(this).find("#mytime").html(); 
				obj.createdBy 	= 	$(this).find("#createdBy").html(); 
				obj.comment 	= 	$(this).find('.comment').html();  
				obj.personTo 	= 	$(this).find('#personTo').html();  
				obj.toTime 		= 	$(this).find('#personCc').html();  
				
		    });
			$.ajax({
			type		: "POST",
			url 		: "view-statutary-audit-master-single-pdf-comment",
			dataType	: "json",
			contentType	: "application/json",
			data		: JSON.stringify(obj),
			success		: function(response){
				if(response.message=="success"){
					window.open("/audit/view-statutary-audit-master-single-pdf-comment-view",'_blank');
				}else{
					swal("error");
				}
			},
			error : function(data) {
				console.log(data)
			}
		}) 
		}
	

	/* forward add more */
	function moreAssignCompliance(){
		var lengthOfTableRowReq = $("#tbodyDataAssgnCompliance").children('tr').length;
		var cloneHtml = $("#myTableAsgCompliance tbody tr:first").clone();
		
		$("#myTableAsgCompliance tbody tr:last").find('td:last').html('');
		$("#myTableAsgCompliance tbody").append($("#myTableAsgCompliance tbody tr:first").clone());
		
		$("#myTableAsgCompliance tbody tr td:last").html("");
		var addMore='<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="moreAssignComplianceCheck();"><span class="ti-plus"></span></button>&nbsp;'
		var removeMore = '<button type="button" class="btn btn-warning rmv" name="RemoveAsgnCompliance"><span class="ti-minus"></span></button>';
		
		$("#myTableAsgCompliance tbody tr:last").find('td:last').append(addMore);
		$("#myTableAsgCompliance tbody tr:last").find('td:last').append(removeMore);
		$("#myTableAsgCompliance tbody tr:last").find(".AsgnComplianceDocNameCls").val("");
		$("#myTableAsgCompliance tbody tr:last").find(".AsgnComplianceImgCls").empty();
		$("#myTableAsgCompliance tbody tr:last").find(".mulDocAsgnCompliance").empty();
		$("#myTableAsgCompliance tbody tr:last").find(".AsgnComplianceCommentCls").val("");
		
		
		
		var editTrReq = 0;
		
		if(lengthOfTableRowReq>editTrReq){
			$("#myTableAsgCompliance tbody tr").eq(lengthOfTableRowReq-1).find('td:last').append(removeMore);
		}
		
		$("#myTableAsgCompliance > tbody > tr").each(function(i){
			var textInput = $(this).find('input');
			var divInput = $(this).find('div');
			var areaInput = $(this).find('textarea');
			textInput.eq(0).attr('id',"AsgnComplianceDocName_"+i);
			textInput.eq(1).attr('id',"docAsgnCompliance_"+i);
			divInput.eq(1).attr('id', "row2_" + i);
			divInput.eq(2).attr('id', "AsgnComplianceImg_" + i)
			divInput.eq(2).attr('id', "AsgnComplianceComment_" + i)
			
		})
		
	}
	$(document).ready(function() {
		/* SEND REPONSE to Requisition */
		var lengthOfTableRowReq = $("#tbodyDataAssgnCompliance").children('tr').length;
		$('.tbllAssignCompliance').on('click', '.rmv', function () {
			$(this).closest('tr').remove();
			$("#myTableAsgCompliance tbody tr:last").find('td:last').html('');
			var add='<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="moreAssignComplianceCheck();"><span class="ti-plus"></span></button>&nbsp;'
			var remove = '<button type="button" class="btn btn-warning rmv" name="RemoveAsgnCompliance"><span class="ti-minus"></span></button>';

			if($("#tbodyDataAssgnCompliance").children('tr').length > 1){
			$("#myTableAsgCompliance tbody tr:last").find('td:last').append(add);
			$("#myTableAsgCompliance tbody tr:last").find('td:last').append(remove);
			}else{
			$("#myTableAsgCompliance tbody tr:last").find('td:last').append(add);
			}
			
			});
		/* SEND REPONSE to Requisition */
		var lengthOfTableRowReq = $("#tbodyDataDirectAuditor").children('tr').length;
		$('.tbllDirectAuditor').on('click', '.rmv', function () {
			$(this).closest('tr').remove();
			$("#myTableDirectAuditor tbody tr:last").find('td:last').html('');
			var add='<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="moreForwardDirectCheck();"><span class="ti-plus"></span></button>&nbsp;'
			var remove = '<button type="button" class="btn btn-warning rmv" name="RemoveDirectAuditorForward"><span class="ti-minus"></span></button>';

			if($("#tbodyDataDirectAuditor").children('tr').length > 1){
			$("#myTableDirectAuditor tbody tr:last").find('td:last').append(add);
			$("#myTableDirectAuditor tbody tr:last").find('td:last').append(remove);
			}else{
			$("#myTableDirectAuditor tbody tr:last").find('td:last').append(add);
			}
			
			});
		/* SEND REPONSE to Requisition */
		var lengthOfTableRowReq = $("#tbodyDataAuditor").children('tr').length;
		$('.tbllAuditor').on('click', '.rmv', function () {
			$(this).closest('tr').remove();
			$("#myTableAuditor tbody tr:last").find('td:last').html('');
			var add='<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="moreForwardToAuditorCheck();"><span class="ti-plus"></span></button>&nbsp;'
			var remove = '<button type="button" class="btn btn-warning rmv" name="RemoveAuditorForward"><span class="ti-minus"></span></button>';

			if($("#tbodyDataAuditor").children('tr').length > 1){
			$("#myTableAuditor tbody tr:last").find('td:last').append(add);
			$("#myTableAuditor tbody tr:last").find('td:last').append(remove);
			}else{
			$("#myTableAuditor tbody tr:last").find('td:last').append(add);
			}
			
			});
	
	
});	

	

	/* forward add more */
	function moreForwardToAuditor(){
		var lengthOfTableRowReq = $("#tbodyDataAuditor").children('tr').length;
		var cloneHtml = $("#myTableAuditor tbody tr:first").clone();
		
		$("#myTableAuditor tbody tr:last").find('td:last').html('');
		$("#myTableAuditor tbody").append($("#myTableAuditor tbody tr:first").clone());
		
		$("#myTableAuditor tbody tr td:last").html("");
		var addMore='<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="moreForwardToAuditorCheck();"><span class="ti-plus"></span></button>&nbsp;'
		var removeMore = '<button type="button" class="btn btn-warning rmv" name="RemoveAuditorForward"><span class="ti-minus"></span></button>';
		
		$("#myTableAuditor tbody tr:last").find('td:last').append(addMore);
		$("#myTableAuditor tbody tr:last").find('td:last').append(removeMore);
		$("#myTableAuditor tbody tr:last").find(".AuditorDocNameCls").val("");
		$("#myTableAuditor tbody tr:last").find(".AuditorImgCls").empty();
		$("#myTableAuditor tbody tr:last").find(".mulDocAuditor").empty();
		$("#myTableAuditor tbody tr:last").find(".AuditorCommentCls").val("");
		
		
		
		
		var editTrReq = 0;
		
		if(lengthOfTableRowReq>editTrReq){
			$("#myTableAuditor tbody tr").eq(lengthOfTableRowReq-1).find('td:last').append(removeMore);
		}
		
		$("#myTableAuditor > tbody > tr").each(function(i){
			var textInput = $(this).find('input');
			var divInput = $(this).find('div');
			var areaInput = $(this).find('textarea');
			textInput.eq(0).attr('id',"AuditorDocName_"+i);
			textInput.eq(1).attr('id',"docAuditor_"+i);
			divInput.eq(1).attr('id', "row2_" + i);
			divInput.eq(2).attr('id', "AuditorImg_" + i);
			areaInput.eq(0).attr('id', "AuditorComment_" + i);
			
		})
		
	}

	//forward Observation 
	function forwardByCoToOther(){
		
		//var id = $("#auditorForwardToOther").val();
	//	var initiateForward = $("#initiateForward").val();
		
		var comment = CKEDITOR.instances.AuditorComment.getData();
		 var datasetForward = [];
		 var personTo = [];
			var personCC = [];
			
			$("#toHiddenId7").val('');
     		$("#CcHiddenId7").val('');
				
				var id1=$("#autocomplete-select81").chosen().val();
				$("#toHiddenId7").val(id1);
				$("#toHiddenId7").each(function () {
					personTo=$(this).val();
				});
				
				var id2=$("#autocomplete-select82").chosen().val();
				$("#CcHiddenId7").val(id2);
				$("#CcHiddenId7").each(function () {			
					personCC=$(this).val();
				});
				
				if(personTo==null || personTo==''){
					swal("Please select at least one person whom you want to send..");
					return false;
				}
		 $("#tbodyDataAuditor > tr").each(function(i) {
			
		      // console.log($(this).find(".mulDocAuditor").val());
		    	    var uFile = $(this).find(".mulDocAuditor")[0].files[0];

		    	   var fileName = $(this).find(".mulDocAuditor").val();

		        if (fileName != '' && fileName != 'undefined' && fileName != null) {
		            var lastIndex = fileName.lastIndexOf("\\");
		            if (lastIndex >= 0) {
		                fileName = fileName.substring(lastIndex + 1);
		            }
		            var data = '';
		            var x = [];

		            var reader = new FileReader();
		            reader.readAsDataURL(uFile);

		            reader.onload = function() {

		                data = reader.result.split(",");

		                x.push(data[1]);
		            };
		        } else {
		            var x = [];
		            x.push('empty');
		        }
		        audit = {};   
		        audit['document'] 	= fileName;
		        audit['personCc'] 	= personCC;
				audit['personTo'] 	= personTo;
		        audit['auditId'] 	=$("#auditorForwardToOther").val();
		        audit['subject'] 	=$("#subjectFrwToOther").val();
		        audit['comment'] 	= comment;
		      	audit['documentName'] = $(this).find(".AuditorDocNameCls").val();
		      	audit['documentComment'] = $(this).find(".AuditorCommentCls").val();
		        audit['file'] = x;

		        datasetForward.push(audit);
	
		//console.log(datasetForward); 
			swal.fire({
			  title: "Are you sure want to send?",
			  text: "Once sent,can't revert back !",
			  type: "warning",
			  showCancelButton: true,
			  confirmButtonColor: '#ef5920',
			  cancelButtonColor: '#e7b63a',
			  confirmButtonText: 'Yes',
			  showLoaderOnConfirm		: false,
			  //closeOnConfirm: false,
			  reverseButtons : true,
			 /*  preConfirm: () => {
					return new Promise((resolve) => {
						setTimeout(() => {
							console.log("Doing async operation");
							resolve()
						}, 3000)
					})
				} */
			}).then((result) => {
				if(result.value){
					document.getElementById("loader").style.display = "block";
				 $.ajax({
					 	type		:	"POST",
					 	url			:	"view-statutary-audit-master-co-ordinatorforward",
						dataType	:	"json",
						contentType	: 	'application/json; charset=utf-8',
						data		:   JSON.stringify(datasetForward),						    
					    success: function(response) {
					    	
					        if (response.message == "success") {
					        	document.getElementById("loader").style.display = "none";
					        	swal({
					        		title: "Sent Successfully.",
					        		type: "success"
					        	}).then(function(){
					        		location.reload(); 
					        	})
					        
					        } else {
					        	document.getElementById("loader").style.display = "none";
					            swal({
					                title: 'Unsuccess',
					                text: response.code
					            })
					        }
					    },
					    error: function(data) {
				       
					    }
					})
				}
			  
			});
		 });
		
	}
	function forwardToAudiByCo(id){
		$("#auditorForwardAudit").val(id);
		$("#auditorForward").modal('show');
	}
	function forwardToAuditorDirect(){	
		var audit=$("#audit").val();
		swal.fire({
		  title: "Are you sure want to send?",
		  text: "Once sent,can't revert back !",
		  type: "warning",
		  showCancelButton: true,
		  confirmButtonColor: '#ef5920',
		  cancelButtonColor: '#e7b63a',
		  confirmButtonText: 'Yes',
		  showLoaderOnConfirm		: false,
		  //closeOnConfirm: false,
		  reverseButtons : true,
		/*   preConfirm: () => {
				return new Promise((resolve) => {
					setTimeout(() => {
						console.log("Doing async operation");
						resolve()
					}, 3000)
				})
			} */
		}).then((result) => {
			if(result.value){
				document.getElementById("loader").style.display = "block";
			 $.ajax({
				 	type		:	"GET",
				 	url			:	"view-statutary-audit-master-forwardToAuditorDirect?audit="+audit,
					dataType	:	"json",
					contentType	:   "application/json",
					//data		:   JSON.stringify(obj),						    
				    success: function(response) {
				    	
				        if (response.message == "success") {
				        	document.getElementById("loader").style.display = "none";
				        	swal({
				        		title: "Sent Successfully.",
				        		type: "success"
				        	}).then(function(){
				        		window.location.href = "/audit/view-statutary-audit-master";
				        	})
				        
				        } else {
				        	document.getElementById("loader").style.display = "none";
				            swal({
				                title: 'Unsuccess',
				                text: response.code
				            })
				        }
				    },
				    error: function(data) {
			       
				    }
				})
			}
		  
		});

}
	

	/* forward add more */
	function moreForwardDirect(){
		var lengthOfTableRowReq = $("#tbodyDataDirectAuditor").children('tr').length;
		var cloneHtml = $("#myTableDirectAuditor tbody tr:first").clone();
		
		$("#myTableDirectAuditor tbody tr:last").find('td:last').html('');
		$("#myTableDirectAuditor tbody").append($("#myTableDirectAuditor tbody tr:first").clone());
		
		$("#myTableDirectAuditor tbody tr td:last").html("");
		var addMore='<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="moreForwardDirectCheck();"><span class="ti-plus"></span></button>&nbsp;'
		var removeMore = '<button type="button" class="btn btn-warning rmv" name="RemoveDirectAuditorForward"><span class="ti-minus"></span></button>';
		
		$("#myTableDirectAuditor tbody tr:last").find('td:last').append(addMore);
		$("#myTableDirectAuditor tbody tr:last").find('td:last').append(removeMore);
		$("#myTableDirectAuditor tbody tr:last").find(".DirectAuditorDocNameCls").val("");
		$("#myTableDirectAuditor tbody tr:last").find(".DirectAuditorImgCls").empty();
		$("#myTableDirectAuditor tbody tr:last").find(".mulDocDirectAuditor").empty();
		$("#myTableDirectAuditor tbody tr:last").find(".DirectAuditorCommentCls").val("");
		
		
		
		
		var editTrReq = 0;
		
		if(lengthOfTableRowReq>editTrReq){
			$("#myTableDirectAuditor tbody tr").eq(lengthOfTableRowReq-1).find('td:last').append(removeMore);
		}
		
		$("#myTableDirectAuditor > tbody > tr").each(function(i){
			var textInput = $(this).find('input');
			var divInput = $(this).find('div');
			var areaInput = $(this).find('textarea');
			textInput.eq(0).attr('id',"AuditorDocName_"+i);
			textInput.eq(1).attr('id',"docDirewctAuditor_"+i);
			divInput.eq(1).attr('id', "row2_" + i);
			divInput.eq(2).attr('id', "DirectAuditorImg_" + i);
			areaInput.eq(0).attr('id', "DirectAuditorComment_" + i);
			
		})
		
	}
	// Reject Requisition
	function rejectRequisition(){
	
	/* 	var obj={};
		 obj.auditId=$("#auditCo").val();
		 obj.comment= CKEDITOR.instances.rejectReqCo.getData(); */
		 var comment= CKEDITOR.instances.rejectReqCo.getData();
		 var datasetForward = [];
		 var personTo = [];
		 var personCC = [];
			
		 $("#toHiddenId11").val('');
  		$("#CcHiddenId11").val('');
				
				var id1=$("#autocomplete-select121").chosen().val();
				$("#toHiddenId11").val(id1);
				$("#toHiddenId11").each(function () {
					personTo=$(this).val();
				});
				
				var id2=$("#autocomplete-select122").chosen().val();
				$("#CcHiddenId11").val(id2);
				$("#CcHiddenId11").each(function () {			
					personCC=$(this).val();
				});
				
				
				if(personTo==null || personTo==''){
					swal("Please select at least one person whom you want to send..");
					return false;
				}
		 
		 $("#tbodyDataRejectByCo > tr").each(function(i) {
			
		     var uFile = $(this).find(".mulRejectByCo")[0].files[0];

		    	   var fileName = $(this).find(".mulRejectByCo").val();

		        if (fileName != '' && fileName != 'undefined' && fileName != null) {
		            var lastIndex = fileName.lastIndexOf("\\");
		            if (lastIndex >= 0) {
		                fileName = fileName.substring(lastIndex + 1);
		            }
		            var data = '';
		            var x = [];

		            var reader = new FileReader();
		            reader.readAsDataURL(uFile);

		            reader.onload = function() {

		                data = reader.result.split(",");

		                x.push(data[1]);
		            };
		        } else {
		            var x = [];
		            x.push('empty');
		        }
		        audit = {};   
		        audit['document'] 	= fileName;
		        audit['personCc'] 	= personCC;
				audit['personTo'] 	= personTo;
		        audit['auditId'] 	=$("#auditCo").val();
		        audit['comment'] 	= CKEDITOR.instances.rejectReqCo.getData();
		      	audit['documentName'] = $(this).find(".RejectByCoDocNameCls").val();
		      	audit['documentComment'] = $(this).find(".RejectByCoCommentCls").val();
		        audit['file'] = x;

		        datasetForward.push(audit);
		        //console.log(JSON.stringify(datasetForward));
		        //console.log(datasetForward);
		        
			})
		if(comment==null || comment ==""){
			swal("Please Select Send Back Reason");
			return false;
		}else{
		swal.fire({
			  title: "Are you sure want to send back?",
			  text: "Once sent back,can't revert back !",
			  type: "warning",
			  showCancelButton: true,
			  confirmButtonColor: '#ef5920',
			  cancelButtonColor: '#e7b63a',
			  confirmButtonText: 'Yes',
			  showLoaderOnConfirm		: false,
			  //closeOnConfirm: false,
			  reverseButtons : true,
			 /*  preConfirm: () => {
					return new Promise((resolve) => {
						setTimeout(() => {
							console.log("Doing async operation");
							resolve()
						}, 3000)
					})
				} */
			}).then((result) => {
				if(result.value){
					
					document.getElementById("loader").style.display = "block";
				 $.ajax({
						type		:	"POST",
					 	url			:	"view-statutary-audit-master-rejectReq",
						dataType	:	"json",
						contentType	: 	'application/json; charset=utf-8',
						data 		: 	JSON.stringify(datasetForward),						 							    
					    success: function(response) {
					        if (response.message == "Success") {
					        	
					        	document.getElementById("loader").style.display = "none";
					        	swal({
					        		title: "Sent back successfully.",
					        		type: "success"
					        	}).then(function(){
					        		 location.reload();
					        	})
					        
					        } else {
					        	document.getElementById("loader").style.display = "none";
					            swal({
					                title: 'Unsuccess',
					                text: response.message
					            })
					        }
					    },
					    error: function(data) {
				       //alert(data);
					    }
					})
				}
			  
			});
		}
		
		
	}
	

	
	
	
	function checkMeeting(){
		var documentName =true;
		
		$('.mettDocNameCls').each(function(){
			if (!blankValidation($(this).attr('id'),"TextField" ,"Please Select Document Name ")){
				
				documentName =false;
		        return false;
			}
				
		});
		var document =true;
		if(documentName){
			$('.mulDocMett').each(function(){
				if (!blankValidation($(this).attr('id'),"TextField" ,"Please Select Document  ")){
					
					document =false;
			        return false;
				}
					
			});	
		}
		if(documentName && document){
			MeetingMore();
		}
	}
	function addMoreCheck(){
		var documentName =true;
		
		$('.reqDocNameCls').each(function(){
			if (!blankValidation($(this).attr('id'),"TextField" ,"Please Select Document Name ")){
				
				documentName =false;
		        return false;
			}
				
		});
		var document =true;
		if(documentName){
			$('.mulDoc').each(function(){
				//alert($(this).attr("value"));	
				if (!blankValidation($(this).attr('id'),"TextField" ,"Please Select Document ")){
					//alert($(this).attr("value"));	
					document =false;
			        return false;
				}
					
			});	
		}
		if(documentName && document){
			addMore();
		}	
	}
	
	function modaladdMoreCheck(){
		var documentName =true;
		
		$('.modalreqDocNameCls').each(function(){
			if (!blankValidation($(this).attr('id'),"TextField" ,"Please Select Document Name ")){
				
				documentName =false;
		        return false;
			}
				
		});
		var document =true;
		$('.modaleditdocname').each(function(){
			var val = $(this).attr('id');
			if(val != null && val != "") {
				document =true;
			} else {
				if(documentName){
					$('.modaleditdocname').each(function(){
						if (!blankValidation($(this).attr('id'),"TextField" ,"Please Select Document ")){
							$('.modalmulDoc').each(function(){
								if (!blankValidation($(this).attr('id'),"TextField" ,"Please Select Document ")){
									document =false;
							        return false;
								};
							});	
						};
					});
				}
			}
		});
		
		if(documentName && document){
			modaladdMore();
		}	
	}
	function addAuditDetailsCheck(){
		var documentName =true;
		
		$('.audiDocNameCls').each(function(){
			if (!blankValidation($(this).attr('id'),"TextField" ,"Please Select Document Name ")){
				
				documentName =false;
		        return false;
			}
				
		});
		var document =true;
		if(documentName){
			$('.mulDocReq').each(function(){
				if (!blankValidation($(this).attr('id'),"TextField" ,"Please Select Document  ")){
					
					document =false;
			        return false;
				}
					
			});	
		}
		if(documentName && document){
			addAuditDetails();
		}	
	}
	
	var cotAsign = 0;
	function moreAssignCheck(){
	var documentName =true;
		
		$('.reqAssignDocNameCls').each(function(){
			if (!blankValidation($(this).attr('id'),"TextField" ,"Please Select Document Name ")){
				
				documentName =false;
		        return false;
			}
				
		});
		
		var document =true;
		if(documentName){
			
			
			if($("#assignHo_"+cotAsign).html() != null && $("#assignHo_"+cotAsign).html() != ""){
				
				document = true;
			} else{ 
				
				$('.mulDocAssignReq').each(function(){
					if (!blankValidation($(this).attr('id'),"TextField" ,"Please Select Document  ")){
						
						document =false;
				        return false;
					}
						
				});	
			}
			
		}
		
		if(documentName && document){
			cotAsign++;
			moreAssign();
		}
	}
	
	var cot = 0;
	function moreResponseCheck(){
	var documentName =true;
		
		$('.resDocNameCls').each(function(){
			if (!blankValidation($(this).attr('id'),"TextField" ,"Please Select Document Name ")){
				
				documentName =false;
		        return false;
			}
				
		});
		var document =true;
		if(documentName){
			
			
			if($("#replyHo_"+cot).html() != null && $("#replyHo_"+cot).html() != ""){
				
				document = true;
			} else{ 
				
				$('.mulDocRes').each(function(){
					if (!blankValidation($(this).attr('id'),"TextField" ,"Please Select Document  ")){
						
						document =false;
				        return false;
					}
						
				});	
			}
			
		}
		if(documentName && document){
			cot++;
			moreResponse();
		}
	}
	
	
	function moreForwardCheck(){
	var documentName =true;
		
		$('.forwardDocNameCls').each(function(){
			if (!blankValidation($(this).attr('id'),"TextField" ,"Please Select Document Name ")){
				
				documentName =false;
		        return false;
			}
				
		});
		var document =true;
		if(documentName){
			$('.mulDocForward').each(function(){
				if (!blankValidation($(this).attr('id'),"TextField" ,"Please Select Document  ")){
					
					document =false;
			        return false;
				}
					
			});	
		}
		if(documentName && document){
			moreForward();
		}
	}
	function morePOMForwardCheck(){
	var documentName =true;
		
		$('.forwardPOMDocNameCls').each(function(){
			if (!blankValidation($(this).attr('id'),"TextField" ,"Please Select Document Name ")){
				
				documentName =false;
		        return false;
			}
				
		});
		var document =true;
		if(documentName){
			$('.mulDocPOMForward').each(function(){
				if (!blankValidation($(this).attr('id'),"TextField" ,"Please Select Document  ")){
					
					document =false;
			        return false;
				}
					
			});	
		}
		if(documentName && document){
			morePOMForward();
		}
	}
	function moreIRSForwardCheck(){
	var documentName =true;
		
		$('.forwardIRSDocNameCls').each(function(){
			if (!blankValidation($(this).attr('id'),"TextField" ,"Please Select Document Name ")){
				
				documentName =false;
		        return false;
			}
				
		});
		var document =true;
		if(documentName){
			$('.mulDocIRSForward').each(function(){
				if (!blankValidation($(this).attr('id'),"TextField" ,"Please Select Document  ")){
					
					document =false;
			        return false;
				}
					
			});	
		}
		if(documentName && document){
			moreIRSForward();
		}
	}
	function moreFinForwardCheck(){
	var documentName =true;
		
		$('.forwardFinDocNameCls').each(function(){
			if (!blankValidation($(this).attr('id'),"TextField" ,"Please Select Document Name ")){
				
				documentName =false;
		        return false;
			}
				
		});
		var document =true;
		if(documentName){
			$('.mulDocFinForward').each(function(){
				if (!blankValidation($(this).attr('id'),"TextField" ,"Please Select Document  ")){
					
					document =false;
			        return false;
				}
					
			});	
		}
		if(documentName && document){
			moreFinForward();
		}
	}
	function moreParaForwardCheck(){
	var documentName =true;
		
		$('.forwardParaDocNameCls').each(function(){
			if (!blankValidation($(this).attr('id'),"TextField" ,"Please Select Document Name ")){
				
				documentName =false;
		        return false;
			}
				
		});
		var document =true;
		if(documentName){
			$('.mulDocParaForward').each(function(){
				if (!blankValidation($(this).attr('id'),"TextField" ,"Please Select Document  ")){
					
					document =false;
			        return false;
				}
					
			});	
		}
		if(documentName && document){
			moreParaForward();
		}
	}
	
	var cotSendBack = 0;
	function moreSendBackCheck(){
	var documentName =true;
		
		$('.SendBackDocNameCls').each(function(){
			if (!blankValidation($(this).attr('id'),"TextField" ,"Please Select Document Name ")){
				
				documentName =false;
		        return false;
			}
				
		});
		var document =true;
		if(documentName){
			
		if($("#SendBackImg_"+cotSendBack).html() != null && $("#SendBackImg_"+cotSendBack).html() != ""){
				
				document = true;
			} else{ 
				
				$('.mulDocSendBack').each(function(){
					if (!blankValidation($(this).attr('id'),"TextField" ,"Please Select Document  ")){
						
						document =false;
				        return false;
					}
						
				});	
			}
			
			
			
		}
		if(documentName && document){
			cotSendBack++;
			moreSendBack();
		}
	}
	function moreRejectByCoCheck(){
	var documentName =true;
		
		$('.RejectByCoDocNameCls').each(function(){
			if (!blankValidation($(this).attr('id'),"TextField" ,"Please Select Document Name ")){
				
				documentName =false;
		        return false;
			}
				
		});
		var document =true;
		if(documentName){
			$('.mulRejectByCo').each(function(){
				if (!blankValidation($(this).attr('id'),"TextField" ,"Please Select Document  ")){
					
					document =false;
			        return false;
				}
					
			});	
		}
		if(documentName && document){
			moreRejectByCo();
		}
	}

	function viewNotification(id,type){
		$(".number-span").remove();
		$.ajax({
			type : 'GET',
			url : 'view-initiated-audit-viewNotification?id='+id+"&type="+type,
			contentType: 'application/json; charset=utf-8',
			//data : JSON.stringify(obj),
			success : function(response) {
				if (response.message == "success") {
			
					$(".number-span").remove();
				}

			},
			error : function(e) {
				console.log("error");
			}
		});
	}
	$(function () { 
		$("#saveNotes").click(function(){
			
			 var obj={};
			 obj.auditInitiate=$("#id").val();
			 obj.summary= CKEDITOR.instances.commentNote.getData();
			$.ajax({
				type : 'POST',
				url : 'view-initiated-audit-saveNotes',
				contentType: 'application/json; charset=utf-8',
				data : JSON.stringify(obj),
				success : function(response) {
					if (response.message == "success") {
						$("#saveNotes").html("Saved");
					}

				},
				error : function(e) {
					console.log("error");
				}
			});
		});
		
		
		$("#saveassign").click(function(){
			var obj={};
			obj.auditId=$("#id").val();
			obj.comment= CKEDITOR.instances.comment.getData();
			$.ajax({
			type : 'POST',
			url : 'view-statutary-audit-master-saveComment',
			contentType: 'application/json; charset=utf-8',
			data : JSON.stringify(obj),
			success : function(response) {
			if (response.message == "success") {
			$("#saveassign").text("Saved");
			}

			},
			error : function(e) {
			console.log("error");
			}
			});
			});
		$("#saverevert").click(function(){
			var obj={};
			obj.auditId=$("#id").val();
			obj.comment= CKEDITOR.instances.comment.getData();
			$.ajax({
			type : 'POST',
			url : 'view-statutary-audit-master-saveComment',
			contentType: 'application/json; charset=utf-8',
			data : JSON.stringify(obj),
			success : function(response) {
			if (response.message == "success") {
			$("#saverevert").text("Saved");
			}

			},
			error : function(e) {
			console.log("error");
			}
			});
			});
		$("#saveResponse").click(function(){
			 var obj={};
			 obj.auditId=$("#reqResponse").val();
			 obj.comment= CKEDITOR.instances.commentRes.getData();
			$.ajax({
				type : 'POST',
				url : 'view-statutary-audit-master-saveResponse',
				contentType: 'application/json; charset=utf-8',
				data : JSON.stringify(obj),
				success : function(response) {
					//console.log(response);
					if (response.message == "success") {
						$("#saveResponse").text("Saved");
					}

				},
				error : function(e) {
					console.log("error");
				}
			});
		});
		$("#saveResponse01").click(function(){
			var obj={};
			obj.initiateId=$("#initiateIdFinal").val();
			obj.comment= CKEDITOR.instances.finalObs.getData();
			//console.log(obj)
			//console.log(JSON.stringify(obj))
			$.ajax({
			type : 'POST',
			url : 'view-statutary-audit-master-saveResponse',
			contentType: 'application/json; charset=utf-8',
			data : JSON.stringify(obj),
			success : function(response) {
			//console.log(response);
			if (response.message == "success") {
			$("#saveResponse01").text("Saved");
			}

			},
			error : function(e) {
			console.log("error");
			}
			});
			});
	});
	function responsebuttonfun(event){
		var id = event.currentTarget.id
		var obj={};
		obj.initiatedId=$("#auditInitiated").val();
		obj.comment= CKEDITOR.instances.commentForward.getData();
		//console.log(obj);
		$.ajax({
		type : 'POST',
		url : 'view-statutary-audit-master-saveForward',
		contentType: 'application/json; charset=utf-8',
		data : JSON.stringify(obj),
		success : function(response) {
		//console.log(response);
		if (response.message == "success") {
		$("#"+id).text("Saved");
		}

		},
		error : function(e) {
		console.log("error");
		}
		});}
	function responsebuttonfun1(event){
		var id1 = event.currentTarget.id
		var obj={};
		obj.initiatedId=$("#auditInitiated").val();
		obj.comment= CKEDITOR.instances.commentPOMForward.getData();
		//console.log(obj);
		$.ajax({
		type : 'POST',
		url : 'view-statutary-audit-master-saveForward',
		contentType: 'application/json; charset=utf-8',
		data : JSON.stringify(obj),
		success : function(response) {
		//console.log(response);
		if (response.message == "success") {
		$("#"+id1).text("Saved");
		}

		},
		error : function(e) {
		console.log("error");
		}
		});}
	$(document).ready(function() {
		  //set initial state.
		  $('.userNameCls').change(function() {
			  $('#irs').empty();
			
		    $("input:checkbox[name=user_]:checked").each(function(i){
		    	 var data=''; 
				   data='<div class="unique uniqueBg"><div class="row mrt_20" >'+
                                         ' <div class="col-md-12">'+
                                            ' <span class="heading">IRS</span>'+
                                             '<textarea type="text" class="form-control irsCmntCls" id="ques_0" autocomplete="on" style="height:60px; width:100%;">'+$(this).val()+
                                             '</textarea>'+
                                          '</div>'+
                                        ' </div>'+
                                          '  <div class="row mrt_20" >'+
                                          '<div class="col-md-4">'+
                                             '<div class="heading">upload </div>'+
                                             		'<div class="row" id="rowId_'+i+'">'+
												'<div  id="row2_'+i+'" style="text-align: right; padding-top:10px;">'+
													'<div class="text irsImgCls" id="irsImg_'+i+'"></div>'+
												'</div>'+

												'<div class="upload-btn-wrapper" style="margin-top: 0px;margin-right: 9px;">'+
													'<label class="custom-file-upload" for="mulDocAtta">'+
												'<i class="fa fa-cloud-upload"></i> Document</label>'+
												'<input type="file" class="uploadIrsDocCls" id="uploadIrsDoc_'+i+'" style="display: block;"	onchange="saveFileAssign(event);checkImageFormat(this);">'+
												'</div>'+
											'</div>'+
                                          '</div>'+
                                         ' <div class="col-md-4">'+
                                            ' <div class="heading">Document Name</div>'+
                                            ' <input type="text" class="form-control irsDocNameCls" id="irsDocName_'+i+'"  >'+
                                         ' </div>'+
                                           '<div class="col-md-4">'+
                                             '<div class="heading">Comment</div>'+
                                            ' <input type="text" class="form-control irsCommentCls"  id="irsCommentName_'+i+'"  >'+
                                         ' </div>'+
                                           
                                       '</div></div>';
				   $('#irs').append(data);
			  });
		   
		  });
		  $('.iRsCls').change(function() {
			//  alert("hiiiiii222")
			  $('#para').empty();
			
		    $("input:checkbox[name=IRS]:checked").each(function(i){
		    	 var data=''; 
				   data='<div class="uniquePara uniqueBg"><div class="row mrt_20" >'+
                                         ' <div class="col-md-12">'+
                                            ' <span class="heading">Draft Para</span>'+
                                             '<textarea type="text" class="form-control paraCmntCls" id="para_0" autocomplete="on" style="height:60px; width:100%;">'+$(this).val()+
                                             '</textarea>'+
                                          '</div>'+
                                        ' </div>'+
                                          '  <div class="row mrt_20" >'+
                                          '<div class="col-md-4">'+
                                             '<div class="heading">upload </div>'+
                                             		'<div class="row" id="rowId_'+i+'">'+
												'<div  id="row2_'+i+'" style="text-align: right; padding-top:10px;">'+
													'<div class="text paraImgCls" id="paraImg_'+i+'"></div>'+
												'</div>'+

												'<div class="upload-btn-wrapper" style="margin-top: 0px;margin-right: 9px;">'+
													'<label class="custom-file-upload" for="mulDocAtta">'+
												'<i class="fa fa-cloud-upload"></i> Document</label>'+
												'<input type="file" class="uploadParaDocCls" id="uploadParaDoc_'+i+'" style="display: block;"	onchange="saveFileAssign(event);checkImageFormat(this);">'+
												'</div>'+
											'</div>'+
                                          '</div>'+
                                         ' <div class="col-md-4">'+
                                            ' <div class="heading">Document Name</div>'+
                                            ' <input type="text" class="form-control paraDocNameCls" id="paraDocName_'+i+'"  >'+
                                         ' </div>'+
                                           '<div class="col-md-4">'+
                                             '<div class="heading">Comment</div>'+
                                            ' <input type="text" class="form-control paraCommentCls"  id="paraCommentName_'+i+'"  >'+
                                         ' </div>'+
                                           
                                       '</div></div>';
				   $('#para').append(data);
			  });
		   
		  });
		  $('.draftParaName').change(function() {
			  //alert("hii");
			  $('#para5').empty();
			
		    $("input:checkbox[name=DraftPara1]:checked").each(function(i){
		    	 var data=''; 
				   data='<div class="uniquePara5 uniqueBg"><div class="row mrt_20" >'+
	                                     ' <div class="col-md-12">'+
	                                        ' <span class="heading">Draft Para</span>'+
	                                         '<textarea type="text" class="form-control para5CmntCls" id="para_0" autocomplete="on" style="height:60px; width:100%;">'+$(this).val()+
	                                         '</textarea>'+
	                                      '</div>'+
	                                    ' </div>'+
	                                      '  <div class="row mrt_20" >'+
	                                      '<div class="col-md-4">'+
	                                         '<div class="heading">upload </div>'+
	                                         		'<div class="row" id="rowId_'+i+'">'+
												'<div  id="row2_'+i+'" style="text-align: right; padding-top:10px;">'+
													'<div class="text para5ImgCls" id="para5Img_'+i+'"></div>'+
												'</div>'+

												'<div class="upload-btn-wrapper" style="margin-top: 0px;margin-right: 9px;">'+
													'<label class="custom-file-upload" for="mulDocAtta">'+
												'<i class="fa fa-cloud-upload"></i> Document</label>'+
												'<input type="file" class="uploadPara5DocCls" id="uploadPara5Doc_'+i+'" style="display: block;"	onchange="saveFileAssign(event);checkImageFormat(this);">'+
												'</div>'+
											'</div>'+
	                                      '</div>'+
	                                     ' <div class="col-md-4">'+
	                                        ' <div class="heading">Document Name</div>'+
	                                        ' <input type="text" class="form-control para5DocNameCls" id="para5DocName_'+i+'"  >'+
	                                     ' </div>'+
	                                       '<div class="col-md-4">'+
	                                         '<div class="heading">Comment</div>'+
	                                        ' <input type="text" class="form-control para5CommentCls"  id="para5CommentName_'+i+'"  >'+
	                                     ' </div>'+
	                                       
	                                   '</div></div>';
				   $('#para5').append(data);
			  });
		   
		  });
		  
		  $('.draftCls').change(function() {
			  $('#para1').empty();
			
		    $("input:checkbox[name=Draft]:checked").each(function(i){
		    	 var data=''; 
				   data='<div class="uniquePara1 uniqueBg"><div class="row mrt_20" >'+
	                                     ' <div class="col-md-12">'+
	                                        ' <span class="heading">Para</span>'+
	                                         '<textarea type="text" class="form-control para1CmntCls" id="para_1" autocomplete="on" style="height:60px; width:100%;">'+$(this).val()+
	                                         '</textarea>'+
	                                      '</div>'+
	                                    ' </div>'+
	                                      '  <div class="row mrt_20" >'+
	                                      '<div class="col-md-4">'+
	                                         '<div class="heading">upload </div>'+
	                                         		'<div class="row" id="rowId_'+i+'">'+
												'<div  id="row2_'+i+'" style="text-align: right; padding-top:10px;">'+
													'<div class="text para1ImgCls" id="paraImg_'+i+'"></div>'+
												'</div>'+

												'<div class="upload-btn-wrapper" style="margin-top: 0px;margin-right: 9px;">'+
													'<label class="custom-file-upload" for="mulDocAtta">'+
												'<i class="fa fa-cloud-upload"></i> Document</label>'+
												'<input type="file" class="uploadPara1DocCls" id="uploadPara1Doc_'+i+'" style="display: block;"	onchange="saveFileAssign(event);checkImageFormat(this);">'+
												'</div>'+
											'</div>'+
	                                      '</div>'+
	                                     ' <div class="col-md-4">'+
	                                        ' <div class="heading">Document Name</div>'+
	                                        ' <input type="text" class="form-control para1DocNameCls" id="para1DocName_'+i+'"  >'+
	                                     ' </div>'+
	                                       '<div class="col-md-4">'+
	                                         '<div class="heading">Comment</div>'+
	                                        ' <input type="text" class="form-control para1CommentCls"  id="para1CommentName_'+i+'"  >'+
	                                     ' </div>'+
	                                       
	                                   '</div></div>';
				   $('#para1').append(data);
			  });
		   
		  });
		
		});
	
	function giveFinalObs(){
		
		var dataset = [];
		  var personTo = [];
			var personCC = [];
			var  obs= CKEDITOR.instances.finalObs.getData();
			
			$("#toHiddenIdFin").val('');
     		$("#CcHiddenIdFin").val('');
			
			var id1=$("#autocomplete-selectFin").chosen().val();
			$("#toHiddenIdFin").val(id1);
			$("#toHiddenIdFin").each(function () {
				personTo=$(this).val();
			});
			
			var id2=$("#autocomplete-selectFin1").chosen().val();
			$("#CcHiddenIdFin").val(id2);
			$("#CcHiddenIdFin").each(function () {			
				personCC=$(this).val();
			});
			
			if(personTo==null || personTo==''){
				swal("Please select at least one person whom you want to send..");
				return false;
			}
		$("#tbodyDataForwardFin > tr").each(function(){
          var uFile = $(this).find(".mulDocFinForward")[0].files[0];

          var fileName = $(this).find(".mulDocFinForward").val();

          if (fileName != '' && fileName != 'undefined' && fileName != null) {
              var lastIndex = fileName.lastIndexOf("\\");
              if (lastIndex >= 0) {
                  fileName = fileName.substring(lastIndex + 1);
              }
              var data = '';
              var x = [];

              var reader = new FileReader();
              reader.readAsDataURL(uFile);

              reader.onload = function() {

                  data = reader.result.split(",");

                  x.push(data[1]);
              };
          } else {
              var x = [];
              x.push('empty');
          }
		var data = {};
		
        audit = {};   
        audit['document'] = fileName;
        audit['personTo'] = personTo;
        audit['personCc'] = personCC;
        audit['initiateId'] = $("#initiateIdFinal").val();
        audit['finalObservation'] = obs;
        audit['severity'] = $("#riskRatting").val()
        audit['subject'] = $("#subjectFin").val();
        audit['reqStatus'] = $(this).find(".forwardFinDocNameCls").val();
        audit['coStatus'] = $(this).find(".forwardFinCommentCls").val();
        audit['file'] = x;


        dataset.push(audit);
        //console.log(audit);
    });
		swal.fire({
			  title: "Are You Sure Want to send?",
			  text: "Once sent,Can't revert back !",
			  type: "warning",
			  showCancelButton: true,
			  confirmButtonColor: '#ef5920',
			  cancelButtonColor: '#e7b63a',
			  confirmButtonText: 'Yes',
			  showLoaderOnConfirm		: false,
			  //closeOnConfirm: false,
			  reverseButtons : true,
			 /*  preConfirm: () => {
					return new Promise((resolve) => {
						setTimeout(() => {
							console.log("Doing async operation");
							resolve()
						}, 1000)
					})
				} */
			}).then((result) => {
				if(result.value){
					document.getElementById("loader").style.display = "block";
				 $.ajax({
					 	type		:	"POST",
					 	url			:	"view-internal-audit-final-Observation",
						dataType	:	"json",
						contentType	: 	'application/json; charset=utf-8',
						data		:   JSON.stringify(dataset),						    
					    success: function(response) {
					    	//console.log(response);
					        if (response.message == "success") {
					        	document.getElementById("loader").style.display = "none";
					        	swal({
					        		title: "Sent Successfully.",
					        		type: "success"
					        	}).then(function(){
					        		location.reload(); 
					        	})
					        
					        } else {
					        	document.getElementById("loader").style.display = "none";
					            swal({
					                title: 'Unsuccess',
					                text: response.code
					            })
					        }
					    },
					    error: function(data) {
					    	swal({
				                title: 'Error',
				                type:"warning",
				                text: data
				            })
					    }
					})
				}
			  
			});
	}
	function addMoreRevert(){
		var lengthOfTableRow = $("#tbodyDataRevert").children('tr').length;
		var cloneHtml = $("#myTableRevert tbody tr:first").clone();
		
		$("#myTableRevert tbody tr:last").find('td:last').html('');
		$("#myTableRevert tbody").append($("#myTableRevert tbody tr:first").clone());
		
		$("#myTableRevert tbody tr td:last").html("");
		var addMore='<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="addMoreRevertCheck();"><span class="ti-plus"></span></button>&nbsp;'
		var removeMore = '<button type="button" class="btn btn-warning rmv" name="Remove"><span class="ti-minus"></span></button>';
		
		$("#myTableRevert tbody tr:last").find('td:last').append(addMore);
		$("#myTableRevert tbody tr:last").find('td:last').append(removeMore);
		$("#myTableRevert tbody tr:last").find(".mulRevertDoc").val("");
		$("#myTableRevert tbody tr:last").find(".revertDocName").val("");
		$("#myTableRevert tbody tr:last").find(".revertDocImgCls").empty();
		$("#myTableRevert tbody tr:last").find(".revertCommentCls").val("");
		
		
		
		var editTr = 0;
		
		if(lengthOfTableRow>editTr){
			$("#myTableRevert tbody tr").eq(lengthOfTableRow-1).find('td:last').append(removeMore);
		}
		
		$("#myTableRevert > tbody > tr").each(function(i){
			var textInput = $(this).find('input');
			var areaInput = $(this).find('textarea');
			var divInput = $(this).find('div');
			textInput.eq(0).attr('id',"revertDocName_"+i);
			textInput.eq(1).attr('id',"docRevert_"+i);
			divInput.eq(1).attr('id', "row2_" + i);
			divInput.eq(2).attr('id', "revertImgDoc_" + i);
			areaInput.eq(0).attr('id', "revertComment_" + i);
			
			
		})
		
	}
	function revertRequest() {
		var comment = CKEDITOR.instances.revertComment.getData();
		 var dataset = [];
			var personTo = "";
     		var personCC ="";
     		
     		$("#toRevertId").val('');
     		$("#CcRevertId").val('');
     		
     		var id1=$("#autocomplete-selectRevert").chosen().val();
			$("#toRevertId").val(id1);
			$("#toRevertId").each(function () {
				personTo=$(this).val();
			});
			
			var id2=$("#autocomplete-selectRevert").chosen().val();
			$("#CcRevertId").val(id2);
			$("#CcRevertId").each(function () {			
				personCC=$(this).val();
			});
			
				if(personTo==null || personTo==''){
					swal("Please select at least one person whom you want to send..");
					return false;
				}
				
	
		 $("#tbodyDataRevert > tr").each(function(i) {
			    
		       //console.log($(this).find(".mulDoc").val());
		    	    var uFile = $(this).find(".mulRevertDoc")[0].files[0];

		    	   var fileName = $(this).find(".mulRevertDoc").val();

		        if (fileName != '' && fileName != 'undefined' && fileName != null) {
		            var lastIndex = fileName.lastIndexOf("\\");
		            if (lastIndex >= 0) {
		                fileName = fileName.substring(lastIndex + 1);
		            }
		            var data = '';
		            var x = [];

		            var reader = new FileReader();
		            reader.readAsDataURL(uFile);

		            reader.onload = function() {

		                data = reader.result.split(",");

		                x.push(data[1]);
		            };
		        } else {
		            var x = [];
		            x.push('empty');
		        }
		        audit = {};   
		        audit['document'] 			= fileName;
		        audit['personTo'] 			= personTo;
		        audit['personCc'] 			= personCC;
		        audit['reqId'] 				= $("#reqId").val();	   
		        audit['subject'] 			= $("#subjectRevert").val();
		        audit['documentName'] 		= $(this).find(".revertDocName").val();
		        audit['documentComment']	= $(this).find(".revertCommentCls").val();
		        audit['comment'] = comment;
		        audit['file'] = x;


		        dataset.push(audit);
		    });
		//console.log(dataset)
	    swal.fire({
	        title: "Are you sure want to send?",
	        text: "Once sent ,Can't revert back !",
	        type: "warning",
	        showCancelButton: true,
	        confirmButtonColor: '#ef5920',
	        cancelButtonColor: '#e7b63a',
	        confirmButtonText: 'Yes',
	        showLoaderOnConfirm: false,
	        //closeOnConfirm: false,
	        reverseButtons: true,
	    /*     preConfirm: () => {
	            return new Promise((resolve) => {
	                setTimeout(() => {
	                    console.log("Doing async operation");
	                    resolve()
	                }, 3000)
	            })
	        } */
	    }).then((result) => {
	        if (result.value) {
	        	document.getElementById("loader").style.display = "block";
	            $.ajax({
	                type: "POST",
	                url: "view-statutary-audit-master-revertBack",
	                dataType: "json",
	                contentType: 'application/json; charset=utf-8',
					data : JSON.stringify(dataset),
	                success: function(response) {
	                	
	                    if(response.message=="Success"){
	                    	document.getElementById("loader").style.display = "none";
							swal({
								title:"Sent Successfully.",
								type: "success",
							}).then(function(){
								 location.reload();
							})
						}else{
							document.getElementById("loader").style.display = "none";
							swal({
								title:response.code,
								text: response.message,
								type:"warning"
							})
						}
	                },
	                error: function(data) {

	                }
	            })
	        }

	    });
	}
	
	
	function revert(id) {
		
		   // $('#table2').empty();
		    $('#reqId').val(id);
	    	
			/* $.ajax({
				type : 'GET',
				url : 'view-statutary-audit-master-getComment?id='+id,
				contentType : false,
				//data : summery,
				success : function(response) {
				console.log(response);
				var data=[];
				if (response.message == "success") {			
					CKEDITOR.instances['comment'].setData(response.body[0].name);			
				}
			},
				error : function(e) {
					console.log("error");
				}
			}) */; 
		    $('#revert').modal('show');
		}
	function addMoreRevertCheck(){
		var documentName =true;
		
		$('.revertDocName').each(function(){
			if (!blankValidation($(this).attr('id'),"TextField" ,"Please Select Document Name ")){
				
				documentName =false;
		        return false;
			}
				
		});
		var document =true;
		if(documentName){
			$('.mulRevertDoc').each(function(){
				if (!blankValidation($(this).attr('id'),"TextField" ,"Please Select Document  ")){
					
					document =false;
			        return false;
				}
					
			});	
		}
		if(documentName && document){
			addMoreRevert();
		}	
	}
	$( document ).ready(function() {
		var lengthOfTableRowReq = $("#tbodyDataRevert").children('tr').length;
		$('.tbllRevert ').on('click', '.rmv', function () {
			$(this).closest('tr').remove();
			$("#myTableRevert tbody tr:last").find('td:last').html('');
			var add='<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="addMoreRevertCheck();"><span class="ti-plus"></span></button>&nbsp;'
			var remove = '<button type="button" class="btn btn-warning rmv" name="RemoveReq"><span class="ti-minus"></span></button>';

			if($("#tbodyDataRevert").children('tr').length > 1){
			$("#myTableRevert tbody tr:last").find('td:last').append(add);
			$("#myTableRevert tbody tr:last").find('td:last').append(remove);
			}else{
			$("#myTableRevert tbody tr:last").find('td:last').append(add);
			}
			displayTable();
			});
	});
	
	function responsebuttonfun(event) {
	    var id = event.currentTarget.id
	    var obj = {};
	    obj.initiatedId = $("#auditInitiated").val();
	    obj.comment = CKEDITOR.instances.commentForward.getData();
	    //console.log(obj);
	    $.ajax({
	        type: 'POST',
	        url: 'view-statutary-audit-master-saveForward',
	        contentType: 'application/json; charset=utf-8',
	        data: JSON.stringify(obj),
	        success: function(response) {
	            //console.log(response);
	            if (response.message == "success") {
	                $("#" + id).text("Saved");
	            }

	        },
	        error: function(e) {
	            console.log("error");
	        }
	    });
	}
	
	

	/*
	bikash
	
	*/
	
	function submitParaData1(dataset) {
		swal.fire({
			title					: "Do you want to Send?",
			text					: "Once Sent,Can't revert back !",
			type 					: "warning",
			showCancelButton		: true,
			confirmButtonColor		: "#ef5920",
			confirmButtonText		: "Yes",
			showLoaderOnConfirm		: true,
			reverseButtons 			: false,
			confirmButtonAriaLabel 	: 'Thumbs up, great!',
			cancelButtonText 		: 'No',
			cancelButtonAriaLabel 	: 'Thumbs down',	
			/* preConfirm: () => {
				return new Promise((resolve) => {
					setTimeout(() => {
						console.log("Doing async operation");
						resolve()
					}, 3000)
				})
			} */
		}).then((result) => {
			if(result.value){
				document.getElementById("loader").style.display = "block";
				$.ajax({
					type		: "POST",
					url 		: "view-statutary-audit-master-new-para-ajax",
					dataType	: "json",
					contentType	: "application/json",
					data		: JSON.stringify(dataset),
					success		: function(response){
						
						if(response.message=="Success"){
							document.getElementById("loader").style.display = "none";
							swal({
								title:"Sent Successfully.",
								type: "success",
							}).then(function(){
								location.reload();
							})
						}else{
							document.getElementById("loader").style.display = "none";
							swal({
								title:response.code,
								text: response.message,
								type:"warning"
							})
						}
					},
					error : function(data) {
						console.log(data)
					}
				}) //ajax ends
			}
		})
	}
	
	
	function submitPara1Data(dataset) {
		swal.fire({
			title					: "Do you want to Send?",
			text					: "Once Sent,Can't revert back !",
			type 					: "warning",
			showCancelButton		: true,
			confirmButtonColor		: "#ef5920",
			confirmButtonText		: "Yes",
			showLoaderOnConfirm		: true,
			reverseButtons 			: false,
			confirmButtonAriaLabel 	: 'Thumbs up, great!',
			cancelButtonText 		: 'No',
			cancelButtonAriaLabel 	: 'Thumbs down',	
			
		}).then((result) => {
			if(result.value){
				document.getElementById("loader").style.display = "block";
				$.ajax({
					type		: "POST",
					url 		: "view-statutary-audit-master-para1-ajax",
					dataType	: "json",
					contentType	: "application/json",
					data		: JSON.stringify(dataset),
					success		: function(response){
						
						if(response.message=="Success"){
							document.getElementById("loader").style.display = "none";
							swal({
								title:"Sent Successfully.",
								type: "success",
							}).then(function(){
								location.reload();
							})
						}else{
							document.getElementById("loader").style.display = "none";
							swal({
								title:response.code,
								text: response.message,
								type:"warning"
							})
						}
					},
					error : function(data) {
						console.log(data)
					}
				}) //ajax ends
			}
		})
	}
	
	$(document).ready(function() {
		/* bikash changes */
		
		
		$("#submitDraftPara").click(function(){
			  var dataset = [];
			  var personTo = [];
				var personCC = [];
				
				$("#toHiddenIdPara5").val('');
	     		$("#CcHiddenIdPara5").val('');
				
				var id1=$("#autocomplete-selectDraftPara").chosen().val();
				$("#toHiddenIdPara5").val(id1);
				$("#toHiddenIdPara5").each(function () {
					personTo=$(this).val();
				});
				
				var id2=$("#autocomplete-selectDraftPara1").chosen().val();
				$("#CcHiddenIdPara5").val(id2);
				$("#CcHiddenIdPara5").each(function () {			
					personCC=$(this).val();
				});
				
				if(personTo==null || personTo==''){
					swal("Please select at least one person whom you want to send..");
					return false;
				}
			$(".uniquePara5").each(function(){
	            var uFile = $(this).find(".uploadPara5DocCls")[0].files[0];

	            var fileName = $(this).find(".uploadPara5DocCls").val();

	            if (fileName != '' && fileName != 'undefined' && fileName != null) {
	                var lastIndex = fileName.lastIndexOf("\\");
	                if (lastIndex >= 0) {
	                    fileName = fileName.substring(lastIndex + 1);
	                }
	                var data = '';
	                var x = [];

	                var reader = new FileReader();
	                reader.readAsDataURL(uFile);

	                reader.onload = function() {

	                    data = reader.result.split(",");

	                    x.push(data[1]);
	                };
	            } else {
	                var x = [];
	                x.push('empty');
	            }
				audit = {};
				audit['initiateId'] = $('#hiddenDraftnewpara').val();
				audit['subject'] = $('#subjectNewPara2').val();
				audit['question'] = $(this).find(".para5CmntCls").val();
				audit['coStatus'] = $(this).find(".para5DocNameCls").val();
				audit['reqStatus'] = $(this).find(".para5CommentCls").val();
				
				audit['personCc'] 	= 	personCC;
				audit['personTo'] 	= 	personTo;
				audit['file'] = x;
		        audit['document'] = fileName;
		       
				dataset.push(audit);
				//console.log("dataset  "+dataset);
			});			
				submitParaData1(dataset);			
		});
		
		
		$("#submitNewPara").click(function(){
			
			//alert("hiigvfjgdfgbjkdgbjkdfkj");
			  var dataset = [];
			  var personTo = [];
				var personCC = [];
				
				$("#toHiddenIdNewPara3").val('');
	     		$("#CcHiddenIdNewPara3").val('');
				
				var id1=$("#autocomplete-selectNEWPARA").chosen().val();
				$("#toHiddenIdNewPara3").val(id1);
				$("#toHiddenIdNewPara3").each(function () {
					personTo=$(this).val();
				});
				
				var id2=$("#autocomplete-selectNEWPARA1").chosen().val();
				$("#CcHiddenIdNewPara3").val(id2);
				$("#CcHiddenIdNewPara3").each(function () {			
					personCC=$(this).val();
				});
				
				if(personTo==null || personTo==''){
					swal("Please select at least one person whom you want to send..");
					return false;
				}
			$(".uniquePara1").each(function(){
	            var uFile = $(this).find(".uploadPara1DocCls")[0].files[0];

	            var fileName = $(this).find(".uploadPara1DocCls").val();

	            if (fileName != '' && fileName != 'undefined' && fileName != null) {
	                var lastIndex = fileName.lastIndexOf("\\");
	                if (lastIndex >= 0) {
	                    fileName = fileName.substring(lastIndex + 1);
	                }
	                var data = '';
	                var x = [];

	                var reader = new FileReader();
	                reader.readAsDataURL(uFile);

	                reader.onload = function() {

	                    data = reader.result.split(",");

	                    x.push(data[1]);
	                };
	            } else {
	                var x = [];
	                x.push('empty');
	            }
				audit = {};
				//audit['deptId'] = $('#deptId').val();
				audit['initiateId'] = $('#NEWPara').val();
				//audit['sectionId'] = $('#sectionId').val();
				//audit['auditId'] = $('#auditId').val();
				audit['subject'] = $('#subjectNewPara').val();
				audit['question'] = $(this).find(".para1CmntCls").val();
				audit['coStatus'] = $(this).find(".para1DocNameCls").val();
				audit['reqStatus'] = $(this).find(".para1CommentCls").val();
				
				audit['personCc'] 	= 	personCC;
				audit['personTo'] 	= 	personTo;
				audit['file'] = x;
		        audit['document'] = fileName;
		       
				dataset.push(audit);
				//console.log(dataset);
			});			
				submitPara1Data(dataset);			
		});
		
		
		/*bikash ++----*/
		
		

	$("#submitcoco").click(function(){
		  var dataset = [];
		  var personTo = [];
			var personCC = [];
			

			$("#toHiddenIdNewPara4").each(function () {
				personTo=$(this).val();
			});
			$("#CcHiddenIdNewPara4").each(function () {			
				personCC=$(this).val();
			});
			
			if(personTo==null || personTo==''){
				swal("Please select at least one person whom you want to send..");
				return false;
			}
		$(".uniquePara3").each(function(){
            var uFile = $(this).find(".uploadPara3DocCls")[0].files[0];

            var fileName = $(this).find(".uploadPara3DocCls").val();

            if (fileName != '' && fileName != 'undefined' && fileName != null) {
                var lastIndex = fileName.lastIndexOf("\\");
                if (lastIndex >= 0) {
                    fileName = fileName.substring(lastIndex + 1);
                }
                var data = '';
                var x = [];

                var reader = new FileReader();
                reader.readAsDataURL(uFile);

                reader.onload = function() {

                    data = reader.result.split(",");

                    x.push(data[1]);
                };
            } else {
                var x = [];
                x.push('empty');
            }
			audit = {};
			//audit['deptId'] = $('#deptId').val();
			audit['initiateId'] = $('#NEWCoco').val();
			//audit['sectionId'] = $('#sectionId').val();
			//audit['auditId'] = $('#auditId').val();
			audit['subject'] = $('#subjectCoco').val();
			audit['question'] = $(this).find(".para3CmntCls").val();
			audit['coStatus'] = $(this).find(".para3DocNameCls").val();
			audit['reqStatus'] = $(this).find(".para3CommentCls").val();
			
			audit['personCc'] 	= 	personCC;
			audit['personTo'] 	= 	personTo;
			audit['file'] = x;
	        audit['document'] = fileName;
	       
			dataset.push(audit);
			//console.log(dataset);
		});			
			submitPara3Data(dataset);			
	});	 

	
	  $('.paraCls').change(function() {
		  $('#para3').empty();
		
	    $("input:checkbox[name=Para]:checked").each(function(i){
	    	 var data=''; 
			   data='<div class="uniquePara3 uniqueBg"><div class="row mrt_20" >'+
                                     ' <div class="col-md-12">'+
                                        ' <span class="heading">Para</span>'+
                                         '<textarea type="text" class="form-control para3CmntCls" id="para_1" autocomplete="on" style="height:60px; width:100%;">'+$(this).val()+
                                         '</textarea>'+
                                      '</div>'+
                                    ' </div>'+
                                      '  <div class="row mrt_20" >'+
                                      '<div class="col-md-4">'+
                                         '<div class="heading">upload </div>'+
                                         		'<div class="row" id="rowId_'+i+'">'+
											'<div  id="row2_'+i+'" style="text-align: right; padding-top:10px;">'+
												'<div class="text para3ImgCls" id="paraImg_'+i+'"></div>'+
											'</div>'+

											'<div class="upload-btn-wrapper" style="margin-top: 0px;margin-right: 9px;">'+
												'<label class="custom-file-upload" for="mulDocAtta">'+
											'<i class="fa fa-cloud-upload"></i> Document</label>'+
											'<input type="file" class="uploadPara3DocCls" id="uploadPara3Doc_'+i+'" style="display: block;"	onchange="saveFileAssign(event);checkImageFormat(this);">'+
											'</div>'+
										'</div>'+
                                      '</div>'+
                                     ' <div class="col-md-4">'+
                                        ' <div class="heading">Document Name</div>'+
                                        ' <input type="text" class="form-control para3DocNameCls" id="para3DocName_'+i+'"  >'+
                                     ' </div>'+
                                       '<div class="col-md-4">'+
                                         '<div class="heading">Comment</div>'+
                                        ' <input type="text" class="form-control para3CommentCls"  id="para3CommentName_'+i+'"  >'+
                                     ' </div>'+
                                       
                                   '</div></div>';
			   $('#para3').append(data);
		  });
	   
	  });
});
	/*
	*
	*Bikash
	*
	*/
	
	
	function submitPara3Data(dataset) {
		swal.fire({
			title					: "Do you want to Send?",
			text					: "Once Sent,Can't revert back !",
			type 					: "warning",
			showCancelButton		: true,
			confirmButtonColor		: "#ef5920",
			confirmButtonText		: "Yes",
			showLoaderOnConfirm		: true,
			reverseButtons 			: false,
			confirmButtonAriaLabel 	: 'Thumbs up, great!',
			cancelButtonText 		: 'No',
			cancelButtonAriaLabel 	: 'Thumbs down',	
			
		}).then((result) => {
			if(result.value){
				document.getElementById("loader").style.display = "block";
				$.ajax({
					type		: "POST",
					url 		: "view-statutary-audit-master-para3-ajax",
					dataType	: "json",
					contentType	: "application/json",
					data		: JSON.stringify(dataset),
					success		: function(response){
						
						if(response.message=="Success"){
							document.getElementById("loader").style.display = "none";
							swal({
								title:"Sent Successfully.",
								type: "success",
							}).then(function(){
								location.reload();
							})
						}else{
							document.getElementById("loader").style.display = "none";
							swal({
								title:response.code,
								text: response.message,
								type:"warning"
							})
						}
					},
					error : function(data) {
						console.log(data)
					}
				}) //ajax ends
			}
		})
	}

	
	
function adtrRequisitionFrwdSec() {
	
	
	$("#modalsubjectCoRequisition").val("");
	
	CKEDITOR.instances['modalcomment'].setData(''); 
	
	$(".modalmulDoc").val("");
	$(".modalreqDocNameCls").val("");
	$(".modalcoReqFileCls").empty();
	$(".modalreqCommentCls").val("");
	$(".modaleditdocname").val("");
	
	$("#modalsave").text("Save");
	
	$("#adtrRequisitionFrwdSecModal #modalmyTable tbody tr:not(:first)").remove();
	$("#adtrRequisitionFrwdSecModal #modalmyTable tbody tr:last").find('td:last').remove();
	var add='<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="modaladdMoreCheck();"><span class="ti-plus"></span></button>&nbsp;';
	$("#adtrRequisitionFrwdSecModal #modalmyTable tbody tr:last").append('<td align="Right" width="200">'+ add+'</td>');
	
	$("#adtrRequisitionFrwdSecModal").modal("show");
}

function getFrwdAdtrDraftList() {
	var empSessionValue = $("#employeeSessionValue").val();
	var auditId = $("#reqIdDraft").val();
	listDraft(auditId, empSessionValue, '1');
}

$(document).ready(function(){
	$("#searchDate").datetimepicker({
			format : 'd-m-Y',
			closeOnDateSelect : true,
			timepicker : false,
			scrollInput : false
		})
})
</script>
<style>
.ui-autocomplete-loading {
	background: white url("/static/images/ui-anim_basic_16x16.gif") right
		center no-repeat;
}

.bell-icon {
	position: relative;
	height: 18px;
	width: 18px;
}

.number-span {
	position: relative;
	left: -16px;
	bottom: 13px;
	color: #ffffff;
	font-size: 9px;
	font-weight: 600;
	padding: -3px;
	z-index: 999;
	background-color: #ff0000;
	border-radius: 14px;
}
</style>
</head>

<div layout:fragment="content">
	<!--  <h2>Multiple</h2>
  <div class="ding">
    <h2>Option</h2>
    <select id="multiple" multiple>
      <option th:each="c,iter:${empList}" th:value='${c.key}' th:text="${c.name}"></option>
      
    </select>
    <input type="hidden" id="toHiddenId9">
  </div> -->
	<div class="content-wrap">
		<!-- Main content -->

		<div>
			<div class="main mrt_20">
				<!--Alert Box-->
				<!--Alert Box-->
				<div class="col-md-12">
					<ol class="breadcrumb breadcrumb-arrow">
						<li><a href="/index-dashboard">Home</a></li>
						<!--  <li ><a href="/audit/view-initiated-audit">Back To Previous page</a></li> -->
						<li class="active"><span>Manage Audit</span></li>
					</ol>
				</div>
				<div class="card-title">
					<h4>Manage Audit</h4>
					<input type="hidden" id="auditType" th:value="${auditTypeId}">
					</div>
				<div class="container-fluid">
					<div class="card">
						<div class="card-body">
							<div class="basic-elements">
								<input type="hidden" id="auditInitiated"
									th:value="${auditInitiate}" /> <input type="hidden"
									id="jsonValue" th:value="${empList}" /> <input type="hidden"
									id="personList" th:value="${empList}" />
								<input type="hidden"id="type" />
								<div class="row">
									<div class="col-md-12">
										<div class="accordion">
											<div class="accordion-group">
												<div class="accordion-heading">
													<button type="button"
														class="btn btn-blue btn-block accordion-toggle btn-txtlft"
														data-toggle="collapse" data-parent="#accordion2"
														href="#collapseOne">
														Audit Initiation Details
														<!--   <span class="icon-position">
                                    <img src="../assets/images/bell.png" class="bell-icon"/>
                                    <span class="label number-span">10</span>
                                    </span> -->

													</button>

												</div>
												<!-- First Collapse -->
												<div id="collapseOne" class="accordion-body collapse">
													<div class="accordion-inner">
														<div class="row mrt_20">
															<div class="col-md-2">
																<div class="heading">Audit Type</div>
															</div>
															<div th:if="${initiateAudit} " class="col-md-4 auditType">
																<div class="text"
																	th:text="${initiateAudit[0].submissionDate}"></div>
															</div>
															<div th:unless="${initiateAudit}" class="col-md-4">
																<div class="text">N/A</div>
															</div>

															<div class="col-md-2">
																<div class="heading">Financial Year</div>
															</div>
															<div th:if="${initiateAudit}" class="col-md-4">
																<div class="text"
																	th:text="${initiateAudit[0].financialYear}"></div>
															</div>
															<div th:unless="${initiateAudit}" class="col-md-4">
																<div class="text">N/A</div>
															</div>
															<th:block
																th:if="${initiateAudit[0].auditName=='ADTM006'}">
																<div class="col-md-2 auditor">
																	<div class="heading">Auditor</div>
																</div>
																<div th:if="${initiateAudit}" class="col-md-4 auditor">
																	<div class="text" th:text="${initiateAudit[0].auditor}"></div>
																</div>
																<div th:unless="${initiateAudit}"
																	class="col-md-4 auditor">
																	<div class="text">N/A</div>
																</div>

																<div class="col-md-2 initiatedBy">
																	<div class="heading">Initiated By</div>
																</div>
																<div th:if="${initiateAudit}"
																	class="col-md-4 initiatedBy">
																	<div class="text"
																		th:text="${initiateAudit[0].initiatedBy}"></div>
																</div>
																<div th:unless="${initiateAudit}"
																	class="col-md-4 initiatedBy">
																	<div class="text">N/A</div>
																</div>
															</th:block>
															<!-- internal audit section start -->
															<th:block
																th:if="${initiateAudit[0].auditName=='ADTM005'}">
																<div class="col-md-2 region">
																	<div class="heading">Region</div>
																</div>

																<div th:if="${initiateAudit}" class="col-md-4 region">
																	<div class="text"
																		th:text="${initiateAudit[0].auditTypeName}"></div>
																</div>
																<div th:unless="${initiateAudit}"
																	class="col-md-4 region">
																	<div class="text">N/A</div>
																</div>
																<div class="col-md-2 auditor">
																	<div class="heading">Auditor</div>
																</div>
																<div th:if="${initiateAudit}" class="col-md-4 auditor">
																	<div class="text" th:text="${initiateAudit[0].auditor}"></div>
																</div>
																<div th:unless="${initiateAudit}"
																	class="col-md-4 auditor">
																	<div class="text">N/A</div>
																</div>
																<div class="col-md-2 quarter">
																	<div class="heading">Quarter</div>
																</div>
																<div th:if="${initiateAudit}" class="col-md-4 quarter">
																	<div class="text" th:text="${initiateAudit[0].quarter}"></div>
																</div>
																<div th:unless="${initiateAudit}"
																	class="col-md-4 quarter">
																	<div class="text">N/A</div>
																</div>
															</th:block>
															<!-- internal audit section ends -->

															<div class="col-md-2">
																<div class="heading">Date</div>
															</div>
															<div th:if="${initiateAudit}" class="col-md-4">
																<div class="text"
																	th:text="${initiateAudit[0].initiatedDate}"></div>
															</div>
															<div th:unless="${initiateAudit}" class="col-md-4">
																<div class="text">N/A</div>
															</div>

															<th:block
																th:if="${initiateAudit[0].auditName=='ADTM006'}">
																<div class="col-md-2 letterNo">
																	<div class="heading">Letter No</div>
																</div>
																<div th:if="${initiateAudit}" class="col-md-4 letterNo">
																	<div class="text"
																		th:text="${initiateAudit[0].letterNo}"></div>
																</div>
																<div th:unless="${initiateAudit}"
																	class="col-md-4 letterNo">
																	<div class="text">N/A</div>
																</div>
															</th:block>


															<div class="col-md-12">
																<div class="paraheading">Summary</div>
																<div th:if="${initiateAudit}" class="col-md-12">
																	<div class="text"
																		th:utext="${initiateAudit[0].summary}"></div>
																</div>
																<div th:unless="${initiateAudit}" class="col-md-12">
																	<div class="text">N/A</div>
																</div>
															</div>

														</div>
														<!-- Audit Doucuments -->

														<h5
															th:if="${#lists.size(AuditDocs)>0 && AuditDocs[0].docName!=''}">Audit
															Documents</h5>
														<div
															th:if="${#lists.size(AuditDocs)>0 && AuditDocs[0].docName!=''}"
															class="row mrt_20">
															<div class="col-md-2">
																<div class="heading">Document Name</div>
															</div>
															<div class="col-md-2">
																<div class="heading">Document</div>
															</div>
															<div class="col-md-2">
																<div class="heading">Comment</div>
															</div>
														</div>
														<div class="row" th:if="${#lists.size(AuditDocs)>0 }"
															th:each="doc: ${AuditDocs}">

															<div class="col-md-2">
																<div class="text" th:text="${doc.docName}"></div>
															</div>
															<div class="col-md-2">
																<div class="text" th:utext="${doc.doc}"></div>
															</div>
															<div class="col-md-8">
																<div class="additionalinfo" th:text="${doc.info}"></div>
															</div>
														</div>


														<!-- Audit Doucuments end -->
														<h5
															th:if="${#lists.size(initiateAuditDocs)>0  && initiateAuditDocs[0].docName!=''}">Additional
															Information</h5>
														<div
															th:if="${#lists.size(initiateAuditDocs)>0 && initiateAuditDocs[0].docName!=''}"
															class="row mrt_20">
															<div class="col-md-2">
																<div class="heading">Document Name</div>
															</div>
															<div class="col-md-2">
																<div class="heading">Document</div>
															</div>
															<div class="col-md-2">
																<div class="heading">Additional Information</div>
															</div>
														</div>
														<div class="row"
															th:if="${#lists.size(initiateAuditDocs)>0 && #lists.size(initiateAuditDocs)!=null }"
															th:each="doc: ${initiateAuditDocs}">
															<div class="col-md-2">
																<div class="text" th:text="${doc.docName}"></div>
															</div>
															<div class="col-md-2">
																<div class="text" th:utext="${doc.doc}"></div>
															</div>
															<div class="col-md-8">
																<div class="additionalinfo" th:text="${doc.info}"></div>
															</div>
														</div>
														<div align="right"
															th:if="${ #lists.contains(session.USER_ROLES, 'rol024')   }">
															<button class="btn btn-primary"
																th:attr="onclick=|detailsOfAudit('${initiateAudit[0].auditInitiated}','REQ')|">Requisition</button>
															<button class="btn btn-primary"
																th:attr="onclick=|detailsOfMeeting('${initiateAudit[0].auditInitiated}')|">Meeting</button>
														</div>
													</div>
												</div>

												<!-- Second Collapse -->
												<div class="accordion-group mrt_20"
													th:if="${(#lists.contains(session.USER_ROLES, 'rol024') || #lists.contains(session.USER_ROLES, 'rol021')) }">
													<div class="accordion-heading">
														<button th:if="${#lists.size(AuditNote)>0 }"
															class="btn btn-blue btn-block accordion-toggle btn-txtlft"
															data-toggle="collapse" data-parent="#accordion2"
															th:attr="onclick=|viewNotification('${initiateAudit[0].auditInitiated}','REQ')|"
															href="#collapseTwo">
															Auditor Requisition <span class="icon-position"> <img
																src="../assets/images/bell.png" class="bell-icon" /> <span
																class="label number-span"
																th:if="${AuditNote[0].totalAuditorReq !='0'}"
																th:text="${AuditNote[0].totalAuditorReq}">10</span>
															</span>
														</button>
													</div>
													<div id="collapseTwo" class="accordion-body collapse">
														<div class="accordion-inner">
															<div align="right" style="margin-top: 7px;"
																th:if="${ #lists.contains(session.USER_ROLES, 'rol024')   }">
																<button class="btn btn-primary"
																	th:attr="onclick=|detailsOfAudit('${initiateAudit[0].auditInitiated}','POM')|">Query
																	/ Observation</button>
																<button class="btn btn-primary"
																	th:attr="onclick=|detailsOfMeeting('${initiateAudit[0].auditInitiated}')|">Meeting</button>
															</div>
															<div class="row mrt_20"
																th:if="${#lists.size(meetingDtlechAudit)>0 }">
																<div class="col-md-2">
																	<div class="heading">Meeting Date</div>
																</div>
																<!-- <div class="col-md-1">
                                             <div class="heading">Meeting  Type</div>
                                          </div> -->
																<div class="col-md-1">
																	<div class="heading">Start Time</div>
																</div>
																<div class="col-md-1">
																	<div class="heading">End Time</div>
																</div>
																<div class="col-md-2">
																	<div class="heading">Section</div>
																</div>
																<div class="col-md-2">
																	<div class="heading">Scheduled By</div>
																</div>
																<div class="col-md-2">
																	<div class="heading">To</div>
																</div>
																<div class="col-md-2">
																	<div class="heading">Documents</div>
																</div>

															</div>
															<div class="row"
																th:if="${#lists.size(meetingDtlechAudit)>0 }"
																th:each="doc: ${meetingDtlechAudit}">
																<div class="col-md-2">
																	<div class="text" th:text="${doc.date}"></div>
																</div>
																<!--  <div class="col-md-1">
                                             <div class="text" th:text="${doc.meetingType}"></div>
                                          </div> -->
																<div class="col-md-1">
																	<div class="text" th:utext="${doc.fromTime}"></div>
																</div>
																<div class="col-md-1">
																	<div class="" th:text="${doc.toTime}"></div>
																</div>
																<div class="col-md-2">
																	<div class="" th:text="${doc.section}"></div>
																</div>
																<div class="col-md-2">
																	<div class="" th:text="${doc.createdBy}"></div>
																</div>
																<div class="col-md-2">
																	<div class="" th:text="${doc.personTo}"></div>
																</div>
																<div class="col-md-2">
																	<span th:if="${#lists.size(doc.documents)>0}"
																		th:each="c:${doc.documents}" class=""
																		th:utext="${c.key}"></span>
																</div>
															</div>
<!-- th:attr="onclick=|requestRequisition('${a.auditAutoGenId}','${identifier}')|" -->
<div class="dropdown" align="right" style="margin-top: 7px;">
														<button onclick="getFrwdAdtrDraftList()" class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenu2001" data-toggle="dropdown"
															aria-haspopup="true" aria-expanded="false" >
															Drafts</button>
															<input type="hidden" id="employeeSessionValue" th:value="${session.USER_ID}"> 
														<div class="dropdown-menu auditorRequisition-dropdownmenu" aria-labelledby="dropdownMenu2001" style="right: 20px !important;width: 250px !important;margin-left: -10px ;max-height: 200px; overflow-y: scroll;">
															<button class="dropdown-item" type="button" onclick = "">Action</button>
															 
														</div>
													</div>
															<div class="" align="right" style="margin-top: 7px;">
																<button th:if="${#lists.contains(session.USER_ROLES, 'rol021')}" class="btn btn-primary" onclick="adtrRequisitionFrwdSec();">Forward
														To Section</button>
																<button
																	th:if="${#lists.contains(session.USER_ROLES, 'rol021')}"
																	type="button" class="btn btn-success"
																	th:attr="onclick=|forwardRequisition('${initiateAudit[0].auditInitiated}')|">Forward
																	To Auditor</button>

															</div>
															<input type="hidden" id="audiReq"
																th:value="${#lists.size(AuditNote)}">

															<ul class="timeline " th:if="${#lists.size(AuditNote)>0}">
																<th:block th:if="${#lists.size(AuditNote)>0}"
																	th:each="aNote,iter:${AuditNote}">
																	<li class="time-label auditRequisitionLine"
																		th:id="'downliAudiReq_'+${iter.index}"><span
																		class="bg-red txt_white"
																		th:if="${#lists.size(AuditNote)>0}" id="mydate"
																		th:text="${aNote.Date}"> </span></li>
																		
																		
																		
																	<!-- /.timeline-label -->
																	<!-- timeline item -->
																	<li class="auditReqSecLine"
																		th:id="'downAudiReq_'+${iter.index}"><i
																		class="fa fa-envelope bg-blue"></i>
																		
																			
																		
																		<div class="timeline-item">
																			<span class="time"><i class="fa fa-clock-o"></i><span
																				id="mytime" th:text="${aNote.time}"></span></span> <span
																				class="time" style="cursor: pointer;"
																				th:if="${#lists.size(aNote.docList)>0}"
																				th:each="c:${aNote.docList}">
																				
																				 <span
																				th:utext="${c.key}"></span>
																			</span> <span class="time" th:id="'pdf_'+${iter.index}"
																				th:attr="onclick='pdfViewAudiReq(event)'"
																				style="cursor: pointer"> <i
																				class="fa fa-download faIcon"></i>
																			</span>
																			
																			<strong>To: </strong><span id="personTo"
																				th:text="${aNote.personTo}"></span></br>
																				<strong>Cc: </strong><span id="personCc"
																					th:text="${aNote.personCc}"></span></br>
																				
																			<div class="cordinator">
																				<h5 class="timeline-header"
																					th:text="${aNote.createdBy}" id="createdBy"></h5>
																				<span th:text="${aNote.organisation}"></span> &nbsp;
																			</div>
																			<div class="timeline-body comment"
																				th:utext="${aNote.comment}"></div>
																			
																				
																			<div>
																				

																			</div>
																			<!--  <div class="timeline-footer">
                                                      </div> -->
																		</div>
																		
																	
																		
																		<div class="add_more_plus">
																			<i class="fa fa-plus" align="right"
																				aria-hidden="true"
																				th:id="'moreAudiReq_'+${iter.index}"
																				onclick="viewMoreAudiReq(event);"></i>
																		</div>

																		<div class="add_more_minus">
																			<i class="fa fa-minus" aria-hidden="true"
																				th:id="'lessAudiReq_'+${iter.index}"
																				onclick="viewLessAudiReq(event);"></i>
																		</div></li>
																</th:block>
																<!-- END timeline item -->

																<!-- END timeline item -->
																<li><i class="fa fa-clock-o bg-gray"></i></li>
															</ul>
														</div>
													</div>
												</div>
												<!--   <for internal audit> -->
												<!-- <fourth collapse> -->
												<div class="accordion-group mrt_20"
													th:if="${(#lists.contains(session.USER_ROLES, 'rol024') || #lists.contains(session.USER_ROLES, 'rol021')) }">
													<div class="accordion-heading">
														<button th:if="${#lists.size(auditorQuestions)>0 }"
															class="btn btn-blue btn-block accordion-toggle btn-txtlft"
															data-toggle="collapse" data-parent="#accordion2"
															th:attr="onclick=|viewNotification('${initiateAudit[0].auditInitiated}','OBS')|"
															href="#collapsepom">
															Auditor Query/Observation <span class="icon-position">
																<img src="../assets/images/bell.png" class="bell-icon" />
																<span class="label number-span"
																th:if="${auditorQuestions[0].deptId!='0'}"
																th:text="${auditorQuestions[0].deptId}">10</span>
															</span>
														</button>
													</div>
													<div id="collapsepom" class="accordion-body collapse">
														<div class="accordion-inner">
															<div align="right" style="margin-top: 7px;"
																th:if="${ #lists.contains(session.USER_ROLES, 'rol024')   }">

																<button class="btn btn-primary"
																	th:if="${initiateAudit[0].auditName=='ADTM005'}"
																	th:attr="onclick=|finalObservation('${initiateAudit[0].auditInitiated}')|">Final
																	Observation</button>
																<button class="btn btn-primary"
																	th:attr="onclick=|detailsOfAudit('${initiateAudit[0].auditInitiated}','IRS')|">Inspection
																	Report</button>
																<button class="btn btn-primary"
																	th:if="${initiateAudit[0].auditName!='ADTM005' && initiateAudit[0].auditName!='ADTM006'}"
																	th:attr="onclick=|detailsOfMeeting('${initiateAudit[0].auditInitiated}')|">Meeting</button>
															</div>
															<div class="row mrt_20"
																th:if="${#lists.size(meetingDtlechAudit)>0 }">
																<div class="col-md-2">
																	<div class="heading">Meeting Date</div>
																</div>
																<!-- <div class="col-md-1">
                                             <div class="heading">Meeting  Type</div>
                                          </div> -->
																<div class="col-md-1">
																	<div class="heading">Start Time</div>
																</div>
																<div class="col-md-1">
																	<div class="heading">End Time</div>
																</div>
																<div class="col-md-2">
																	<div class="heading">Section</div>
																</div>
																<div class="col-md-2">
																	<div class="heading">Scheduled By</div>
																</div>
																<div class="col-md-2">
																	<div class="heading">To</div>
																</div>
																<div class="col-md-2">
																	<div class="heading">Documents</div>
																</div>

															</div>
															<div class="row"
																th:if="${#lists.size(meetingDtlechAudit)>0}"
																th:each="doc: ${meetingDtlechAudit}">
																<div class="col-md-2">
																	<div class="text" th:text="${doc.date}"></div>
																</div>
																<!--  <div class="col-md-1">
                                             <div class="text" th:text="${doc.meetingType}"></div>
                                          </div> -->
																<div class="col-md-1">
																	<div class="text" th:utext="${doc.fromTime}"></div>
																</div>
																<div class="col-md-1">
																	<div class="" th:text="${doc.toTime}"></div>
																</div>
																<div class="col-md-2">
																	<div class="" th:text="${doc.section}"></div>
																</div>
																<div class="col-md-2">
																	<div class="" th:text="${doc.createdBy}"></div>
																</div>
																<div class="col-md-2">
																	<div class="" th:text="${doc.personTo}"></div>
																</div>
																<div class="col-md-2">
																	<span th:if="${#lists.size(doc.documents)>0}"
																		th:each="c:${doc.documents}" class=""
																		th:utext="${c.key}"></span>
																</div>
															</div>

															<div class="" align="right" style="margin-top: 7px;">
																<button 
																	th:if="${#lists.contains(session.USER_ROLES, 'rol021')}"
																	type="button" class="btn btn-success"
																	th:attr="onclick=|forwardPom('${initiateAudit[0].auditInitiated}')|">Forward
																	To Auditor</button>

															</div>
															<input type="hidden" id="auditQuery"
																th:value="${#lists.size(auditorQuestions)}">
															<ul class="timeline"
																th:if="${#lists.size(auditorQuestions)>0}">
																<th:block th:if="${#lists.size(auditorQuestions)>0}"
																	th:each="aNote,iter:${auditorQuestions}">
																	
																	<li class="time-label queryFirst"
																		th:id="'downliQuery_'+${iter.index}"><span
																		class="bg-red txt_white"
																		th:if="${#lists.size(AuditNote)>0}" id="mydate"
																		th:text="${aNote.Date}"> </span></li>
																	<!-- /.timeline-label -->
																	<!-- timeline item -->
																	<li class="querySecond"
																		th:id="'downQuery_'+${iter.index}"><i
																		class="fa fa-envelope bg-blue"></i>
																		<div class="timeline-item">
																			<span class="time"><i class="fa fa-clock-o"></i><span
																				id="mytime" th:text="${aNote.time}"></span></span> <span
																				class="time" style="cursor: pointer;"> <span
																				th:utext="${aNote.document}"></span>
																			</span> <span class="time" th:id="'pdf_'+${iter.index}"
																				th:attr="onclick='pdfViewQuery(event)'"
																				style="cursor: pointer"> <i
																				class="fa fa-download faIcon"></i>
																			</span>
																			<strong>To: </strong><span id="personTo"
																				th:text="${aNote.personTo}"></span></br>
																				<strong>Cc: </strong><span id="personCc"
																					th:text="${aNote.personCc}"></span></br>
																			<div class="cordinator">
																				<h5 class="timeline-header"
																					th:text="${aNote.checklistRef}" id="createdBy"></h5>
																				<span th:text="${aNote.addObsStatus}"></span> &nbsp;
																			</div>
																			<div class="timeline-body comment"
																				th:utext="${aNote.createdBy}"></div>
																			
																			<div>
																				
																			</div>
																			<!--  <div class="timeline-footer">
                                                      </div> -->
																		</div>
																		<div class="add_more_plus">
																			<i class="fa fa-plus" align="right"
																				aria-hidden="true"
																				th:id="'moreQuery_'+${iter.index}"
																				onclick="viewMoreQuery(event);"></i>
																		</div>

																		<div class="add_more_minus">
																			<i class="fa fa-minus" aria-hidden="true"
																				th:id="'lessQuery_'+${iter.index}"
																				onclick="viewLessQuery(event);"></i>
																		</div></li>
																</th:block>
																<!-- END timeline item -->

																<!-- END timeline item -->
																<li><i class="fa fa-clock-o bg-gray"></i></li>
															</ul>
														</div>
													</div>
												</div>
												<!-- <fourth collapse> -->
												<!--  <Fifth collapse> -->
												<div class="accordion-group mrt_20"
													th:if="${(#lists.contains(session.USER_ROLES, 'rol024') || #lists.contains(session.USER_ROLES, 'rol021')) }">
													<div class="accordion-heading">
														<button th:if="${#lists.size(auditorIRS)>0 }"
															class="btn btn-blue btn-block accordion-toggle btn-txtlft"
															data-toggle="collapse" data-parent="#accordion2"
															th:attr="onclick=|viewNotification('${initiateAudit[0].auditInitiated}','IRS')|"
															href="#collapseIrs">
															Inspection Report <span class="icon-position"> <img
																src="../assets/images/bell.png" class="bell-icon" /> <span
																class="label number-span"
																th:if="${auditorIRS[0].deptId!='0'}"
																th:text="${auditorIRS[0].deptId}">10</span>
															</span>
														</button>
													</div>
													<div id="collapseIrs" class="accordion-body collapse">
														<div class="accordion-inner">
															<div align="right" style="margin-top: 7px;"
																th:if="${ #lists.contains(session.USER_ROLES, 'rol024')   }">
																<button class="btn btn-primary"
																	th:attr="onclick=|detailsOfAudit('${initiateAudit[0].auditInitiated}','PARA')|">Draft
																	Para</button>
																<button class="btn btn-primary"
																	th:attr="onclick=|detailsOfMeeting('${initiateAudit[0].auditInitiated}')|">Meeting</button>
															</div>
															<div class="row mrt_20"
																th:if="${#lists.size(meetingDtlechAudit)>0 }">
																<div class="col-md-2">
																	<div class="heading">Meeting Date</div>
																</div>
																<!-- <div class="col-md-1">
                                             <div class="heading">Meeting  Type</div>
                                          </div> -->
																<div class="col-md-1">
																	<div class="heading">Start Time</div>
																</div>
																<div class="col-md-1">
																	<div class="heading">End Time</div>
																</div>
																<div class="col-md-2">
																	<div class="heading">Section</div>
																</div>
																<div class="col-md-2">
																	<div class="heading">Scheduled By</div>
																</div>
																<div class="col-md-2">
																	<div class="heading">To</div>
																</div>
																<div class="col-md-2">
																	<div class="heading">Documents</div>
																</div>

															</div>
															<div class="row"
																th:if="${#lists.size(meetingDtlechAudit)>0}"
																th:each="doc: ${meetingDtlechAudit}">
																<div class="col-md-2">
																	<div class="text" th:text="${doc.date}"></div>
																</div>
																<!--  <div class="col-md-1">
                                             <div class="text" th:text="${doc.meetingType}"></div>
                                          </div> -->
																<div class="col-md-1">
																	<div class="text" th:utext="${doc.fromTime}"></div>
																</div>
																<div class="col-md-1">
																	<div class="" th:text="${doc.toTime}"></div>
																</div>
																<div class="col-md-2">
																	<div class="" th:text="${doc.section}"></div>
																</div>
																<div class="col-md-2">
																	<div class="" th:text="${doc.createdBy}"></div>
																</div>
																<div class="col-md-2">
																	<div class="" th:text="${doc.personTo}"></div>
																</div>
																<div class="col-md-2">
																	<span th:if="${#lists.size(doc.documents)>0}"
																		th:each="c:${doc.documents}" class=""
																		th:utext="${c.key}"></span>
																</div>
															</div>

															<div class="" align="right" style="margin-top: 7px;">
																<button 
																	th:if="${#lists.contains(session.USER_ROLES, 'rol021')}"
																	type="button" class="btn btn-success"
																	th:attr="onclick=|forwardInspection('${initiateAudit[0].auditInitiated}')|">Forward
																	To Auditor</button>

															</div>
															<input type="hidden" id="auditPom"
																th:value="${#lists.size(auditorIRS)}">
															<ul class="timeline" th:if="${#lists.size(auditorIRS)>0}">
																<th:block th:if="${#lists.size(auditorIRS)>0}"
																	th:each="aNote,iter:${auditorIRS}">
																	
																	<li class="time-label pomFirst"
																		th:id="'downliPom_'+${iter.index}"><span
																		class="bg-red txt_white"
																		th:if="${#lists.size(AuditNote)>0}" id="mydate"
																		th:text="${aNote.Date}"> </span></li>
																	<!-- /.timeline-label -->
																	<!-- timeline item -->
																	<li class="pomSecond" th:id="'downPom_'+${iter.index}"><i
																		class="fa fa-envelope bg-blue"></i>
																		<div class="timeline-item">
																			<span class="time"><i class="fa fa-clock-o"></i><span
																				id="mytime" th:text="${aNote.time}"></span></span> <span
																				class="time" style="cursor: pointer;"> <span
																				th:utext="${aNote.document}"></span>
																			</span> <span class="time" th:id="'pdf_'+${iter.index}"
																				th:attr="onclick='pdfViewPom(event)'"
																				style="cursor: pointer"> <i
																				class="fa fa-download faIcon"></i>
																			</span>
																			<strong>To: </strong><span id="personTo"
																				th:text="${aNote.personTo}"></span></br>
																				<strong>Cc: </strong><span id="personCc"
																					th:text="${aNote.personCc}"></span></br>
																			<div class="cordinator">
																				<h5 class="timeline-header"
																					th:text="${aNote.checklistRef}" id="createdBy"></h5>
																				<span th:text="${aNote.addObsStatus}"></span> &nbsp;
																			</div>
																			<div class="timeline-body comment"
																				th:utext="${aNote.createdBy}"></div>
																			
																			<div>
																				
																			</div>
																			<!--  <div class="timeline-footer">
                                                      </div> -->
																		</div>
																		<div class="add_more_plus">
																			<i class="fa fa-plus" align="right"
																				aria-hidden="true" th:id="'morePom_'+${iter.index}"
																				onclick="viewMorePom(event);"></i>
																		</div>

																		<div class="add_more_minus">
																			<i class="fa fa-minus" aria-hidden="true"
																				th:id="'lessPom_'+${iter.index}"
																				onclick="viewLessPom(event);"></i>
																		</div></li>
																</th:block>
																<!-- END timeline item -->

																<!-- END timeline item -->
																<li><i class="fa fa-clock-o bg-gray"></i></li>
															</ul>
														</div>
													</div>
												</div>
												<!--  <Fifth collapse> -->
												<!-- sixth collapse starts -->
												<div class="accordion-group mrt_20"
													th:if="${(#lists.contains(session.USER_ROLES, 'rol024') || #lists.contains(session.USER_ROLES, 'rol021')) }">
													<div class="accordion-heading">
														<button
															th:if="${#lists.size(auditorDarftpara)>0}"
															class="btn btn-blue btn-block accordion-toggle btn-txtlft"
															data-toggle="collapse" data-parent="#accordion2"
															th:attr="onclick=|viewNotification('${initiateAudit[0].auditInitiated}','PARA')|"
															href="#collapsePara">
															Draft Para <span class="icon-position"> <img
																src="../assets/images/bell.png" class="bell-icon" /> <span
																class="label number-span"
																th:text="${auditorDarftpara[0].deptId}">10</span>
															</span>
														</button>
													</div>
													<div id="collapsePara" class="accordion-body collapse">
														<div class="accordion-inner">
															<div align="right" style="margin-top: 7px;"
																th:if="${ #lists.contains(session.USER_ROLES, 'rol024')   }">
																<button class="btn btn-primary"
																	th:attr="onclick=|detailsOfAudit('${initiateAudit[0].auditInitiated}','NEWPARA')|">
																	Para</button>
																<button class="btn btn-primary"
																	th:attr="onclick=|detailsOfMeeting('${initiateAudit[0].auditInitiated}')|">Meeting</button>
															</div>
															<div class="row mrt_20"
																th:if="${#lists.size(meetingDtl)>0 }">
																<div class="col-md-2">
																	<div class="heading">Meeting Date</div>
																</div>
																<!-- <div class="col-md-1">
                                             <div class="heading">Meeting  Type</div>
                                          </div> -->
																<div class="col-md-1">
																	<div class="heading">Start Time</div>
																</div>
																<div class="col-md-1">
																	<div class="heading">End Time</div>
																</div>
																<div class="col-md-2">
																	<div class="heading">Section</div>
																</div>
																<div class="col-md-2">
																	<div class="heading">Scheduled By</div>
																</div>
																<div class="col-md-2">
																	<div class="heading">To</div>
																</div>
																<div class="col-md-2">
																	<div class="heading">Documents</div>
																</div>

															</div>
															<div class="row" th:if="${#lists.size(meetingDtl)>0}"
																th:each="doc: ${meetingDtl}">
																<div class="col-md-2">
																	<div class="text" th:text="${doc.date}"></div>
																</div>
																<!--  <div class="col-md-1">
                                             <div class="text" th:text="${doc.meetingType}"></div>
                                          </div> -->
																<div class="col-md-1">
																	<div class="text" th:utext="${doc.fromTime}"></div>
																</div>
																<div class="col-md-1">
																	<div class="" th:text="${doc.toTime}"></div>
																</div>
																<div class="col-md-2">
																	<div class="" th:text="${doc.section}"></div>
																</div>
																<div class="col-md-2">
																	<div class="" th:text="${doc.createdBy}"></div>
																</div>
																<div class="col-md-2">
																	<div class="" th:text="${doc.personTo}"></div>
																</div>
																<div class="col-md-2">
																	<span th:if="${#lists.size(doc.documents)>0}"
																		th:each="c:${doc.documents}" class=""
																		th:utext="${c.key}"></span>
																</div>
															</div>

															<div class="" align="right" style="margin-top: 7px;">
																<button
																	th:if="${#lists.contains(session.USER_ROLES, 'rol021')}"
																	type="button" class="btn btn-success"
																	th:attr="onclick=|forwardPara('${initiateAudit[0].auditInitiated}')|">Forward
																	ToAuditor</button>

															</div>
															<ul class="timeline"
																th:if="${#lists.size(auditorDarftpara)>0}">
																<th:block th:if="${#lists.size(auditorDarftpara)>0}"
																	th:each="aNote,iter:${auditorDarftpara}">
																	<li class="time-label" th:id="'downli_'+${iter.index}">
																		<!-- <strong>To: </strong><span id="personTo"
																				th:text="${aNote.personTo}"></span></br>
																				<strong>Cc: </strong><span id="personCc"
																					th:text="${aNote.personCc}"></span></br> -->
																					<span class="bg-red txt_white"
																		th:if="${#lists.size(AuditNote)>0}" id="mydate"
																		th:text="${aNote.Date}"> </span>
																	</li>
																	<!-- /.timeline-label -->
																	<!-- timeline item -->
																	<li th:id="'down_'+${iter.index}"><i
																		class="fa fa-envelope bg-blue"></i>
																		<div class="timeline-item">
																			<span class="time"><i class="fa fa-clock-o"></i><span
																				id="mytime" th:text="${aNote.time}"></span></span> 
																				</span> 
																				<strong>To: </strong><span id="personTo"
																				th:text="${aNote.personTo}"></span></br>
																				<strong>Cc: </strong><span id="personCc"
																					th:text="${aNote.personCc}"></span></br>
																					<span
																				class="time" style="cursor: pointer;"> <span
																				th:utext="${aNote.document}"></span>
																			</span> <span class="time" th:id="'pdf_'+${iter.index}"
																				th:attr="onclick='pdfView(event)'"
																				style="cursor: pointer"> <i
																				class="fa fa-download faIcon"></i>
																			</span>
																			<div class="cordinator">
																				<h5 class="timeline-header"
																					th:text="${aNote.checklistRef}" id="createdBy"></h5>
																				<span th:text="${aNote.addObsStatus}"></span> &nbsp;
																			</div>
																			<div class="timeline-body comment"
																				th:utext="${aNote.createdBy}"></div>
																			
																			<div>
																				
																			</div>
																			<!--  <div class="timeline-footer">
                                                      </div> -->
																		</div></li>
																</th:block>
																<!-- END timeline item -->

																<!-- END timeline item -->
																<li><i class="fa fa-clock-o bg-gray"></i></li>
															</ul>
														</div>
													</div>
												</div>
												<!-- sixth collapse ends -->

												<!-- seveenth collapse changes by bikash -->


												<div class="accordion-group mrt_20"
													th:if="${(#lists.contains(session.USER_ROLES, 'rol024') || #lists.contains(session.USER_ROLES, 'rol021')) }">
													<div class="accordion-heading">
														<button
															th:if="${(newpara!=null && #lists.size(newpara)>0) }"
															class="btn btn-blue btn-block accordion-toggle btn-txtlft"
															data-toggle="collapse" data-parent="#accordion2"
															th:attr="onclick=|viewNotification('${initiateAudit[0].auditInitiated}','NEWPARA')|"
															href="#collapsepara1">
															Para <span class="icon-position"> <img
																src="../assets/images/bell.png" class="bell-icon" /> <span
																class="label number-span"
																th:text="${auditorIRS[0].deptId}">10</span>
															</span>
														</button>
													</div>
													<div id="collapsepara1" class="accordion-body collapse">
														<div class="accordion-inner">
															<div align="right" style="margin-top: 7px;"
																th:if="${ #lists.contains(session.USER_ROLES, 'rol024')   }">
																<button class="btn btn-primary"
																	th:attr="onclick=|detailsOfAudit('${initiateAudit[0].auditInitiated}','COCO')|">Coco
																	Meeting</button>
																<button class="btn btn-primary"
																	th:attr="onclick=|detailsOfMeeting('${initiateAudit[0].auditInitiated}')|">Meeting</button>
															</div>
															<div class="row mrt_20"
																th:if="${#lists.size(meetingDtlechAudit)>0 }">
																<div class="col-md-2">
																	<div class="heading">Meeting Date</div>
																</div>
																<div class="col-md-1">
																	<div class="heading">Start Time</div>
																</div>
																<div class="col-md-1">
																	<div class="heading">End Time</div>
																</div>
																<div class="col-md-2">
																	<div class="heading">Section</div>
																</div>
																<div class="col-md-2">
																	<div class="heading">Scheduled By</div>
																</div>
																<div class="col-md-2">
																	<div class="heading">To</div>
																</div>
																<div class="col-md-2">
																	<div class="heading">Documents</div>
																</div>

															</div>
															<div class="row"
																th:if="${#lists.size(meetingDtlechAudit)>0}"
																th:each="doc: ${meetingDtlechAudit}">
																<div class="col-md-2">
																	<div class="text" th:text="${doc.date}"></div>
																</div>
																<div class="col-md-1">
																	<div class="text" th:utext="${doc.fromTime}"></div>
																</div>
																<div class="col-md-1">
																	<div class="" th:text="${doc.toTime}"></div>
																</div>
																<div class="col-md-2">
																	<div class="" th:text="${doc.section}"></div>
																</div>
																<div class="col-md-2">
																	<div class="" th:text="${doc.createdBy}"></div>
																</div>
																<div class="col-md-2">
																	<div class="" th:text="${doc.personTo}"></div>
																</div>
																<div class="col-md-2">
																	<span th:if="${#lists.size(doc.documents)>0}"
																		th:each="c:${doc.documents}" class=""
																		th:utext="${c.key}"></span>
																</div>
															</div>

															<div class="">
																<button
																	th:if="${#lists.contains(session.USER_ROLES, 'rol021')}"
																	type="button" class="btn btn-success"
																	th:attr="onclick=|forwardInspection('${initiateAudit[0].auditInitiated}')|">Forward
																	To Auditor</button>

															</div>
															<ul class="timeline"
																th:if="${newpara!=null && #lists.size(newpara)>0}">
																<th:block th:if="${#lists.size(newpara)>0}"
																	th:each="aNote,iter:${newpara}">
																	<li class="time-label" th:id="'downli_'+${iter.index}">
																		<span class="bg-red txt_white"
																		th:if="${#lists.size(AuditNote)>0}" id="mydate"
																		th:text="${aNote.Date}"> </span>
																	</li>
																	<li th:id="'down_'+${iter.index}"><i
																		class="fa fa-envelope bg-blue"></i>
																		<div class="timeline-item">
																			<span class="time"><i class="fa fa-clock-o"></i><span
																				id="mytime" th:text="${aNote.time}"></span></span>
																				<strong>To: </strong><span id="personTo"
																				th:text="${aNote.personTo}"></span></br>
																				<strong>Cc: </strong><span id="personCc"
																					th:text="${aNote.personCc}"></span></br>
																					 <span
																				class="time" style="cursor: pointer;"> <span
																				th:utext="${aNote.document}"></span>
																			</span> <span class="time" th:id="'pdf_'+${iter.index}"
																				th:attr="onclick='pdfView(event)'"
																				style="cursor: pointer"> <i
																				class="fa fa-download faIcon"></i>
																			</span>
																			<div class="cordinator">
																				<h5 class="timeline-header"
																					th:text="${aNote.checklistRef}" id="createdBy"></h5>
																				<span th:text="${aNote.addObsStatus}"></span> &nbsp;
																			</div>
																			<div class="timeline-body comment"
																				th:utext="${aNote.createdBy}"></div>
																			
																			<div>
																				
																			</div>
																			<div class="timeline-footer"></div>
																		</div></li>
																</th:block>
																<!-- END timeline item

																END timeline item -->
																<li><i class="fa fa-clock-o bg-gray"></i></li>
															</ul>
														</div>
													</div>
												</div>


												<!-- seveenth collapse ends -->


												<!-- eight collapse starts bikash -->
												<div class="accordion-group mrt_20"
													th:if="${(#lists.contains(session.USER_ROLES, 'rol024') || #lists.contains(session.USER_ROLES, 'rol021')) }">
													<div class="accordion-heading">
														<button th:if="${(coco!=null && #lists.size(coco)>0 ) }"
															class="btn btn-blue btn-block accordion-toggle btn-txtlft"
															data-toggle="collapse" data-parent="#accordion2"
															th:attr="onclick=|viewNotification('${initiateAudit[0].auditInitiated}','COCO')|"
															href="#collapsepara2">
															Coco Meeting <span class="icon-position"> <img
																src="../assets/images/bell.png" class="bell-icon" /> <span
																class="label number-span"
																th:text="${auditorIRS[0].deptId}">10</span>
															</span>
														</button>
													</div>
													<div id="collapsepara2" class="accordion-body collapse">
														<div class="accordion-inner">
															<div align="right" style="margin-top: 7px;"
																th:if="${ #lists.contains(session.USER_ROLES, 'rol024')   }">
																<!-- <button class="btn btn-primary"
																	th:attr="onclick=|addNewPara('${initiateAudit[0].auditInitiated}')|">Coco Meeting</button> -->
																<button class="btn btn-primary"
																	th:attr="onclick=|detailsOfMeeting('${initiateAudit[0].auditInitiated}')|">Meeting</button>
															</div>
															<div class="row mrt_20"
																th:if="${#lists.size(meetingDtlechAudit)>0 }">
																<div class="col-md-2">
																	<div class="heading">Meeting Date</div>
																</div>
																<div class="col-md-1">
																	<div class="heading">Start Time</div>
																</div>
																<div class="col-md-1">
																	<div class="heading">End Time</div>
																</div>
																<div class="col-md-2">
																	<div class="heading">Section</div>
																</div>
																<div class="col-md-2">
																	<div class="heading">Scheduled By</div>
																</div>
																<div class="col-md-2">
																	<div class="heading">To</div>
																</div>
																<div class="col-md-2">
																	<div class="heading">Documents</div>
																</div>

															</div>
															<div class="row"
																th:if="${#lists.size(meetingDtlechAudit)>0}"
																th:each="doc: ${meetingDtlechAudit}">
																<div class="col-md-2">
																	<div class="text" th:text="${doc.date}"></div>
																</div>
																<div class="col-md-1">
																	<div class="text" th:utext="${doc.fromTime}"></div>
																</div>
																<div class="col-md-1">
																	<div class="" th:text="${doc.toTime}"></div>
																</div>
																<div class="col-md-2">
																	<div class="" th:text="${doc.section}"></div>
																</div>
																<div class="col-md-2">
																	<div class="" th:text="${doc.createdBy}"></div>
																</div>
																<div class="col-md-2">
																	<div class="" th:text="${doc.personTo}"></div>
																</div>
																<div class="col-md-2">
																	<span th:if="${#lists.size(doc.documents)>0}"
																		th:each="c:${doc.documents}" class=""
																		th:utext="${c.key}"></span>
																</div>
															</div>

															<div class="">
																<button
																	th:if="${#lists.contains(session.USER_ROLES, 'rol021')}"
																	type="button" class="btn btn-success"
																	th:attr="onclick=|forwardInspection('${initiateAudit[0].auditInitiated}')|">Forward
																	To Auditor</button>

															</div>
															<ul class="timeline"
																th:if="${coco!=null && #lists.size(coco)>0}">
																<th:block th:if="${#lists.size(coco)>0}"
																	th:each="aNote,iter:${coco}">
																	<li class="time-label" th:id="'downli_'+${iter.index}">
																		<span class="bg-red txt_white"
																		th:if="${#lists.size(AuditNote)>0}" id="mydate"
																		th:text="${aNote.Date}"> </span>
																	</li>
																	<li th:id="'down_'+${iter.index}"><i
																		class="fa fa-envelope bg-blue"></i>
																		<div class="timeline-item">
																			<span class="time"><i class="fa fa-clock-o"></i><span
																				id="mytime" th:text="${aNote.time}"></span></span> 
																				<strong>To: </strong><span id="personTo"
																				th:text="${aNote.personTo}"></span></br>
																				<strong>Cc: </strong><span id="personCc"
																					th:text="${aNote.personCc}"></span></br>
																					<span
																				class="time" style="cursor: pointer;"> <span
																				th:utext="${aNote.document}"></span>
																			</span> <span class="time" th:id="'pdf_'+${iter.index}"
																				th:attr="onclick='pdfView(event)'"
																				style="cursor: pointer"> <i
																				class="fa fa-download faIcon"></i>
																			</span>
																			<div class="cordinator">
																				<h5 class="timeline-header"
																					th:text="${aNote.checklistRef}" id="createdBy"></h5>
																				<span th:text="${aNote.addObsStatus}"></span> &nbsp;
																			</div>
																			<div class="timeline-body comment"
																				th:utext="${aNote.createdBy}"></div>
																			
																			<div>
																			
																			</div>
																			<div class="timeline-footer"></div>
																		</div></li>
																</th:block>
																<!-- END timeline item

																END timeline item -->
																<li><i class="fa fa-clock-o bg-gray"></i></li>
															</ul>
														</div>
													</div>
												</div>


												<!-- eight collapse ends -->
											</div>
										</div>
										<!-- Second Collapse -->


										<!-- Third Collapse -->
										<input type="hidden" id="noOfSection"
											th:value="${#lists.size(initiateAudit)}">
										<div class="accordion-group mrt_20"
											th:each="a,iter:${initiateAudit}"
											th:if="${! #lists.contains(session.USER_ROLES, 'rol024') }">
											<div class="accordion-heading">
												<button th:if="${#lists.size(initiateAudit)>0}"
													class="btn btn-blue btn-block accordion-toggle btn-txtlft"
													data-toggle="collapse" data-parent="#accordion2"
													th:attr="onclick=|viewNotification('${a.auditAutoGenId}','DEP')|"
													th:href="${'#collapse'+iter.index}">
													<span th:text="${a.auditee}"> Requistion by co</span> <span
														class="icon-position"> <img
														src="../assets/images/bell.png" class="bell-icon"> <!-- <span
														class="label number-span" th:if="${#lists.size(initiateAudit[iter.index].requisitionViewModel)>0 && initiateAudit[iter.index].requisitionViewModel[iter.index].totalReq !='0'}"
														th:text="${initiateAudit[iter.index].requisitionViewModel[iter.index].totalReq}">10</span> -->
													</span>
												</button>
											</div>
											<div th:id="${'collapse'+iter.index}"
												class="accordion-body collapse">
												<!-- initiation Details -->
												<div class="row">
													<div class="col-md-3">
														<div class="heading">Department</div>
													</div>
													<div class="col-md-3">
														<div class="heading">Section</div>
													</div>
													<th:block th:if="${a.auditName!='ADTM005'}">
														<div class="col-md-3">
															<div class="heading">Start date</div>
														</div>
														<div class="col-md-3">
															<div class="heading">End Date</div>
														</div>
													</th:block>
													<div class="col-md-3" th:if="${a.auditName=='ADTM005'}">
														<div class="heading">Date Of Initiation</div>
													</div>

												</div>
												<div class="row"
													th:each="a,iter:${initiateAudit[iter.index]}">
													<div class="col-md-3">
														<div class="text" th:text="${a.deptHeadId}">Department</div>
													</div>
													<div class="col-md-3">
														<div class="text" th:text="${a.auditee}">Section</div>
													</div>
													<th:block th:if="${a.auditName!='ADTM005'}">
														<div class="col-md-3">
															<div class="text" th:text="${a.fromDate}">Start
																date</div>
														</div>
														<div class="col-md-3">
															<div class="text" th:text="${a.toDate}">End Date</div>
														</div>
													</th:block>
													<div class="col-md-3" th:if="${a.auditName=='ADTM005'}">
														<div class="text" th:text="${a.initiatedDate}">End
															Date</div>
													</div>
												</div>

												<div class="row mrt_20"
													th:if="${#lists.size(a.meetingDtlSec)>0 }">
													<div class="col-md-2">
														<div class="heading">Meeting Date</div>
													</div>

													<div class="col-md-1">
														<div class="heading">Start Time</div>
													</div>
													<div class="col-md-1">
														<div class="heading">End Time</div>
													</div>

													<div class="col-md-2">
														<div class="heading">Scheduled By</div>
													</div>
													<div class="col-md-2">
														<div class="heading">To</div>
													</div>
													<div class="col-md-2">
														<div class="heading">Documents</div>
													</div>

												</div>
												<div class="row" th:if="${#lists.size(a.meetingDtlSec)>0}"
													th:each="doc: ${a.meetingDtlSec}">
													<div class="col-md-2">
														<div class="text" th:text="${doc.date}"></div>
													</div>

													<div class="col-md-1">
														<div class="text" th:utext="${doc.fromTime}"></div>
													</div>
													<div class="col-md-1">
														<div class="" th:text="${doc.toTime}"></div>
													</div>

													<div class="col-md-2">
														<div class="" th:text="${doc.createdBy}"></div>
													</div>
													<div class="col-md-2">
														<div class="" th:text="${doc.personTo}"></div>
													</div>
													<div class="col-md-2">
														<span th:if="${#lists.size(doc.documentsSec)>0}"
															th:each="c:${doc.documentsSec}" class=""
															th:utext="${c.key}"></span>
													</div>
												</div>
												<!-- initiation Details end -->
												<br>
											<!-- draft dropdwon by deepak -->

												<div class="out-box">
													<div class="row">
														<div class="col-md-3">
															<input type="text" name="" class="form-control" id="searchDate"
																placeholder="Select Date" style="width: 100%;" readonly>
														</div>
														<div class="col-md-3">
															<select class="form-control" style="width: 100%;">
																<option>Select Employee Name</option>
																<option th:each="c,iter:${empList}" th:value="${c.key}" th:text="${c.name}"></option>
															</select>
														</div>
														<div class="col-md-3">
															<select class="form-control" style="width: 100%;">
																<option value="">Select Type</option>
																<option value="REQ">Requisition</option>
																<option value="RES">Response</option>
																<option value="REP">Reply</option>
																<option value="ASG">Assign</option>
															</select>
														</div>
														<div class="col-md-3" align="right">
															<button class="btn btn-primary">Search</button>
														</div>
													</div>
												</div>

												<div class="dropdown" align="right" style="margin-top: 7px;">
														
														<button th:if="${identifier}" class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenu2" data-toggle="dropdown"
															aria-haspopup="true" aria-expanded="false" th:attr="onclick=|listDraft('${a.auditAutoGenId}','${session.USER_ID}','0')|">
															Drafts</button>
															<input type="hidden" th:value="${a.auditAutoGenId}" id ="reqIdDraft">
															<input type="hidden" th:value="${identifier}" id="reqIdentifier">
														<div class="dropdown-menu" aria-labelledby="dropdownMenu2" style="right: 20px !important;width: 250px !important;margin-left: -10px ;max-height: 200px; overflow-y: scroll;">
															<button class="dropdown-item" type="button" onclick = "">Action</button>
															 
														</div>
													</div>
												<!-- draft dropdwon by deepak end-->
												<div align="right" style="margin-top: 7px;"
													th:if="${#lists.contains(session.USER_ROLES, 'rol021')}">
													<button class="btn btn-primary" th:if="${identifier}"
														th:attr="onclick=|requestRequisition('${a.auditAutoGenId}','${identifier}')|" >Forward
														To Section</button>

													<button class="btn btn-primary" th:if="${identifier}"
														th:attr="onclick=|detailsOfMeeting('${a.auditAutoGenId}')|">Meeting</button>
												</div>
												<!-- <div class="">
													<button
														th:if="${#lists.contains(session.USER_ROLES, 'rol021') && a.auditOperationDtl[0].reqStatus >='2' }"
														type="button" class="btn btn-secondary"
														th:attr="onclick=|rejectFromCoordinator('${a.auditAutoGenId}','${a.auditInitiated}')|">Send
														Back</button>
												</div> -->



												<!-- <div class="">
													<button type="button" class="btn btn-success"
														th:if="${(#lists.contains(session.USER_ROLES, 'rol023' )|| #lists.contains(session.USER_ROLES, 'rol032' )||#lists.contains(session.USER_ROLES, 'rol031' )|| #lists.contains(session.USER_ROLES, 'rol033' ))&& #lists.size(initiateAudit[iter.index].RequisitionViewModel)>0}"
														th:attr="onclick=|responseRequisition('${a.auditAutoGenId}','${identifier}','${a.requisitionViewModel[0].reqId}')|">Reply</button>
													<button type="button" class="btn btn-secondary"
														th:if="${(#lists.contains(session.USER_ROLES, 'rol023' )|| #lists.contains(session.USER_ROLES, 'rol032' )||#lists.contains(session.USER_ROLES, 'rol031' )|| #lists.contains(session.USER_ROLES, 'rol033' ))&&  #lists.size(initiateAudit[iter.index].RequisitionViewModel)>0}"
														th:attr="onclick=|assign('${a.auditAutoGenId}','${identifier}','${a.requisitionViewModel[0].reqId}')|">Assign</button>

												</div> -->

												<ul class="timeline " th:id="${'timeline_'+initiateAudit[iter.index].auditAutoGenId}"
													th:if="${#lists.size(initiateAudit[iter.index].requisitionViewModel)>0}">

													<th:block
														th:each="b,iter:${initiateAudit[iter.index].RequisitionViewModel}">
														<input type="hidden" id="reqView"
															th:if="${#lists.size(a.requisitionViewModel)>0}"
															th:value="${#lists.size(a.requisitionViewModel)}">
												<!-- <input type="hidden" id="allpdf" th:value="${(a.requisitionViewModel)}"> -->
												<input type="hidden" id="allpdfid" value="">
											<!-- 	var allpdfid= ($('#allpdfid').val());  
		alert("allpdfid "+allpdfid);
 -->

														<input type="hidden" th:id="'reqViewAll_'+${a.counter}"
															th:value="${a.counter}">

														<li class="time-label"
															th:id="'downliReq_'+${a.counter+'_'}+${iter.index}">
															<span class="bg-red txt_white" id="mydate"
															th:text="${b.Date}"> 10 Feb. 2014 </span>
														</li>
														
														<!-- /.timeline-label -->
														<!-- timeline item -->
														<li class="time-labelInn"
															th:id="'downReq_'+${a.counter+'_'}+${iter.index}"><i
															class="fa fa-envelope bg-blue"></i>
															<div class="timeline-item">
															<!-- <span><i class="fa fa-download faIcon" onclick="pdfTrial(b.createdby);" style="margin-left: 94%;cursor: pointer;color: black;" title="Download All"></i> &nbsp;
														<strong style="margin-left: 92%; cursor: pointer" onclick="pdfTrial(b.createdby);">Download All</strong><br> </span> -->
															<span><i class="fa fa-download faIcon" th:id="'download_'+${iter.index}" th:attr="onclick=|pdfTrial('${b.reqId}',event)|" style="margin-left: 94%;cursor: pointer;color: black;" title="Download All"></i> &nbsp;
														<strong style="margin-left: 92%; cursor: pointer" th:id="'download_'+${iter.index}" th:attr="onclick=|pdfTrial('${b.reqId}',event)|">Download All</strong><br> </span>
														
														<!-- <button type="button" class="btn btn-success"
																		th:id="'newReplay_'+${iter.index}"
																		th:if="${!session.USER_ID.equals(b.createdById)}"
																		th:attr="onclick=|responseRequisition('${a.auditAutoGenId}','${identifier}','${b.reqId}',event)|">Reply</button>  -->
														
																<span class="time" id="mytime" th:text="${b.Time}"><i
																	class="fa fa-clock-o"></i> 12:05</span>
															
																<!-- <span class="time"><i class="fa fa-file-pdf-o fa-2x pdf" title="document.pdf"></i> </span> -->
																<span class="time" th:each="c,iter:${b.documentList}">
																	<span class="time" th:utext="${c.key}"></span>
																</span> <span class="time" th:id="'pdfReq_'+${iter.index}"
																	th:attr="onclick='pdfViewReq(event)'"
																	style="cursor: pointer">																	
																	 <i
																	class="fa fa-download faIcon"></i>
																</span>
																
																<div class="cordinator">
																	<h5 class="timeline-header" th:text="${b.createdby}"
																		th:id="'createdBy_'+${iter.index}"></h5>
																		
																		<!-- <input type="hidden" th:id="'createdBy_'+${iter.index}"> -->
															
																	<i th:if="${b.commentStatus=='0'}" class="fa fa-reply"
																		aria-hidden="true" style="cursor: pointer"
																		th:attr="onclick=|revert('${b.reqId}')|"></i> 
																			
																		<span
																		th:text="${b.roleName}"></span> &nbsp; 
																		<span
																		class="badge badge-warning"
																		th:text="${b.commentStatusName}"></span></br>
																		<strong>To: </strong><span id="personTo"
																	th:text="${b.personTo}"></span></br >
																	<strong>Cc: </strong><span
																		th:id="'personCc_'+${iter.index}"
																		th:text="${b.personCc}"></span></br>
																		<div class="clearfix"></div>
																	
																</div>
																<div class="timeline-body comment"
																	th:id="'reqCommentId_'+${iter.index}"
																	th:utext="${b.comment}"
																	style="max-height: 177px; overflow-y: scroll"></div>
																
																<div>
																	
																	<button type="button" class="btn btn-secondary"
																		th:if="${#lists.contains(b.personToId, session.USER_ID)&& b.sectionStatus=='2' }"
																		th:attr="onclick=|rejectFromConcern('${a.auditAutoGenId}','${b.reqId}','${b.createdById}')|"
																		style="display: block;">Send Back</button>
																	<button
																		th:if="${#lists.contains(b.personToId, session.USER_ID)&& b.coStatus=='2' && #lists.contains(session.USER_ROLES, 'rol021') }"
																		type="button" class="btn btn-secondary"
																		th:attr="onclick=|rejectFromCoordinator('${a.auditAutoGenId}','${b.reqId}')|"
																		style="border: none; outline: none; display: block;">Send
																		Back</button>
																	<div style="margin-top: 2px"></div>
																	<input type="hidden" id="previd" th:value="${b.prevauditid}">
																	<button type="button" class="btn btn-success"
																		th:id="'newReplay_'+${iter.index}"
																		th:if="${!session.USER_ID.equals(b.createdById)}"
																		th:attr="onclick=|responseRequisition('${a.auditAutoGenId}','${identifier}','${b.reqId}',event)|">Reply</button>
																		<!-- bikash -->
																		<!-- <input type="hidden" th:id="auditidforpdf1" th:value="${a.auditAutoGenId}"> -->
																		<!-- <input type="hidden" th:id="auditidforpdf2" th:value="${b.reqId}"> -->
																		<!-- end -->
																	<button type="button" class="btn btn-secondary"
																		th:id="'newAssign_'+${iter.index}"
																		th:if="${!session.USER_ID.equals(b.createdById)}"
																		th:attr="onclick=|assign('${a.auditAutoGenId}','${identifier}','${b.reqId}',event)|">Assign</button>

																</div>
															</div>
															<div class="add_more_plus">
																<i class="fa fa-plus" align="right" aria-hidden="true"
																	th:id="'more_'+${a.counter+'_'}+${iter.index}"
																	onclick="viewMore(event);"></i>
															</div>

															<div class="add_more_minus">
																<i class="fa fa-minus" aria-hidden="true"
																	th:id="'less_'+${a.counter+'_'}+${iter.index}"
																	onclick="viewLess(event);"></i>
															</div> <!-- <button th:id="'more_'+${iter.index}" onclick="viewMore(event);">More</button> -->
														</li>


														<!-- END timeline item -->
													</th:block>

													<li><i class="fa fa-clock-o bg-gray"></i></li>
												</ul>


											</div>
										</div>



									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div style="clear: both;"></div>
		</div>
	</div>
	<!-- reply modal start -->
	<div id="myModalReply" class="modal fade" role="dialog">
		<div class="modal-dialog">
			<!-- Modal content-->
			<div class="modal-content" width="100%">
				<div class="modal-header">
					<h4 class="modal-title">Reply</h4>
					<button type="button" class="close" data-dismiss="modal">
						<i class="fa fa-close fa-2x"></i>
					</button>
				</div>
				<div class="modal-body">
					<table class="tbllReply" id="myTableReply" width="100%" border="0"
						cellspacing="1" cellpadding="5">
						<thead>
							<tr>
								<th>Upload Document</th>
								<th>Action</th>
							</tr>
						</thead>
						<tbody id="tbodyDataReply">
							<tr class="tr_clone" id="row">
								<td><input type="file" class="mulDocRep" id="docReq_"
									style="display: block;"
									onchange="saveFileAssign(event);checkImageFormat(this);">
									<div id="uploadedImgDivReply_0"></div></td>
								<td>
									<button type="button" class="btn btn-primary tr_clone_add"
										name="add" onclick="addMoreReply();">
										<span class="ti-plus"></span>
									</button>
								</td>
							</tr>
						</tbody>
					</table>
					<div class="form-group">
						<input type="hidden" id="repQuesId"> <label>Comment
							: </label>
						<div class="box-body pad">
							<textarea id="commentId" class="form-control commentCls"
								name="commentId" rows="10" cols="80">
                  </textarea>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button type="submit" class="btn btn-primary" id="saveComment">Save</button>
					<button type="button" class="btn btn-omc" id="auditeeReply">Send</button>
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
		<!-- footer-->
		<!-- /.content-wrapper -->
	</div>

	<div id="myModal" class="modal fade" role="dialog">
		<div class="modal-dialog">
			<!-- Modal content-->
			<div class="modal-content" width="100%">
				<div class="modal-header">
					<h4 class="modal-title">Comment</h4>
					<button type="button" class="close" data-dismiss="modal">
						<i class="fa fa-close fa-2x"></i>
					</button>
				</div>
				<div>
					<button type="submit" class="btn btn-success" id="saveComment">Save</button>
					<button type="button" class="btn btn-secondary" id="auditeeSubmit">Send</button>
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>
				<div class="modal-body">
					<div class="row">
						<div class="col-md-6">

							<div>To:</div>
							<select id="autocomplete-select71" multiple class="chosen-select chosen-sortable">
								<option th:each="c,iter:${empList}" th:value='${c.key}'
									th:text="${c.name}"></option>

							</select> <input type="hidden" id="toHiddenId6">
						</div>
						<div class="col-md-6">
							<div>Cc:</div>
							<select id="autocomplete-select72" multiple class="chosen-select chosen-sortable">
								<option th:each="c,iter:${empList}" th:value='${c.key}'
									th:text="${c.name}"></option>

							</select> <input type="hidden" id="CcHiddenId6">

						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<div>Subject:</div>
							<input type="text" id="subjectReplyObs" class="form-control"
								placeholder="Write Your Subject Here....."
								style="width: 100%; height: 40px">
						</div>
					</div>
					<table class="tbllCompliance tblls" id="myTableCompliance"
						width="100%" border="0" cellspacing="1" cellpadding="5">
						<thead>
							<tr>
								<th width="120" align="left">Document Name</th>
								<th width="520" align="left">Upload</th>
								<th width="520" align="left">Comment</th>
								<th align="right">Action</th>
							</tr>
						</thead>
						<tbody id="tbodyDataCompliance">
							<tr class="tr_clone" id="row">
								<td width="300"><input type="text"
									class="form-control complianceDocNameCls"
									id="complianceDocName_0"></td>
								<td width="320">
									<!--  <div class="upload-btn-wrapper">
                           <label class="custom-file-upload" for="document"><i class="fa fa-cloud-upload"></i>Document</label>
                           <input type="file" class="mulDocCompliance" id="docCompliance_" style="display: block;"
                              onchange="saveFileAssign(event);checkImageFormat(this);">																						
                        </div> -->

									<div class="row" id="rowId_0">
										<div id="row2_0"
											style="text-align: right; padding-left: 50px; padding-top: 10px;">
											<div class="text complianceImgCls" id="complianceImg_0"></div>
										</div>

										<div class="upload-btn-wrapper">
											<label class="custom-file-upload" for="mulDocAtta"><i
												class="fa fa-cloud-upload"></i>Document</label> <input type="file"
												class="mulDocCompliance" id="docCompliance_0"
												style="display: block;"
												onchange="saveFileAssign(event);checkImageFormat(this);">
										</div>
									</div>
								</td>
								<td width="300"><textarea
										class="form-control complianceCommentCls"
										id="complianceComment_0" autocomplete="on"></textarea></td>
								<td align="Right" width="200">
									<button type="button" class="btn btn-primary tr_clone_add"
										name="add" onclick="moreCompliance();">
										<span class="ti-plus"></span>
									</button>
								</td>
							</tr>
						</tbody>
					</table>
					<div class="form-group">
						<input type="hidden" id="complianceQuesId"> <input
							type="hidden" id="complianceAudiId"> <label>Comment
							:</label>
						<div class="box-body pad">
							<textarea id="commentCompliance"
								class="form-control commentComplianceCls" name="commentId"
								rows="10" cols="80" autocomplete="on">
                  </textarea>
						</div>
					</div>
				</div>

			</div>
		</div>
	</div>


	<!-- First Collapse -->
	<div id="detailsModal" class="modal fade" role="dialog">
		<div class="modal-dialog">
			<!-- Modal content-->
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title" id="modal-title-id">Notes</h4>
					<button type="button" class="close" data-dismiss="modal">
						<i class="fa fa-close fa-2x" style="color: #FFF; cursor: pointer;"></i>
					</button>
				</div>
				<div>
					<button type="button" class="btn btn-success" id="saveNotes">Save</button>
					<button type="button" class="btn btn-secondary"
						onclick="sendDetails();">Send</button>
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>
				<div class="modal-body">
					<input type="hidden" id="id" /> <input type="hidden"
						id="auditType" /> <input type="hidden" id="audit" />

					<div class="row">
						<div class="col-md-6">

							<div>To:</div>
							<select id="multiple8" multiple class="chosen-select chosen-sortable">
								<option th:each="c,iter:${empList}" th:value='${c.key}'
									th:text="${c.name}"></option>

							</select> <input type="hidden" id="toHiddenId8">

						</div>
						<div class="col-md-6">
							<div>Cc:</div>
							<select id="multiple81" multiple class="chosen-select chosen-sortable">
								<option th:each="c,iter:${empList}" th:value='${c.key}'
									th:text="${c.name}"></option>

							</select> <input type="hidden" id="CcHiddenId8">


						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<div>Subject:</div>
							<input type="text" id="subjectAuditRequisition"
								class="form-control" placeholder="Write Your Subject Here....."
								style="width: 100%; height: 40px">
						</div>
					</div>
					<div style="overflow-y: scroll; height: 100px;">
						<table class="tbllReq tblls" id="myTableReq" width="100%"
							border="0" cellspacing="0" cellpadding="0">
							<thead>
								<tr>
									<th width="120" align="center">Document Name</th>
									<th width="520" align="center">Upload</th>
									<th width="520" align="center">Comment</th>
									<th align="right">Action</th>
								</tr>
							</thead>
							<tbody id="tbodyDataReq">
								<tr class="tr_clone" id="row">
									<td width="300"><input type="text"
										class="form-control audiDocNameCls" id="audiDocName_0">
									</td>
									<td width="320" align="center">
										<div class="row" id="rowId_0">
											<div id="row2_0"
												style="text-align: right; padding-left: 50px; padding-top: 10px;">
												<div class="text attIcon" id="audFile_0"></div>
											</div>
											<div class="upload-btn-wrapper">
												<label class="custom-file-upload" for="mulDocAtta"><i
													class="fa fa-cloud-upload"></i>Document</label> <input type="file"
													class="mulDocReq" id="docReq_0" style="display: block;"
													onchange="saveFileAssign(event);checkImageFormat(this);">
											</div>
										</div>
									</td>
									<td width="300"><textarea
											class="form-control audiCommentCls" id="audiComment_0"
											autocomplete="on"></textarea>
									<td align="Right" width="200">
										<button type="button" class="btn btn-primary tr_clone_add"
											name="add" onclick="addAuditDetailsCheck();">
											<span class="ti-plus"></span>
										</button>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
					<div class="form-group">
						<label>Comment :</label>
						<div class="box-body pad">
							<textarea id="commentNote" class="form-control textarea"
								autocomplete="on" name="commentNote" rows="10" cols="80"
								style="height: 100px !important;">
                                                   </textarea>
						</div>
					</div>
				</div>

			</div>
		</div>
	</div>


	<!-- First Collapse -->
	<div id="meetingModal" class="modal fade" role="dialog">
		<div class="modal-dialog">
			<!-- Modal content-->
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title" id="modal-title-id">Schedule Meeting</h4>
					<button type="button" class="close" data-dismiss="modal">
						<i class="fa fa-close fa-2x" style="color: #FFF; cursor: pointer;"></i>
					</button>
				</div>
				<div class="col-md-12">

					<button type="button" class="btn btn-secondary"
						onclick="MeetingDetails();">Send</button>
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>
				<div class="modal-body">
					<input type="hidden" id="id" /> <input type="hidden"
						id="auditType" /> <input type="hidden" id="audit" />

					<div class="row">
						<div class="col-md-3">
							<div class="form-group" id="fld2">
								<label>Date</label><input type="text"
									class="form-control MeetingDate" id="date"
									placeholder="Enter From Date" readonly>
							</div>
						</div>
						<div class="col-md-3">
							<div class="form-group" id="fld2">
								<label>Start Time</label><input type="text"
									class="form-control MeetingTime" id="fromTime"
									placeholder="Select Start Time" readonly>
							</div>
						</div>
						<div class="col-md-3">
							<div class="form-group" id="fld2">
								<label>End Time</label><input type="text"
									class="form-control MeetingTime" id="toTime"
									placeholder="Select End Time" readonly>
							</div>
						</div>

						<div class="col-md-6">
							<div class="form-group" id="fld2">
								<label>Section</label> <select
									class="form-control departmentCls" id="section">

									<option th:each="c,iter:${sectionList}" th:value='${c.key}'
										th:text="${c.name}"></option>
								</select>
							</div>
						</div>
						<div class="col-md-6">
							<div>To:</div>
							<select id="multiple" multiple class="chosen-select chosen-sortable">
								<option th:each="c,iter:${empList}" th:value='${c.key}'
									th:text="${c.name}"></option>

							</select> <input type="hidden" id="toHiddenId9">
						</div>

					</div>
					<div class="row">
						<div class="col-md-12">
							<div>Subject:</div>
							<input type="text" id="subjectAuditMeeting" class="form-control"
								placeholder="Write Your Subject Here....."
								style="width: 100%; height: 40px">


						</div>
					</div>
					<div style="overflow-y: scroll; height: 100px; padding: 0px 10px;">
						<table class="tbllMeeting tblls" id="myTableMeeting" width="100%"
							border="0" cellspacing="0" cellpadding="0">
							<thead>
								<tr>
									<th width="120" align="center">Document Name</th>
									<th width="520" align="center">Upload</th>
									<th width="520" align="center">Comment</th>
									<th align="right">Action</th>
								</tr>
							</thead>
							<tbody id="tbodyDataMeeting">
								<tr class="tr_clone" id="row">
									<td width="300"><input type="text"
										class="form-control mettDocNameCls" id="mettDocName_0">
									</td>
									<td width="320" align="center">
										<div class="row" id="rowId_0">
											<div id="row2_0"
												style="text-align: right; padding-top: 10px; padding-left: 50px;">
												<div class="text meetIcon" id="meetFile_0"></div>
											</div>
											<div class="upload-btn-wrapper">
												<label class="custom-file-upload" for="mulDocAtta"><i
													class="fa fa-cloud-upload"></i>Document</label> <input type="file"
													class="mulDocMett" id="docMett_0" style="display: block;"
													onchange="saveFileAssign(event);checkImageFormat(this);">
											</div>
										</div>
									</td>
									<td width="300"><textarea
											class="form-control mettCommentCls" id="mettComment_0"
											autocomplete="on"></textarea></td>
									<td align="Right" width="200">
										<button type="button" class="btn btn-primary tr_clone_add"
											name="add" onclick="checkMeeting();">
											<span class="ti-plus"></span>
										</button>
									</td>
								</tr>
							</tbody>
						</table>
					</div>

					<div class="form-group" style="padding: 0px 6px;">
						<div>
							<strong>Comment :</strong>
						</div>
						<div>
							<textarea id="entryMeeting" name="editor1" rows="10" cols="80"
								autocomplete="on">
                                            
                                             </textarea>
						</div>
					</div>
				</div>

			</div>
		</div>
	</div>
	<!--  <second modal> -->
	<!-- Modal Start-->
	<div id="requisition" class="modal fade" role="dialog">
		<div class="modal-dialog">
			<!-- Modal content-->
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title" id="modal-title-id">Request</h4>
					<button type="button" class="close" data-dismiss="modal">
						<i class="fa fa-close fa-2x" style="color: #FFF; cursor: pointer;"></i>
					</button>
				</div>
				<div class="row">
					<div class="col-md-6">
						<button type="button" class="btn btn-success" id="save" onclick="draft('0')">Save</button>
						<button type="button" class="btn btn-secondary"
							onclick="requisition()">Send</button>
						<!-- <button type="button" class="btn btn-primary" id="sendDoc">Send</button> -->
						<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
					</div>
					<div class="col-md-6">
						<div class="row">
							<div class="col-md-6" align="right">Priority:</div>
							<div class="col-md-6">
								<select id="priorityReply1" class="form-control">
									<option th:each="c,iter:${getPriorityList}" th:value='${c.key}'
										th:text="${c.name}"></option>
								</select>
							</div>
						</div>
					</div>
				</div>
				 <input type="hidden"id="draftHiddenId">

				<div class="modal-body">
					<div class="row">
						<div class="col-md-6">
							<div>To:</div>
							<select id="autocomplete-select" multiple class="chosen-select chosen-sortable">
								<option th:each="c,iter:${empList}" th:value='${c.key}'
									th:text="${c.name}"></option>

							</select> <input type="hidden" id="toHiddenId">

						</div>
						<div class="col-md-6">
							<div>Cc:</div>
							<select id="autocomplete-select1" multiple class="chosen-select chosen-sortable">
								<option th:each="c,iter:${empList}" th:value='${c.key}'
									th:text="${c.name}"></option>

							</select> <input type="hidden" id="CcHiddenId">


						</div>

					</div>
					<div class="row">
						<div class="col-md-12">
							<div>Subject:</div>
							<input type="text" id="subjectCoRequisition" class="form-control"
								placeholder="Write Your Subject Here....."
								style="width: 100%; height: 40px">


						</div>
					</div>

					<div style="overflow-y: scroll; height: 100px;">
						<table class="tbll tblls" id="myTable" width="100%" border="0"
							cellspacing="0" cellpadding="0">
							<thead>
								<tr>
									<th width="120" align="left">Document Name</th>
									<th width="520" align="left">Upload</th>
									<th width="520" align="left">Comment</th>
									<th align="right">Action</th>
								</tr>
							</thead>
							<tbody id="tbodyData">
								<tr class="tr_clone" id="row">
									<td width="300"><input type="text"
										class="form-control reqDocNameCls" id="reqDocName_"></td>
									<td width="320">


										<div class="row" id="rowId_0">
											<div id="row2_0"
												style="text-align: right; padding-left: 50px; padding-top: 10px;">
												<div class="text coReqFileCls" id="coReqFile_0"></div>
											</div>

											<div class="upload-btn-wrapper">
												<label class="custom-file-upload" for="mulDocAtta"><i
													class="fa fa-cloud-upload"></i>Document</label> <input type="file"
													class="mulDoc" id="doc_0" style="display: block;"
													onchange="saveFileAssign(event);checkImageFormat(this);">

											</div>

										</div>

									</td>
									<td width="300"><textarea
											class="form-control reqCommentCls" id="reqComment_0"
											autocomplete="on"></textarea><input type="hidden" id="editDocRequest_0" class="editDocumentRequest"></td>
									<td align="Right" width="200">
										<button type="button" class="btn btn-primary tr_clone_add"
											name="add" onclick="addMoreCheck();">
											<span class="ti-plus"></span>
										</button>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
					<div class="form-group">
						<div>
							<strong>Comment :</strong>
						</div>
						<div>
							<textarea id="comment" name="editor1" rows="10" cols="80"
								autocomplete="on">
                                            
                                             </textarea>
						</div>
					</div>
				</div>

			</div>
		</div>
	</div>
	
	<!-- Forward To Section - Auditor Requisition Modal -->
	<div id="adtrRequisitionFrwdSecModal" class="modal fade" role="dialog">
		<div class="modal-dialog">
			<!-- Modal content-->
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title" id="modal-title-id">Request</h4>
					<button type="button" class="close" data-dismiss="modal">
						<i class="fa fa-close fa-2x" style="color: #FFF; cursor: pointer;"></i>
					</button>
				</div>
				<div class="row">
					<div class="col-md-4">
						<button type="button" class="btn btn-success" id="modalsave" onclick="modaldraft('1')">Save</button>
						<button type="button" class="btn btn-secondary"
							onclick="modalrequisition()">Send</button>
						<!-- <button type="button" class="btn btn-primary" id="sendDoc">Send</button> -->
						<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
					</div>
					
					<div class="col-md-4">
						<div class="row">
							<div class="col-md-6" align="right">Section:</div>
							<div class="col-md-6">
								<select id="modalsection" class="form-control">
									<option th:each="c,iter:${initiateAudit}" th:value='${c.auditAutoGenId}'
										th:text="${c.auditee}"></option>
								</select>
							</div>
						</div>
					</div>
					
					<div class="col-md-4">
						<div class="row">
							<div class="col-md-6" align="right">Priority:</div>
							<div class="col-md-6">
								<select id="modalpriorityReply" class="form-control">
									<option th:each="c,iter:${getPriorityList}" th:value='${c.key}'
										th:text="${c.name}"></option>
								</select>
							</div>
						</div>
					</div>
				</div>
				 <input type="hidden"id="modaldraftHiddenId">

				<div class="modal-body">
					<div class="row">
						<div class="col-md-6">
							<div>To:</div>
							<select id="modalautocomplete-select" multiple class="chosen-select chosen-sortable">
								<option th:each="c,iter:${empList}" th:value='${c.key}'
									th:text="${c.name}"></option>

							</select> <input type="hidden" id="modaltoHiddenId">

						</div>
						<div class="col-md-6">
							<div>Cc:</div>
							<select id="modalautocomplete-select1" multiple class="chosen-select chosen-sortable">
								<option th:each="c,iter:${empList}" th:value='${c.key}'
									th:text="${c.name}"></option>

							</select> <input type="hidden" id="modalCcHiddenId">


						</div>

					</div>
					<div class="row">
						<div class="col-md-12">
							<div>Subject:</div>
							<input type="text" id="modalsubjectCoRequisition" class="form-control"
								placeholder="Write Your Subject Here....."
								style="width: 100%; height: 40px">


						</div>
					</div>

					<div style="overflow-y: scroll; height: 100px;">
						<table class="modaltbll tblls" id="modalmyTable" width="100%" border="0"
							cellspacing="0" cellpadding="0">
							<thead>
								<tr>
									<th width="120" align="left">Document Name</th>
									<th width="520" align="left">Upload</th>
									<th width="520" align="left">Comment</th>
									<th align="right">Action</th>
								</tr>
							</thead>
							<tbody id="modaltbodyData">
								<tr class="tr_clone" id="row">
									<td width="300"><input type="text"
										class="form-control modalreqDocNameCls" id="modalreqDocName_"></td>
									<td width="320">


										<div class="row" id="modalrowId_0">
											<div id="modalrow2_0"
												style="text-align: right; padding-left: 50px; padding-top: 10px;">
												<div class="text modalcoReqFileCls" id="modalcoReqFile_0"></div>
											</div>

											<div class="upload-btn-wrapper">
												<label class="custom-file-upload" for="mulDocAtta"><i
													class="fa fa-cloud-upload"></i>Document</label> <input type="file"
													class="modalmulDoc" id="modaldoc_0" style="display: block;"
													onchange="modalsaveFileAssign(event);checkImageFormat(this);">


											</div>

										</div>

									</td>
									<td width="300"><textarea
											class="form-control modalreqCommentCls" id="modalreqComment_0"
											autocomplete="on"></textarea><input type="hidden" class="modaleditdocname" id="modaleditdoc_0"></td>
									<td align="Right" width="200">
										<button type="button" class="btn btn-primary tr_clone_add"
											name="add" onclick="modaladdMoreCheck();">
											<span class="ti-plus"></span>
										</button>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
					<div class="form-group">
						<div>
							<strong>Comment :</strong>
						</div>
						<div>
							<textarea id="modalcomment" name="editor1" rows="10" cols="80"
								autocomplete="on">
                                            
                                             </textarea>
						</div>
					</div>
				</div>

			</div>
		</div>
	</div>
	<!--   modal end -->

	<!-- Modal Start-->
	<div id="assign" class="modal fade" role="dialog">
		<div class="modal-dialog">
			<!-- Modal content-->
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title" id="modal-title-id">Assign</h4>
					<button type="button" class="close" data-dismiss="modal">
						<i class="fa fa-close fa-2x" style="color: #FFF; cursor: pointer;"></i>
					</button>
				</div>

				<div class="row" style="padding: 0px 6px;">
					<div class="col-md-6">
						<button type="button" class="btn btn-success" id="saveassign"
							value="Save">Save</button>
						<button type="button" class="btn btn-secondary"
							onclick="assignToConcern()">Send</button>
						<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
					</div>

					<div class="col-md-6">
						<div class="row">
							<div class="col-md-6" align="right">Priority:</div>
							<div class="col-md-6">
								<select id="priorityReply" class="form-control">
									<option th:each="c,iter:${getPriorityList}" th:value='${c.key}'
										th:text="${c.name}"></option>
								</select>
							</div>
						</div>
					</div>
				</div>

				<input type="hidden" id="assignId"> <input type="hidden"
					id="identifierAssign">
				<div class="modal-body">

					<div class="row">
						<div class="col-md-6">

							<div>To:</div>
							<select id="autocomplete-select31" multiple class="chosen-select chosen-sortable">
								<option th:each="c,iter:${empList}" th:value='${c.key}'
									th:text="${c.name}"></option>

							</select> <input type="hidden" id="toHiddenId2">
						</div>
						<div class="col-md-6">
							<div>Cc:</div>
							<select id="autocomplete-select32" multiple class="chosen-select chosen-sortable">
								<option th:each="c,iter:${empList}" th:value='${c.key}'
									th:text="${c.name}"></option>

							</select> <input type="hidden" id="CcHiddenId2">

						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<div>Subject:</div>
							<input type="text" id="subjectAssignReq" class="form-control"
								placeholder="Write Your Subject Here....."
								style="width: 100%; height: 40px">


						</div>
					</div>
					<div style="padding: 10px;">
						<table class="tbllAssignReq tblls" id="myTableAssignReq"
							width="100%" border="0" cellspacing="0" cellpadding="0">
							<thead>
								<tr>
									<th width="120" align="left">Document Name</th>
									<th width="520" align="left">Upload</th>
									<th width="520" align="left">Comment</th>
									<th align="right">Action</th>
								</tr>
							</thead>
							<tbody id="tbodyDataAssignReq">
								<tr class="tr_clone" id="row">
									<td width="300"><input type="text"
										class="form-control reqAssignDocNameCls"
										id="reqAssignDocName_0"></td>
									<td width="320">

										<div class="row" id="rowId_0">
											<div id="row2_0"
												style="text-align: right; padding-left: 50px; padding-top: 10px;">
												<div class="text assignHoCls" id="assignHo_0"></div>
											</div>

											<div class="upload-btn-wrapper">
												<label class="custom-file-upload" for="mulDocAtta"><i
													class="fa fa-cloud-upload"></i>Document</label> <input type="file"
													class="mulDocAssignReq" id="docAssignReq_0"
													style="display: block;"
													onchange="saveFileAssign(event);checkImageFormat(this);">
											</div>
										</div>
									</td>
									<td width="300"><textarea
											class="form-control reqAssignCommentCls"
											id="reqAssignComment_0" autocomplete="on"></textarea></td>
									<td align="Right" width="200">
										<button type="button" class="btn btn-primary tr_clone_add"
											name="add" onclick="moreAssignCheck();">
											<span class="ti-plus"></span>
										</button>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
					<div class="form-group" style="padding: 10px;">
						<div>
							<strong>Comment :</strong>
						</div>
						<div>
							<textarea id="assignComment" name="assignComment" rows="10"
								cols="80" autocomplete="on">
                                             </textarea>
						</div>
					</div>
				</div>

			</div>
		</div>
	</div>


	<!--  <modal start> -->
	<!-- Modal Start-->
	<div id="remark" class="modal fade" role="dialog">
		<div class="modal-dialog">
			<!-- Modal content-->
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title" id="modal-title-id">Remark</h4>
					<button type="button" class="close" data-dismiss="modal">
						<i class="fa fa-close fa-2x" style="color: #FFF; cursor: pointer;"></i>
					</button>
				</div>
				<div>
					<!-- <button type="button" class="btn btn-success" id="save">save</button> -->
					<button type="button" class="btn btn-secondary"
						onclick="sendRemark()">Send</button>
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>
				<input type="hidden" id="initiateRemark"> <input
					type="hidden" id="auditRemark">
				<div class="modal-body">

					<div class="row">
						<div class="col-md-6">

							<div>To:</div>
							<select id="autocomplete-select51" multiple class="chosen-select chosen-sortable">
								<option th:each="c,iter:${empList}" th:value='${c.key}'
									th:text="${c.name}"></option>

							</select> <input type="hidden" id="toHiddenId4">
						</div>
						<div class="col-md-6">
							<div>Cc:</div>
							<select id="autocomplete-select52" multiple class="chosen-select chosen-sortable">
								<option th:each="c,iter:${empList}" th:value='${c.key}'
									th:text="${c.name}"></option>

							</select> <input type="hidden" id="CcHiddenId4">

						</div>
					</div>
					<table class="tbllRemark tblls" id="myTableRemark" width="100%"
						border="0" cellspacing="0" cellpadding="0">
						<thead>
							<tr>
								<th width="120" align="left">Document Name</th>
								<th width="520" align="left">Upload</th>
								<th width="520" align="left">Comment</th>
								<th align="right">Action</th>
							</tr>
						</thead>
						<tbody id="tbodyDataRemark">
							<tr class="tr_clone" id="row">
								<td width="300"><input type="text"
									class="form-control remarkDocNameCls" id="remarkDocName_0">
								</td>
								<td width="320">

									<div class="row" id="rowId_0">
										<div id="row2_0"
											style="text-align: right; padding-left: 50px; padding-top: 10px;">
											<div class="text remarkCls" id="remark_0"></div>
										</div>

										<div class="upload-btn-wrapper">
											<label class="custom-file-upload" for="mulDocAtta"><i
												class="fa fa-cloud-upload"></i>Document</label> <input type="file"
												class="remarkDocCls" id="remarkDoc_0"
												style="display: block;"
												onchange="saveFileAssign(event);checkImageFormat(this);">
										</div>
									</div>
								</td>
								<td width="300"><textarea type="text"
										class="form-control remarkCommentCls" id="remarkComment_0"
										autocomplete="on"></textarea></td>
								<td align="Right" width="200">
									<button type="button" class="btn btn-primary tr_clone_add"
										name="add" onclick="moreRemark();">
										<span class="ti-plus"></span>
									</button>
								</td>
							</tr>
						</tbody>
					</table>
					<div class="form-group">
						<div>
							<strong>Comment :</strong>
						</div>
						<div>
							<textarea id="remarkComment" name="remarkComment" rows="10"
								cols="80" autocomplete="on">
                                             </textarea>
						</div>
					</div>
				</div>

			</div>
		</div>
	</div>
	<!--   <modal end > -->
	<!-- 	<forwardRequisitionByCo>	 -->
	<div id="forwardRequisitionByCo" class="modal fade" role="dialog">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title" id="modal-title-id">Forward</h4>
					<button type="button" class="close" data-dismiss="modal">
						<i class="fa fa-close fa-2x" style="color: #FFF; cursor: pointer;"></i>
					</button>
				</div>
				<div>
					<span id="buttonName"></span>
					<button type="submit" class="btn btn-success" id="saveResponse3"
						onclick="modalauditordraft('2')">Save</button>
<!-- 					<button type="submit" class="btn btn-success" id="saveResponse3"
						onclick="responsebuttonfun(event);">Save</button> -->
					<button type="button" class="btn btn-secondary"
						onclick="forwardRequisitionSubmit()">Send</button>
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>
				<div class="modal-body">
					<input type="hidden" id="adtfrwrddraftHiddenId">
					<div class="row">
						<div class="col-md-6">

							<div>To:</div>
							<select id="autocomplete-select41" multiple class="chosen-select chosen-sortable">
								<option th:each="c,iter:${empList}" th:value='${c.key}'
									th:text="${c.name}"></option>

							</select> <input type="hidden" id="toHiddenId3">
						</div>
						<div class="col-md-6">
							<div>Cc:</div>
							<select id="autocomplete-select42" multiple class="chosen-select chosen-sortable">
								<option th:each="c,iter:${empList}" th:value='${c.key}'
									th:text="${c.name}"></option>

							</select> <input type="hidden" id="CcHiddenId3">

						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<div>Subject:</div>
							<input type="text" id="subjectCoForward" class="form-control"
								placeholder="Write Your Subject Here....."
								style="width: 100%; height: 40px">


						</div>
					</div>

					<input type="hidden" id="reqForward" /> <input type="hidden"
						id="initiateForward" />
					<table class="tbllForward tblls" id="myTableForward" width="100%"
						border="0" cellspacing="1" cellpadding="5">
						<thead>
							<tr>
								<th width="120" align="left">Document Name</th>
								<th width="520" align="left">Upload Document</th>
								<th width="520" align="left">Comment</th>
								<th align="right">Action</th>
							</tr>
						</thead>
						<tbody id="tbodyDataForward">
							<tr class="tr_clone" id="row">
								<td width="300"><input type="text"
									class="form-control forwardDocNameCls" id="forwardDocName_0">
								</td>
								<td width="320">

									<div class="row" id="rowId_0">
										<div id="row2_0"
											style="text-align: right; padding-left: 50px; padding-top: 10px;">
											<div class="text docFwdCls" id="docfwd_0"></div>
										</div>

										<div class="upload-btn-wrapper">
											<label class="custom-file-upload" for="mulDocAtta"><i
												class="fa fa-cloud-upload"></i>Document</label> <input type="file"
												class="mulDocForward" id="docForward_0"
												style="display: block;"
												onchange="saveFileAssign(event);checkImageFormat(this);">
										</div>
									</div>

								</td>
								<td width="300"><textarea
										class="form-control forwardCommentCls" id="forwardComment_0" 
										autocomplete="on"></textarea><input type="hidden" class="editDocumentForward" id="editDocForward_0" value=""></td>
								<td align="Right" width="200">
									<button type="button" class="btn btn-primary tr_clone_add"
										name="add" onclick="moreForwardCheck();">
										<span class="ti-plus"></span>
									</button>
								</td>
							</tr>
						</tbody>
					</table>
					<div class="form-group">
						<label>Comment :</label>
						<div class="box-body pad">
							<textarea id="commentForward" class="form-control textarea"
								name="commentForward" rows="10" cols="80" autocomplete="on">
                                             </textarea>
						</div>
					</div>
				</div>

			</div>
		</div>
	</div>

	<div id="forwardPOMByCo" class="modal fade" role="dialog">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title" id="modal-title-id">Forward</h4>
					<button type="button" class="close" data-dismiss="modal">
						<i class="fa fa-close fa-2x" style="color: #FFF; cursor: pointer;"></i>
					</button>
				</div>
				<div>
					<span id="buttonName"></span>
					<button type="submit" class="btn btn-success" id="saveResponse4"
						onclick="responsebuttonfun1(event);">Save</button>
					<button type="button" class="btn btn-secondary"
						onclick="forwardPOMSubmit()">Send</button>
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>
				<div class="modal-body">
					<div class="row">
						<div class="col-md-6">

							<div>To:</div>
							<select id="autocomplete-selectPOM" multiple class="chosen-select chosen-sortable">
								<option th:each="c,iter:${empList}" th:value='${c.key}'
									th:text="${c.name}"></option>

							</select> <input type="hidden" id="toHiddenIdPOM">
						</div>
						<div class="col-md-6">
							<div>Cc:</div>
							<select id="autocomplete-selectPOM1" multiple class="chosen-select chosen-sortable">
								<option th:each="c,iter:${empList}" th:value='${c.key}'
									th:text="${c.name}"></option>

							</select> <input type="hidden" id="CcHiddenIdPOM">

						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<div>Subject:</div>
							<input type="text" id="subjectCoPOM" class="form-control"
								placeholder="Write Your Subject Here....."
								style="width: 100%; height: 40px">


						</div>
					</div>

					<input type="hidden" id="POMForward" /> <input type="hidden"
						id="initiatePOMForward" />
					<table class="tbllPOMForward tblls" id="myTablePOM" width="100%"
						border="0" cellspacing="1" cellpadding="5">
						<thead>
							<tr>
								<th width="120" align="left">Document Name</th>
								<th width="520" align="left">Upload Document</th>
								<th width="520" align="left">Comment</th>
								<th align="right">Action</th>
							</tr>
						</thead>
						<tbody id="tbodyDataForwardPOM">
							<tr class="tr_clone" id="row">
								<td width="300"><input type="text"
									class="form-control forwardPOMDocNameCls"
									id="forwardPOMDocName_0"></td>
								<td width="320">

									<div class="row" id="rowId_0">
										<div id="row2_0"
											style="text-align: right; padding-left: 50px; padding-top: 10px;">
											<div class="text docFwdCls" id="docPOMfwd_0"></div>
										</div>

										<div class="upload-btn-wrapper">
											<label class="custom-file-upload" for="mulDocAtta"><i
												class="fa fa-cloud-upload"></i>Document</label> <input type="file"
												class="mulDocPOMForward" id="docPOMForward_0"
												style="display: block;"
												onchange="saveFileAssign(event);checkImageFormat(this);">
										</div>
									</div>

								</td>
								<td width="300"><textarea
										class="form-control forwardPOMCommentCls"
										id="forwardPOMComment_0" autocomplete="on"></textarea></td>
								<td align="Right" width="200">
									<button type="button" class="btn btn-primary tr_clone_add"
										name="add" onclick="morePOMForwardCheck();">
										<span class="ti-plus"></span>
									</button>
								</td>
							</tr>
						</tbody>
					</table>
					<div class="form-group">
						<label>Comment :</label>
						<div class="box-body pad">
							<textarea id="commentPOMForward" class="form-control textarea"
								name="commentForward" rows="10" cols="80" autocomplete="on">
                                             </textarea>
						</div>
					</div>
				</div>

			</div>
		</div>
	</div>
	<div id="forwardIRSByCo" class="modal fade" role="dialog">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title" id="modal-title-id">Forward</h4>
					<button type="button" class="close" data-dismiss="modal">
						<i class="fa fa-close fa-2x" style="color: #FFF; cursor: pointer;"></i>
					</button>
				</div>
				<div>
					<span id="buttonName"></span>
					<button type="submit" class="btn btn-success" id="saveResponse5"
						onclick="responsebuttonfun(event);">Save</button>
					<button type="button" class="btn btn-secondary"
						onclick="forwardIRSSubmit()">Send</button>
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>
				<div class="modal-body">
					<div class="row">
						<div class="col-md-6">

							<div>To:</div>
							<select id="autocomplete-selectIRS" multiple class="chosen-select chosen-sortable">
								<option th:each="c,iter:${empList}" th:value='${c.key}'
									th:text="${c.name}"></option>

							</select> <input type="hidden" id="toHiddenIdIRS">
						</div>
						<div class="col-md-6">
							<div>Cc:</div>
							<select id="autocomplete-selectIRS1" multiple class="chosen-select chosen-sortable">
								<option th:each="c,iter:${empList}" th:value='${c.key}'
									th:text="${c.name}"></option>

							</select> <input type="hidden" id="CcHiddenIdIRS">

						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<div>Subject:</div>
							<input type="text" id="subjectCoIRS" class="form-control"
								placeholder="Write Your Subject Here....."
								style="width: 100%; height: 40px">


						</div>
					</div>

					<input type="hidden" id="IRSForward" /> <input type="hidden"
						id="initiateIRSForward" />
					<table class="tbllIRSForward tblls" id="myTableIRS" width="100%"
						border="0" cellspacing="1" cellpadding="5">
						<thead>
							<tr>
								<th width="120" align="left">Document Name</th>
								<th width="520" align="left">Upload Document</th>
								<th width="520" align="left">Comment</th>
								<th align="right">Action</th>
							</tr>
						</thead>
						<tbody id="tbodyDataForwardIRS">
							<tr class="tr_clone" id="row">
								<td width="300"><input type="text"
									class="form-control forwardIRSDocNameCls"
									id="forwardIRSDocName_0"></td>
								<td width="320">

									<div class="row" id="rowId_0">
										<div id="row2_0"
											style="text-align: right; padding-left: 50px; padding-top: 10px;">
											<div class="text docFwdCls" id="docIRSfwd_0"></div>
										</div>

										<div class="upload-btn-wrapper">
											<label class="custom-file-upload" for="mulDocAtta"><i
												class="fa fa-cloud-upload"></i>Document</label> <input type="file"
												class="mulDocIRSForward" id="docIRSForward_0"
												style="display: block;"
												onchange="saveFileAssign(event);checkImageFormat(this);">
										</div>
									</div>

								</td>
								<td width="300"><textarea
										class="form-control forwardIRSCommentCls"
										id="forwardIRSComment_0" autocomplete="on"></textarea></td>
								<td align="Right" width="200">
									<button type="button" class="btn btn-primary tr_clone_add"
										name="add" onclick="moreIRSForwardCheck();">
										<span class="ti-plus"></span>
									</button>
								</td>
							</tr>
						</tbody>
					</table>
					<div class="form-group">
						<label>Comment :</label>
						<div class="box-body pad">
							<textarea id="commentIRSForward" class="form-control textarea"
								name="commentForward" rows="10" cols="80" autocomplete="on">
                                             </textarea>
						</div>
					</div>
				</div>

			</div>
		</div>
	</div>
	<div id="forwardParaByCo" class="modal fade" role="dialog">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title" id="modal-title-id">Forward</h4>
					<button type="button" class="close" data-dismiss="modal">
						<i class="fa fa-close fa-2x" style="color: #FFF; cursor: pointer;"></i>
					</button>
				</div>
				<div>
					<span id="buttonName"></span>
					<button type="submit" class="btn btn-success" id="saveResponse6"
						onclick="responsebuttonfun(event);">Save</button>
					<button type="button" class="btn btn-secondary"
						onclick="forwardParaSubmit()">Send</button>
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>
				<div class="modal-body">
					<div class="row">
						<div class="col-md-6">

							<div>To:</div>
							<select id="autocomplete-selectPARA" multiple class="chosen-select chosen-sortable">
								<option th:each="c,iter:${empList}" th:value='${c.key}'
									th:text="${c.name}"></option>

							</select> <input type="hidden" id="toHiddenIdPARA">
						</div>
						<div class="col-md-6">
							<div>Cc:</div>
							<select id="autocomplete-selectPARA1" multiple class="chosen-select chosen-sortable">
								<option th:each="c,iter:${empList}" th:value='${c.key}'
									th:text="${c.name}"></option>

							</select> <input type="hidden" id="CcHiddenIdPARA">

						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<div>Subject:</div>
							<input type="text" id="subjectCoPara" class="form-control"
								placeholder="Write Your Subject Here....."
								style="width: 100%; height: 40px">


						</div>
					</div>

					<input type="hidden" id="paraForward" /> <input type="hidden"
						id="initiateParaForward" />
					<table class="tbllParaForward tblls" id="myTablePara" width="100%"
						border="0" cellspacing="1" cellpadding="5">
						<thead>
							<tr>
								<th width="120" align="left">Document Name</th>
								<th width="520" align="left">Upload Document</th>
								<th width="520" align="left">Comment</th>
								<th align="right">Action</th>
							</tr>
						</thead>
						<tbody id="tbodyDataForwardPara">
							<tr class="tr_clone" id="row">
								<td width="300"><input type="text"
									class="form-control forwardParaDocNameCls"
									id="forwardParaDocName_0"></td>
								<td width="320">

									<div class="row" id="rowId_0">
										<div id="row2_0"
											style="text-align: right; padding-left: 50px; padding-top: 10px;">
											<div class="text docFwdParaCls" id="docParafwd_0"></div>
										</div>

										<div class="upload-btn-wrapper">
											<label class="custom-file-upload" for="mulDocAtta"><i
												class="fa fa-cloud-upload"></i>Document</label> <input type="file"
												class="mulDocParaForward" id="docParaForward_0"
												style="display: block;"
												onchange="saveFileAssign(event);checkImageFormat(this);">
										</div>
									</div>

								</td>
								<td width="300"><textarea
										class="form-control forwardParaCommentCls"
										id="forwardParaComment_0" autocomplete="on"></textarea></td>
								<td align="Right" width="200">
									<button type="button" class="btn btn-primary tr_clone_add"
										name="add" onclick="moreParaForwardCheck();">
										<span class="ti-plus"></span>
									</button>
								</td>
							</tr>
						</tbody>
					</table>
					<div class="form-group">
						<label>Comment :</label>
						<div class="box-body pad">
							<textarea id="commentParaForward" class="form-control textarea"
								name="commentParaForward" rows="10" cols="80" autocomplete="on">
                                             </textarea>
						</div>
					</div>
				</div>

			</div>
		</div>
	</div>

	<!--   <modal Start > -->
	<div id="responseReply" class="modal fade" role="dialog">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title" id="modal-title-id">Response</h4>
					<button type="button" class="close" data-dismiss="modal">
						<i class="fa fa-close fa-2x" style="color: #FFF; cursor: pointer;"></i>
					</button>
				</div>
				<div class="col-md-12">
					<span id="buttonName"></span>
					<button type="submit" class="btn btn-success" id="saveResponse"
						value="Save">Save</button>
					<button
						th:if="${#lists.contains(session.USER_ROLES, 'rol023')|| #lists.contains(session.USER_ROLES, 'rol032')} "
						type="button" class="btn btn-secondary"
						onclick="reqForwardBysec()">Send</button>
					<button
						th:if="${#lists.contains(session.USER_ROLES, 'rol031')||#lists.contains(session.USER_ROLES, 'rol033')} "
						type="button" class="btn btn-secondary"
						onclick="responseReqReply()">Send</button>
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>

				<div class="modal-body">
					<div class="row">
						<div class="col-md-6">

							<div>To:</div>
							<select id="autocomplete-select21" multiple class="chosen-select chosen-sortable">
								<option th:each="c,iter:${empList}" th:value='${c.key}'
									th:text="${c.name}"></option>

							</select> <input type="hidden" id="toHiddenId1">
						</div>
						<div class="col-md-6">
							<div>Cc:</div>
							<select id="autocomplete-select22" multiple class="chosen-select chosen-sortable">
								<option th:each="c,iter:${empList}" th:value='${c.key}'
									th:text="${c.name}"></option>

							</select> <input type="hidden" id="CcHiddenId1">

						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<div>Subject:</div>
							<input type="text" id="subjectReply" class="form-control"
								placeholder="Write Your Subject Here....."
								style="width: 100%; height: 40px">


						</div>
					</div>
					<input type="hidden" id="reqResponse" /> <input type="hidden"
						id="identifierRes" /> <input type="hidden" id="reqSection" />
					<div style="padding: 0px 10px;">
						<table class="tbllResponse tblls" id="myTableRes" width="100%"
							border="0" cellspacing="1" cellpadding="5">
							<thead>
								<tr>
									<th width="120" align="left">Document Name</th>
									<th width="520" align="left">Upload</th>
									<th width="520" align="left">Comment</th>
									<th align="right">Action</th>
								</tr>
							</thead>
							<tbody id="tbodyDataRes">
								<tr class="tr_clone" id="row">
									<td width="300"><input type="text"
										class="form-control resDocNameCls" id="resDocName_0">
									</td>
									<td width="320">


										<div class="row" id="rowId_0">
											<div id="row2_0" style="text-align: right;">
												<div class="text replyHoCls" id="replyHo_0"></div>
											</div>

											<div class="upload-btn-wrapper">
												<label class="custom-file-upload" for="mulDocAtta"><i
													class="fa fa-cloud-upload"></i>Document</label> <input type="file"
													class="mulDocRes" id="docRes_0" style="display: block;"
													onchange="saveFileAssign(event);checkImageFormat(this);">


											</div>

										</div>


									</td>
									<td width="300"><textarea
											class="form-control resCommentCls" id="resComment_0"
											autocomplete="on"></textarea></td>
									<td align="Right" width="200">
										<button type="button" class="btn btn-primary tr_clone_add"
											name="add" onclick="moreResponseCheck();">
											<span class="ti-plus"></span>
										</button>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
					<div class="form-group" style="padding: 10px;">
						<label>Comment :</label>
						<div class="box-body pad">
							<textarea id="commentRes" class="form-control textarea"
								name="commentRes" rows="10" cols="80" autocomplete="on">
                                             </textarea>
						</div>
					</div>
				</div>

			</div>
		</div>
	</div>
	<!-- modal end -->
	<div id="rejectModel" class="modal fade" role="dialog">
		<div class="modal-dialog">
			<!-- Modal content-->
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title" id="modal-title-id">Write Here</h4>
					<button type="button" class="close" data-dismiss="modal">
						<i class="fa fa-close fa-2x"></i>
					</button>
				</div>
				<div class="" id="buttonName">
					<button type="button" class="btn btn-secondary"
						onclick="rejectToConcern()">Send Back</button>
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>
				<div class="modal-body">
					<div class="row">
						<div class="col-md-6">

							<div>To:</div>
							<select id="autocomplete-select111" multiple class="chosen-select chosen-sortable">
								<option th:each="c,iter:${empList}" th:value='${c.key}'
									th:text="${c.name}"></option>

							</select> <input type="hidden" id="toHiddenId10">
						</div>
						<div class="col-md-6">
							<div>Cc:</div>
							<select id="autocomplete-select112" multiple class="chosen-select chosen-sortable">
								<option th:each="c,iter:${empList}" th:value='${c.key}'
									th:text="${c.name}"></option>

							</select> <input type="hidden" id="CcHiddenId10">

						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<div>Subject:</div>
							<input type="text" id="subjectRejectReq" class="form-control"
								placeholder="Write Your Subject Here....."
								style="width: 100%; height: 40px">


						</div>
					</div>
					<input type="hidden" id="audit"> <input type="hidden"
						id="sendbackReqId">
					<table class="tbllSendBack tblls" id="myTableSendBack" width="100%"
						border="0" cellspacing="1" cellpadding="5">
						<thead>
							<tr>
								<th width="120" align="left">Document Name</th>
								<th width="520" align="left">Upload</th>
								<th width="520" align="left">Comment</th>
								<th align="right">Action</th>
							</tr>
						</thead>
						<tbody id="tbodyDataSendBack">
							<tr class="tr_clone" id="row">
								<td width="300"><input type="text"
									class="form-control SendBackDocNameCls" id="SendBackDocName_0">
								</td>
								<td width="320">

									<div class="row" id="rowId_0">
										<div id="row2_0"
											style="text-align: right; padding-left: 50px; padding-top: 10px;">
											<div class="text SendBackImgCls" id="SendBackImg_0"></div>
										</div>

										<div class="upload-btn-wrapper">
											<label class="custom-file-upload" for="mulDocAtta"><i
												class="fa fa-cloud-upload"></i>Document</label> <input type="file"
												class="mulDocSendBack" id="docSendBack_0"
												style="display: block;"
												onchange="saveFileAssign(event);checkImageFormat(this);">
										</div>
									</div>



								</td>
								<td width="300"><textarea
										class="form-control SendBackCommentCls" id="SendBackComment_0"
										autocomplete="on"></textarea></td>
								<td align="Right" width="200">
									<button type="button" class="btn btn-primary tr_clone_add"
										name="add" onclick="moreSendBackCheck();">
										<span class="ti-plus"></span>
									</button>
								</td>
							</tr>
						</tbody>
					</table>

					<div class="form-group">
						<label>Send Back Reason :</label>
						<div class="box-body pad">
							<textarea class="form-control rejectReqCls" id="rejectReq"
								rows="4" autocomplete="on"></textarea>
						</div>
					</div>
				</div>

			</div>
		</div>
	</div>
	<div id="observationmodal" class="modal fade" role="dialog">
		<div class="modal-dialog">
			<!-- Modal content-->
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title" id="modal-title-id">Add Observation</h4>
					<button type="button" class="close" data-dismiss="modal">
						<i class="fa fa-close fa-2x" style="color: #FFF; cursor: pointer;"></i>
					</button>
				</div>
				<input type="hidden" id="questionID"> <input type="hidden"
					id="auditObsID">
				<div class="modal-body">
					<div>
						<button type="button" class="btn btn-secondary"
							id="submitObservation">Send</button>
						<!-- <button type="button" class="btn btn-primary" id="sendDoc">Send</button> -->
						<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
					</div>
					<div class="row">
						<div class="col-lg-12">
							<div class="stylishrow" id="row">
								<div class="row">

									<div class="col-md-6">
										<div>
											<strong>Observation</strong>
										</div>
										<div>
											<textarea class="form-control textarea obsCls" rows="4"
												cols="50" autocomplete="on">
                                                         </textarea>
										</div>
										<!--   <div class="upload-btn-wrapper" id="obsDocDiv">
                                                         <a href="#"><i class="fa fa-cloud-upload"></i><strong>&nbsp;Upload
                                                         Document</strong> <input type="file" class="document"
                                                            style="display: block;" id="obsDoc"
                                                            onchange="saveObsFile(event)" /> 
                                                         </a>
                                                      </div> -->
										<!--  <span align="center" class="uploadedBillCls"></span> -->
									</div>
									<div class="col-md-3">
										<div>
											<strong>Observation Type</strong>
										</div>
										<div>
											<select class="form-control obsTypeCls" id="obsTypeId">
												<option value=0>Select</option>
												<option value=2>POM</option>
												<option value=1>Draft</option>
												<option value=3>Final</option>
											</select>
										</div>
									</div>
									<div class="col-md-2">
										<div>
											<strong>Severity</strong>
										</div>
										<select class="form-control severityCls" id="severity">
											<option value=null>Select</option>
											<option value=1>Blocker</option>
											<option value=2>High</option>
											<option value=3>Medium</option>
											<option value=4>Low</option>
										</select>
									</div>

								</div>

								<div class="row">

									<div class="col-md-5">
										<div>
											<strong>Document Name</strong>
										</div>
										<input type="text" class="form-control obsDocNameCls"
											id="obsDocName">
									</div>
									<div class="col-md-3">
										<div>
											<strong>Upload</strong>
										</div>
										<div class="row" id="rowId_0">
											<div id="row2_0"
												style="text-align: right; padding-left: 50px; padding-top: 10px;">
												<div class="text ObsImgCls" id="ObsImg"></div>
											</div>

											<div class="upload-btn-wrapper">
												<label class="custom-file-upload" for="mulDocAtta"><i
													class="fa fa-cloud-upload"></i>Document</label> <input type="file"
													class="document" id="obsDoc" style="display: block;"
													onchange="saveObsFile(event);checkImageFormat(this);">
											</div>
										</div>
									</div>
									<div class="col-md-4">
										<div>
											<strong>Comment</strong>
										</div>
										<textarea class="form-control ObsCommentCls" id="ObsComment"
											autocomplete="on"></textarea>
									</div>
								</div>



							</div>


						</div>
					</div>




				</div>
			</div>

		</div>
	</div>



	<!-- <deviation Modal> -->


	<div id="observationDeviationModal" class="modal fade" role="dialog">
		<div class="modal-dialog">
			<!-- Modal content-->
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title" id="modal-title-id">Add Deviations</h4>
					<button type="button" class="close" data-dismiss="modal">
						<i class="fa fa-close fa-2x" style="color: #FFF; cursor: pointer;"></i>
					</button>
				</div>

				<input type="hidden" id="regionID"> <input type="hidden"
					id="auditDevID"> <input type="hidden" id="deptID">
				<input type="hidden" id="initiateDevID">
				<div class="modal-body" style="padding: 8px;">
					<div>
						<button type="button" class="btn btn-secondary"
							id="submitDeviationObservation">Send</button>
						<!-- <button type="button" class="btn btn-primary" id="sendDoc">Send</button> -->
						<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
					</div>
					<div class="row">
						<div class="col-lg-12">
							<div class="stylishrow" id="row">
								<div class="row">

									<div class="col-md-3">




										<div class="row" id="rowId_0">

											<div id="row2_0"
												style="text-align: right; padding-left: 50px; padding-top: 10px;">
												<div class="text ObsImgDevCls" id="ObsImgDev"></div>
											</div>

											<div class="upload-btn-wrapper" style="top: 13px;">
												<label class="custom-file-upload" for="mulDocAtta"><i
													class="fa fa-cloud-upload"></i>Document</label> <input type="file"
													class="DevDocument" id="obsDevDoc_0"
													style="display: block;"
													onchange="saveFileAssign(event);checkImageFormat(this);">
											</div>
										</div>

									</div>
									<div class="col-md-3">
										<div>
											<strong>Observation Type</strong>
										</div>
										<div>
											<select class="form-control obsDevTypeCls" id="obsDevTypeId">
												<option value=0>Select</option>
												<option value=2>POM</option>
												<option value=1>Draft</option>
												<option value=3>Final</option>
											</select>
										</div>
									</div>
									<div class="col-md-3">
										<div>
											<strong>Severity</strong>
										</div>
										<select class="form-control severityDevCls" id="DevSeverity">
											<option value=null>Select</option>
											<option value=1>Blocker</option>
											<option value=2>High</option>
											<option value=3>Medium</option>
											<option value=4>Low</option>
										</select>
									</div>
									<div class="col-md-3">
										<div>
											<strong>Check List Ref No.</strong>
										</div>
										<input type="text" id="checklistRef">
									</div>

									<div class="col-md-12">
										<strong>Observation:</strong>
										<textarea class="form-control textarea obsDevCls"
											autocomplete="on">
                                                         </textarea>
									</div>
								</div>
							</div>
						</div>

					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- Modal Start-->
	<div id="assignCompliance" class="modal fade" role="dialog">
		<div class="modal-dialog">
			<!-- Modal content-->
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title" id="modal-title-id">Compliance</h4>
					<button type="button" class="close" data-dismiss="modal">
						<i class="fa fa-close fa-2x" style="color: #FFF; cursor: pointer;"></i>
					</button>
				</div>
				<div>
					<button type="button" class="btn btn-secondary"
						onclick="forwardReplyPost();">Send</button>
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>
				<input type="hidden" id="auditObsId"> <input type="hidden"
					id="quesIdCompliance">

				<div class="modal-body">

					<div class="row">
						<div class="col-md-6">

							<div>To:</div>
							<select id="autocomplete-select61" multiple class="chosen-select chosen-sortable">
								<option th:each="c,iter:${empList}" th:value='${c.key}'
									th:text="${c.name}"></option>

							</select> <input type="hidden" id="toHiddenId5">
						</div>
						<div class="col-md-6">
							<div>Cc:</div>
							<select id="autocomplete-select62" multiple class="chosen-select chosen-sortable">
								<option th:each="c,iter:${empList}" th:value='${c.key}'
									th:text="${c.name}"></option>

							</select> <input type="hidden" id="CcHiddenId5">

						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<div>Subject:</div>
							<input type="text" id="subjectAssignObs" class="form-control"
								placeholder="Write Your Subject Here....."
								style="width: 100%; height: 40px">
						</div>
					</div>
					<table class="tbllAssignCompliance tblls" id="myTableAsgCompliance"
						width="100%" border="0" cellspacing="1" cellpadding="5">
						<thead>
							<tr>
								<th width="120" align="left">Document Name</th>
								<th width="520" align="left">Upload</th>
								<th width="520" align="left">Comment</th>
								<th align="right">Action</th>
							</tr>
						</thead>
						<tbody id="tbodyDataAssgnCompliance">
							<tr class="tr_clone" id="row">
								<td width="300"><input type="text"
									class="form-control AsgnComplianceDocNameCls"
									id="AsgnComplianceDocName_0"></td>
								<td width="320">


									<div class="row" id="rowId_0">
										<div id="row2_0"
											style="text-align: right; padding-left: 50px; padding-top: 10px;">
											<div class="text  AsgnComplianceImgCls"
												id="AsgnComplianceImg_0"></div>
										</div>

										<div class="upload-btn-wrapper">
											<label class="custom-file-upload" for="mulDocAtta"><i
												class="fa fa-cloud-upload"></i>Document</label> <input type="file"
												class="mulDocAsgnCompliance" id="docAsgnCompliance_0"
												style="display: block;"
												onchange="saveFileAssign(event);checkImageFormat(this);">
										</div>
									</div>



								</td>
								<td width="300"><textarea
										class="form-control AsgnComplianceCommentCls"
										id="AsgnComplianceComment_0" autocomplete="on"></textarea></td>
								<td align="Right" width="200">
									<button type="button" class="btn btn-primary tr_clone_add"
										name="add" onclick="moreAssignComplianceCheck();">
										<span class="ti-plus"></span>
									</button>
								</td>
							</tr>
						</tbody>
					</table>
					<div class="form-group">
						<div>
							<strong>Comment :</strong>
						</div>
						<div>
							<textarea id="assignObsComment" name="assignObsComment" rows="10"
								cols="80" autocomplete="on">
                                             </textarea>
						</div>
					</div>
				</div>

			</div>
		</div>
	</div>
	<!-- Modal -->
	<!-- Modal  forwardFrmSenior -->
	<div id="forwardFrmSenior" class="modal fade" role="dialog">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title" id="modal-title-id">Forward</h4>
					<button type="button" class="close" data-dismiss="modal">
						<i class="fa fa-close fa-2x" style="color: #FFF; cursor: pointer;"></i>
					</button>
				</div>
				<div class="">
					<button type="button" class="btn btn-success"
						onclick="forwardObsToPerson();">Send</button>
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>
				<div class="modal-body">


					<div class="row">
						<div class="col-md-6">

							<div>To:</div>
							<select id="autocomplete-select131" multiple class="chosen-select chosen-sortable">
								<option th:each="c,iter:${empList}" th:value='${c.key}'
									th:text="${c.name}"></option>

							</select> <input type="hidden" id="toHiddenId12">
						</div>
						<div class="col-md-6">
							<div>Cc:</div>
							<select id="autocomplete-select132" multiple class="chosen-select chosen-sortable">
								<option th:each="c,iter:${empList}" th:value='${c.key}'
									th:text="${c.name}"></option>

							</select> <input type="hidden" id="CcHiddenId12">

						</div>
					</div>
					<table class="tbllFrmSenior tblls" id="myTableFrmSenior"
						width="100%" border="0" cellspacing="1" cellpadding="5">
						<thead>
							<tr>
								<th width="120" align="left">Document Name</th>
								<th width="520" align="left">Upload</th>
								<th width="520" align="left">Comment</th>
								<th align="right">Action</th>
							</tr>
						</thead>
						<tbody id="tbodyDataFrmSenior">
							<tr class="tr_clone" id="row">
								<td width="300"><input type="text"
									class="form-control FrmSeniorDocNameCls"
									id="FrmSeniorDocName_0"></td>
								<td width="320">

									<div class="row" id="rowId_0">
										<div id="row2_0"
											style="text-align: right; padding-left: 50px; padding-top: 10px;">
											<div class="text FrmSeniorImgCls" id="FrmSeniorImg_0"></div>
										</div>

										<div class="upload-btn-wrapper">
											<label class="custom-file-upload" for="mulDocAtta"><i
												class="fa fa-cloud-upload"></i>Document</label> <input type="file"
												class="mulDocFrmSenior" id="docFrmSenior_0"
												style="display: block;"
												onchange="saveFileAssign(event);checkImageFormat(this);">
										</div>
									</div>



								</td>
								<td width="300"><textarea
										class="form-control FrmSeniorCommentCls" autocomplete="on"
										id="FrmSeniorComment_0"></textarea></td>
								<td align="Right" width="200">
									<button type="button" class="btn btn-primary tr_clone_add"
										name="add" onclick="moreFrmSenior();">
										<span class="ti-plus"></span>
									</button>
								</td>
							</tr>
						</tbody>
					</table>


					<div class="form-group">
						<label>Comment :</label>
						<div class="box-body pad">
							<input type="hidden" id="forwardByPersonAudit">
							<div class="box-body pad">
								<textarea id="seniorComment" name="seniorComment" rows="10"
									cols="80" autocomplete="on">
                                                </textarea>
							</div>
						</div>
					</div>
				</div>

			</div>
		</div>
	</div>
	<div id="forwardObservation" class="modal fade" role="dialog">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title" id="modal-title-id">Forward</h4>
					<button type="button" class="close" data-dismiss="modal">
						<i class="fa fa-close fa-2x" style="color: #FFF; cursor: pointer;"></i>
					</button>
				</div>
				<div>
					<span id="buttonName"></span>
					<button type="submit" class="btn btn-success" id="saveResponse1">Save</button>
					<button type="button" class="btn btn-secondary"
						onclick="forwardObsSubmit()">Send</button>
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>
				<div class="modal-body">
					<input type="hidden" id="obsForward" /> <input type="hidden"
						id="initiateForward" />

					<div class="row">
						<div class="col-md-6">

							<div>To:</div>
							<select id="autocomplete-selectObs" multiple class="chosen-select chosen-sortable">
								<option th:each="c,iter:${empList}" th:value='${c.key}'
									th:text="${c.name}"></option>

							</select> <input type="hidden" id="toHiddenIdObs">
						</div>
						<div class="col-md-6">
							<div>Cc:</div>
							<select id="autocomplete-selectObs1" multiple class="chosen-select chosen-sortable">
								<option th:each="c,iter:${empList}" th:value='${c.key}'
									th:text="${c.name}"></option>

							</select> <input type="hidden" id="CcHiddenIdObs1">

						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<div>Subject:</div>
							<input type="text" id="subjectFrwSec" class="form-control"
								placeholder="Write Your Subject Here....."
								style="width: 100%; height: 40px">
						</div>
					</div>
					<table class="tbllObsForward tblls" id="myTableObsForward"
						width="100%" border="0" cellspacing="1" cellpadding="5">
						<thead>
							<tr>
								<th width="120" align="left">Document Name</th>
								<th width="520" align="left">Upload</th>
								<th width="520" align="left">Comment</th>
								<th align="right">Action</th>
							</tr>
						</thead>
						<tbody id="tbodyDataObsForward">
							<tr class="tr_clone" id="row">
								<td width="300"><input type="text"
									class="form-control forwardObsDocNameCls"
									id="forwardObsDocName_0"></td>
								<td width="320">

									<div class="row" id="rowId_0">
										<div id="row2_0"
											style="text-align: right; padding-left: 50px; padding-top: 10px;">
											<div class="text forwardObsImgCls" id="forwardObsImg_0"></div>
										</div>

										<div class="upload-btn-wrapper">
											<label class="custom-file-upload" for="mulDocAtta"><i
												class="fa fa-cloud-upload"></i>Document</label> <input type="file"
												class="mulDocObsForward" id="docObsForward_0"
												style="display: block;"
												onchange="saveFileAssign(event);checkImageFormat(this);">
										</div>
									</div>



								</td>
								<td width="300"><textarea
										class="form-control forwardObsCommentCls"
										id="forwardObsComment_0" autocomplete="on"></textarea></td>
								<td align="Right" width="200">
									<button type="button" class="btn btn-primary tr_clone_add"
										name="add" onclick="moreObsForwardCheck();">
										<span class="ti-plus"></span>
									</button>
								</td>
							</tr>
						</tbody>
					</table>
					<div class="form-group">
						<label>Comment :</label>
						<div class="box-body pad">
							<textarea id="forwardObsComment" class="form-control textarea"
								name="forwardObsComment" rows="10" cols="80" autocomplete="on">
                                             </textarea>
						</div>
					</div>
				</div>

			</div>
		</div>
	</div>
	<!--   <forward to Auditor> -->

	<div id="forwardToAuditor" class="modal fade" role="dialog">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title" id="modal-title-id">Forward</h4>
					<button type="button" class="close" data-dismiss="modal">
						<i class="fa fa-close fa-2x" style="color: #FFF; cursor: pointer;"></i>
					</button>
				</div>
				<div>
					<span id="buttonName"></span>
					<button type="submit" class="btn btn-success" id="saveResponse2"
						value="Save">Save</button>
					<button type="button" class="btn btn-secondary"
						onclick="forwardByCoToOther()">Send</button>
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>
				<div class="modal-body">
					<input type="hidden" id="auditorForwardToOther" /> <input
						type="hidden" id="initiateForward" />

					<div class="row">
						<div class="col-md-6">

							<div>To:</div>
							<select id="autocomplete-select81" multiple class="chosen-select chosen-sortable">
								<option th:each="c,iter:${empList}" th:value='${c.key}'
									th:text="${c.name}"></option>

							</select> <input type="hidden" id="toHiddenId7">
						</div>
						<div class="col-md-6">
							<div>Cc:</div>
							<select id="autocomplete-select82" multiple class="chosen-select chosen-sortable">
								<option th:each="c,iter:${empList}" th:value='${c.key}'
									th:text="${c.name}"></option>

							</select> <input type="hidden" id="CcHiddenId7">

						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<div>Subject:</div>
							<input type="text" id="subjectFrwToOther" class="form-control"
								placeholder="Write Your Subject Here....."
								style="width: 100%; height: 40px">
						</div>
					</div>
					<table class="tbllAuditor tblls" id="myTableAuditor" width="100%"
						border="0" cellspacing="1" cellpadding="5">
						<thead>
							<tr>
								<th width="120" align="left">Document Name</th>
								<th width="520" align="left">Upload</th>
								<th width="520" align="left">Comment</th>
								<th align="right">Action</th>
							</tr>
						</thead>
						<tbody id="tbodyDataAuditor">
							<tr class="tr_clone" id="row">
								<td width="300"><input type="text"
									class="form-control AuditorDocNameCls" id="AuditorDocName_0">
								</td>
								<td width="320">

									<div class="row" id="rowId_0">
										<div id="row2_0"
											style="text-align: right; padding-left: 50px; padding-top: 10px;">
											<div class="text AuditorImgCls" id="AuditorImg_0"></div>
										</div>

										<div class="upload-btn-wrapper">
											<label class="custom-file-upload" for="mulDocAtta"><i
												class="fa fa-cloud-upload"></i>Document</label> <input type="file"
												class="mulDocAuditor" id="docAuditor_0"
												style="display: block;"
												onchange="saveFileAssign(event);checkImageFormat(this);">
										</div>
									</div>



								</td>
								<td width="300"><textarea
										class="form-control AuditorCommentCls" id="AuditorComment_0"
										autocomplete="on"></textarea></td>
								<td align="Right" width="200">
									<button type="button" class="btn btn-primary tr_clone_add"
										name="add" onclick="moreForwardToAuditorCheck();">
										<span class="ti-plus"></span>
									</button>
								</td>
							</tr>
						</tbody>
					</table>
					<div class="form-group">
						<label>Comment :</label>
						<div class="box-body pad">
							<textarea id="AuditorComment" class="form-control textarea"
								name="AuditorComment" rows="10" cols="80" autocomplete="on">
                                             </textarea>
						</div>
					</div>
				</div>

			</div>
		</div>
	</div>
	<!-- Modal  auditorForward -->
	<div id="auditorForward" class="modal fade" role="dialog">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title" id="modal-title-id">Forward</h4>
					<button type="button" class="close" data-dismiss="modal">
						<i class="fa fa-close fa-2x" style="color: #FFF; cursor: pointer;"></i>
					</button>
				</div>
				<div>
					<button type="button" class="btn btn-secondary"
						onclick="auditorForwardSubmit();">Send</button>
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>

				<div class="modal-body">
					<div class="row">
						<div class="col-md-6">

							<div>To:</div>
							<select id="autocomplete-select141" multiple class="chosen-select chosen-sortable">
								<option th:each="c,iter:${empList}" th:value='${c.key}'
									th:text="${c.name}"></option>

							</select> <input type="hidden" id="toHiddenId13">
						</div>
						<div class="col-md-6">
							<div>Cc:</div>
							<select id="autocomplete-select142" multiple class="chosen-select chosen-sortable">
								<option th:each="c,iter:${empList}" th:value='${c.key}'
									th:text="${c.name}"></option>

							</select> <input type="hidden" id="CcHiddenId13">

						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<div>Subject:</div>
							<input type="text" id="subjectAudiObs" class="form-control"
								placeholder="Write Your Subject Here....."
								style="width: 100%; height: 40px">
						</div>
					</div>
					<table class="tbllDirectAuditor tblls" id="myTableDirectAuditor"
						width="100%" border="0" cellspacing="1" cellpadding="5">
						<thead>
							<tr>
								<th width="120" align="left">Document Name</th>
								<th width="520" align="left">Upload</th>
								<th width="520" align="left">Comment</th>
								<th align="right">Action</th>
							</tr>
						</thead>
						<tbody id="tbodyDataDirectAuditor">
							<tr class="tr_clone" id="row">
								<td width="300"><input type="text"
									class="form-control DirectAuditorDocNameCls"
									id="DirectAuditorDocName_0"></td>
								<td width="320">

									<div class="row" id="rowId_0">
										<div id="row2_0"
											style="text-align: right; padding-left: 50px; padding-top: 10px;">
											<div class="text DirectAuditorImgCls" id="DirectAuditorImg_0"></div>
										</div>

										<div class="upload-btn-wrapper">
											<label class="custom-file-upload" for="mulDocAtta"><i
												class="fa fa-cloud-upload"></i>Document</label> <input type="file"
												class="mulDocDirectAuditor" id="docDirewctAuditor_0"
												style="display: block;"
												onchange="saveFileAssign(event);checkImageFormat(this);">
										</div>
									</div>



								</td>
								<td width="300"><textarea
										class="form-control DirectAuditorCommentCls"
										id="DirectAuditorComment_0" autocomplete="on"></textarea></td>
								<td align="Right" width="200">
									<button type="button" class="btn btn-primary tr_clone_add"
										name="add" onclick="moreForwardDirectCheck();">
										<span class="ti-plus"></span>
									</button>
								</td>
							</tr>
						</tbody>
					</table>

					<div class="form-group">
						<label>Comment :</label>
						<div class="box-body pad">
							<input type="hidden" id="auditorForwardAudit">
							<div class="box-body pad">
								<textarea id="auditorForwardComment"
									name="auditorForwardComment" rows="10" cols="80"
									autocomplete="on">
                                                </textarea>
							</div>
						</div>
					</div>
				</div>

			</div>
		</div>
	</div>
	<!-- forward By co-ordinator -->
	<div id="forwardSubmit" class="modal fade" role="dialog">
		<div class="modal-dialog">
			<!-- Modal content-->
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h4 class="modal-title">Forward</h4>
				</div>
				<div class="modal-body">
					<input type="hidden" id="forwardSubmitAudit">
					<div class="box-body pad">
						<textarea id="coFrdCommnt" name="coFrdCommnt" rows="10" cols="80"
							autocomplete="on">
                                          </textarea>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-primary" data-dismiss="modal"
						onclick="coordinatorForwardSubmit();">forward</button>
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>


	<!--    <modal Start> -->


	<div id="rejectByCo" class="modal fade" role="dialog">
		<div class="modal-dialog">
			<!-- Modal content-->
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title" id="modal-title-id">Write Here</h4>
					<button type="button" class="close" data-dismiss="modal">
						<i class="fa fa-close fa-2x"></i>
					</button>
				</div>
				<div class="" id="buttonName">
					<button type="button" class="btn btn-secondary"
						onclick="rejectRequisition()">Send Back</button>
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>
				<div class="modal-body">
					<input type="hidden" id="auditCo"> <input type="hidden"
						id="rejectCo">
					<div class="row">
						<div class="col-md-6">

							<div>To:</div>
							<select id="autocomplete-select121" multiple class="chosen-select chosen-sortable">
								<option th:each="c,iter:${empList}" th:value='${c.key}'
									th:text="${c.name}"></option>

							</select> <input type="hidden" id="toHiddenId11">
						</div>
						<div class="col-md-6">
							<div>Cc:</div>
							<select id="autocomplete-select122" multiple class="chosen-select chosen-sortable">
								<option th:each="c,iter:${empList}" th:value='${c.key}'
									th:text="${c.name}"></option>

							</select> <input type="hidden" id="CcHiddenId11">

						</div>
					</div>



					<table class="tbllRejectByCo tblls" id="myTableRejectByCo"
						width="100%" border="0" cellspacing="1" cellpadding="5">
						<thead>
							<tr>
								<th width="120" align="left">Document Name</th>
								<th width="520" align="left">Upload Document</th>
								<th width="520" align="left">Comment</th>
								<th align="right">Action</th>
							</tr>
						</thead>
						<tbody id="tbodyDataRejectByCo">
							<tr class="tr_clone" id="row">
								<td width="300"><input type="text"
									class="form-control RejectByCoDocNameCls"
									id="RejectByCoDocName_0"></td>
								<td width="320">

									<div class="row" id="rowId_0">
										<div id="row2_0"
											style="text-align: right; padding-left: 50px; padding-top: 10px;">
											<div class="text docRejectByCoCls" id="docRejectByCo_0"></div>
										</div>

										<div class="upload-btn-wrapper">
											<label class="custom-file-upload" for="mulDocAtta"><i
												class="fa fa-cloud-upload"></i>Document</label> <input type="file"
												class="mulRejectByCo" id="muldocRejectByCo_0"
												style="display: block;"
												onchange="saveFileAssign(event);checkImageFormat(this);">
										</div>
									</div>

								</td>
								<td width="300"><textarea
										class="form-control RejectByCoCommentCls"
										id="RejectByCoComment_0" autocomplete="on"></textarea></td>
								<td align="Right" width="200">
									<button type="button" class="btn btn-primary tr_clone_add"
										name="add" onclick="moreRejectByCoCheck();">
										<span class="ti-plus"></span>
									</button>
								</td>
							</tr>
						</tbody>
					</table>

					<div class="form-group">
						<label>Send Back Reason :</label>
						<div class="box-body pad">
							<textarea class="form-control rejectReqCls" id="rejectReqCo"
								rows="4" autocomplete="on"></textarea>
						</div>
					</div>
				</div>

			</div>
		</div>
	</div>
	
	<!-- Modal start -->
	<div id="finalObsModal" class="modal fade" role="dialog">
		<div class="modal-dialog">

			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title" id="modal-title-id">Final Observation</h4>
					<button type="button" class="close" data-dismiss="modal">
						<i class="fa fa-close fa-2x" style="color: #FFF; cursor: pointer;"></i>
					</button>
				</div>
				<div class="" style="margin: 15px 0px 0px 15px;">
					<span id="buttonName"></span>
					<button type="submit" class="btn btn-success" id="saveResponse01">Save</button>

					<button type="button" class="btn btn-secondary"
						onclick="giveFinalObs()">Send</button>

					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>
				<div class="modal-body">

					<div class="row">
						<div class="col-md-6">

							<div class="heading">To:</div>
							<select id="autocomplete-selectFin" multiple class="chosen-select chosen-sortable">
								<option th:each="c,iter:${empList}" th:value='${c.key}'
									th:text="${c.name}"></option>

							</select> <input type="hidden" id="toHiddenIdFin">
						</div>
						<div class="col-md-6">
							<div class="heading">Cc:</div>
							<select id="autocomplete-selectFin1" multiple class="chosen-select chosen-sortable">
								<option th:each="c,iter:${empList}" th:value='${c.key}'
									th:text="${c.name}"></option>

							</select> <input type="hidden" id="CcHiddenIdFin">

						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<div class="heading">Subject:</div>
							<input type="text" id="subjectFin" class="form-control"
								placeholder="Write Your Subject Here....."
								style="width: 100%; height: 40px">


						</div>
					</div>
					<table class="tbllFinForward tblls" id="myTableFin" width="100%"
						border="0" cellspacing="1" cellpadding="5">
						<thead>
							<tr>
								<th width="120" align="left">Document Name</th>
								<th width="520" align="left">Upload Document</th>
								<th width="520" align="left">Comment</th>
								<th align="right">Action</th>
							</tr>
						</thead>
						<tbody id="tbodyDataForwardFin">
							<tr class="tr_clone" id="row">
								<td width="300"><input type="text"
									class="form-control forwardFinDocNameCls"
									id="forwardFinDocName_0"></td>
								<td width="320">

									<div class="row" id="rowId_0">
										<div id="row2_0"
											style="text-align: right; padding-left: 50px; padding-top: 10px;">
											<div class="text docFinFwdCls" id="docFinfwd_0"></div>
										</div>

										<div class="upload-btn-wrapper">
											<label class="custom-file-upload" for="mulDocAtta"><i
												class="fa fa-cloud-upload"></i>Document</label> <input type="file"
												class="mulDocFinForward" id="docFinForward_0"
												style="display: block;"
												onchange="saveFileAssign(event);checkImageFormat(this);">
										</div>
									</div>

								</td>
								<td width="300"><textarea
										class="form-control forwardFinCommentCls"
										id="forwardFinComment_0" autocomplete="on"></textarea></td>
								<td align="Right" width="200">
									<button type="button" class="btn btn-primary tr_clone_add"
										name="add" onclick="moreFinForwardCheck();">
										<span class="ti-plus"></span>
									</button>
								</td>
							</tr>
						</tbody>
					</table>
					<input type="hidden" id="initiateIdFinal" />
					<div class="form-group">
						<label>Risk Rating:</label>
						<div class="box-body pad">
							<select class="form-control" id="riskRatting">
								<option value=null>Select</option>
								<option value='1'>Blocker</option>
								<option value='2'>High</option>
								<option value='3'>Medium</option>
								<option value='4'>Low</option>
							</select>
						</div>
					</div>
					<div class="form-group">
						<label>Comment :</label>
						<div class="box-body pad">
							<textarea id="finalObs" name="finalObs"
								class="form-control textarea" rows="10" cols="80"></textarea>
						</div>
					</div>

				</div>

			</div>
		</div>
	</div>


	<!-- Modal End -->
	<div id="revert" class="modal fade" role="dialog">
		<div class="modal-dialog">
			<!-- Modal content-->
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title" id="modal-title-id">Revert Back</h4>
					<button type="button" class="close" data-dismiss="modal">
						<i class="fa fa-close fa-2x" style="color: #FFF; cursor: pointer;"></i>
					</button>
				</div>
				<div>
					<button type="button" class="btn btn-success" id="saverevert">Save</button>
					<button type="button" class="btn btn-secondary"
						onclick="revertRequest()">Send</button>
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>
				<input type="hidden" id="reqId">

				<div class="modal-body">
					<div class="row">
						<div class="col-md-6">
							<div>To:</div>
							<select id="autocomplete-selectRevert" multiple class="chosen-select chosen-sortable">
								<option th:each="c,iter:${empList}" th:value='${c.key}'
									th:text="${c.name}"></option>

							</select> <input type="hidden" id="toRevertId">

						</div>
						<div class="col-md-6">
							<div>Cc:</div>
							<select id="autocomplete-selectRevert1" multiple class="chosen-select chosen-sortable">
								<option th:each="c,iter:${empList}" th:value='${c.key}'
									th:text="${c.name}"></option>

							</select> <input type="hidden" id="ccRevertId">


						</div>

					</div>
					<div class="row">
						<div class="col-md-12">
							<div>Subject:</div>
							<input type="text" id="subjectRevert" class="form-control"
								placeholder="Write Your Subject Here....."
								style="width: 100%; height: 40px">


						</div>
					</div>

					<div style="overflow-y: scroll; height: 100px;">
						<table class="tbllRevert tblls" id="myTableRevert" width="100%"
							border="0" cellspacing="0" cellpadding="0">
							<thead>
								<tr>
									<th width="120" align="left">Document Name</th>
									<th width="520" align="left">Upload</th>
									<th width="520" align="left">Comment</th>
									<th align="right">Action</th>
								</tr>
							</thead>
							<tbody id="tbodyDataRevert">
								<tr class="tr_clone" id="row">
									<td width="300"><input type="text"
										class="form-control revertDocName" id="revertDocName_0">
									</td>
									<td width="320">


										<div class="row" id="rowId_0">
											<div id="row2_0"
												style="text-align: right; padding-left: 50px; padding-top: 10px;">
												<div class="text revertDocImgCls" id="revertImgDoc_0"></div>
											</div>

											<div class="upload-btn-wrapper">
												<label class="custom-file-upload" for="mulDocAtta"><i
													class="fa fa-cloud-upload"></i>Document</label> <input type="file"
													class="mulRevertDoc" id="docRevert_0"
													style="display: block;"
													onchange="saveFileAssign(event);checkImageFormat(this);">


											</div>

										</div>

									</td>
									<td width="300"><textarea
											class="form-control revertCommentCls" id="revertComment_0"
											autocomplete="on"></textarea></td>
									<td align="Right" width="200">
										<button type="button" class="btn btn-primary tr_clone_add"
											name="add" onclick="addMoreRevertCheck();">
											<span class="ti-plus"></span>
										</button>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
					<div class="form-group">
						<div>
							<strong>Comment :</strong>
						</div>
						<div>
							<textarea id="revertComment" name="editor1" rows="10" cols="80"
								autocomplete="on">
                                            
                                             </textarea>
						</div>
					</div>
				</div>

			</div>
		</div>
	</div>
</html>